{"version":3,"sources":["../node_modules/@splidejs/splide/dist/js/splide.esm.js","../node_modules/@fancyapps/ui/src/shared/utils/isPlainObject.js","../node_modules/@fancyapps/ui/src/shared/utils/extend.js","../node_modules/@fancyapps/ui/src/shared/utils/canUseDOM.js","../node_modules/@fancyapps/ui/src/shared/utils/resolve.js","../node_modules/@fancyapps/ui/src/shared/Base/Base.js","../node_modules/@fancyapps/ui/src/shared/utils/round.js","../node_modules/@fancyapps/ui/src/shared/utils/ResizeObserver.js","../node_modules/@fancyapps/ui/src/shared/utils/clearTextSelection.js","../node_modules/@fancyapps/ui/src/shared/utils/PointerTracker.js","../node_modules/@fancyapps/ui/src/shared/utils/isScrollable.js","../node_modules/@fancyapps/ui/src/shared/utils/getTextNodeFromPoint.js","../node_modules/@fancyapps/ui/src/shared/utils/getDimensions.js","../node_modules/@fancyapps/ui/src/Panzoom/plugins/index.js","../node_modules/@fancyapps/ui/src/Panzoom/Panzoom.js","../node_modules/@fancyapps/ui/src/shared/utils/throttle.js","../node_modules/@fancyapps/ui/src/Carousel/plugins/Navigation/Navigation.js","../node_modules/@fancyapps/ui/src/Carousel/plugins/Dots/Dots.js","../node_modules/@fancyapps/ui/src/Carousel/plugins/Sync/Sync.js","../node_modules/@fancyapps/ui/src/Carousel/plugins/index.js","../node_modules/@fancyapps/ui/src/Carousel/l10n/en.js","../node_modules/@fancyapps/ui/src/Carousel/Carousel.js","../node_modules/@fancyapps/ui/src/Fancybox/plugins/ScrollLock/ScrollLock.js","../node_modules/@fancyapps/ui/src/Fancybox/plugins/Thumbs/Thumbs.js","../node_modules/@fancyapps/ui/src/Fancybox/plugins/Html/Html.js","../node_modules/process/browser.js","../node_modules/@fancyapps/ui/src/Fancybox/plugins/Image/Image.js","../node_modules/@fancyapps/ui/src/Fancybox/plugins/Hash/Hash.js","../node_modules/@fancyapps/ui/src/shared/utils/Fullscreen.js","../node_modules/@fancyapps/ui/src/shared/utils/Slideshow.js","../node_modules/@fancyapps/ui/src/Fancybox/plugins/Toolbar/Toolbar.js","../node_modules/@fancyapps/ui/src/Fancybox/plugins/index.js","../node_modules/@fancyapps/ui/src/Fancybox/l10n/en.js","../node_modules/@fancyapps/ui/src/Fancybox/Fancybox.js","scss/pages/product.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["PROJECT_CODE","DATA_ATTRIBUTE","CREATED","MOUNTED","IDLE","MOVING","DESTROYED","STATES","DEFAULT_EVENT_PRIORITY","DEFAULT_USER_EVENT_PRIORITY","empty","array","length","isObject","subject","isNull","isArray","Array","isFunction","isString","isUndefined","isHTMLElement","HTMLElement","toArray","value","forEach","values","iteratee","includes","indexOf","push","items","arrayProto","prototype","slice","arrayLike","start","end","call","find","predicate","filter","toggleClass","elm","classes","add","name","classList","addClass","split","append","parent","children","appendChild","bind","before","nodes","ref","node","parentNode","insertBefore","matches","selector","child","firstElementChild","forOwn","object","right","keys","Object","reverse","i","key","assign","arguments","source","merge","removeAttribute","attrs","attr","setAttribute","value2","String","create","tag","document","createElement","style","prop","getComputedStyle","style2","display","display2","focus","preventScroll","getAttribute","hasClass","className","contains","rect","target","getBoundingClientRect","remove","removeChild","measure","div","width","parseHtml","html","DOMParser","parseFromString","body","prevent","e","stopPropagation","preventDefault","stopImmediatePropagation","query","querySelector","queryAll","querySelectorAll","removeClass","unit","assert","condition","message","Error","nextTick","callback","setTimeout","noop","raf","func","requestAnimationFrame","min","max","floor","ceil","abs","Math","approximatelyEqual","x","y","epsilon","between","number","minOrMax","maxOrMin","exclusive","minimum","maximum","clamp","sign","camelToKebab","string","replace","toLowerCase","format","replacements","replacement","pad","ids","uniqueId","prefix","EventBus","handlers","on","events","priority","forEachEvent","event","namespace","_event","_callback","_namespace","_priority","_key","sort","handler1","handler2","off","eventHandlers","handler","offBy","emit","apply","destroy","join","eventNS","fragments","EVENT_MOUNTED","EVENT_READY","EVENT_MOVE","EVENT_MOVED","EVENT_SHIFTED","EVENT_CLICK","EVENT_ACTIVE","EVENT_INACTIVE","EVENT_VISIBLE","EVENT_HIDDEN","EVENT_SLIDE_KEYDOWN","EVENT_REFRESH","EVENT_UPDATED","EVENT_RESIZE","EVENT_RESIZED","EVENT_REPOSITIONED","EVENT_DRAG","EVENT_DRAGGING","EVENT_DRAGGED","EVENT_SCROLL","EVENT_SCROLLED","EVENT_DESTROY","EVENT_ARROWS_MOUNTED","EVENT_ARROWS_UPDATED","EVENT_PAGINATION_MOUNTED","EVENT_PAGINATION_UPDATED","EVENT_NAVIGATION_MOUNTED","EVENT_AUTOPLAY_PLAY","EVENT_AUTOPLAY_PLAYING","EVENT_AUTOPLAY_PAUSE","EVENT_LAZYLOAD_LOADED","EventInterface","Splide2","listeners","targets","options","event2","addEventListener","unbind","listener","removeEventListener","data","RequestInterval","interval","onInterval","onUpdate","limit","now","Date","startTime","rate","id","paused","count","update","elapsed","pause","resume","cancel","rewind","cancelAnimationFrame","set","time","isPaused","State","initialState","state","is","states","Throttle","duration","throttled","Options","Components2","throttledObserve","observe","initialOptions","points","currPoint","setup","JSON","parse","root","breakpoints","isMin","mediaQuery","n","m","map","point","matchMedia","mount","completely","item","item2","onMatch","newOptions","RTL","TTB","ORIENTATION_MAP","marginRight","autoWidth","fixedWidth","paddingLeft","paddingRight","left","X","Y","ArrowLeft","ArrowRight","Direction","resolve","axisOnly","direction","index","orient","CLASS_ROOT","CLASS_SLIDER","CLASS_TRACK","CLASS_LIST","CLASS_SLIDE","CLASS_CLONE","CLASS_CONTAINER","CLASS_ARROWS","CLASS_ARROW","CLASS_ARROW_PREV","CLASS_ARROW_NEXT","CLASS_PAGINATION","CLASS_PAGINATION_PAGE","CLASS_PROGRESS","CLASS_PROGRESS_BAR","CLASS_AUTOPLAY","CLASS_PLAY","CLASS_PAUSE","CLASS_SPINNER","CLASS_INITIALIZED","CLASS_ACTIVE","CLASS_PREV","CLASS_NEXT","CLASS_VISIBLE","CLASS_LOADING","STATUS_CLASSES","CLASSES","slide","clone","arrows","arrow","prev","next","pagination","page","spinner","Elements","elements","slides","slider","track","list","collect","identify","getClasses","refresh","autoplay","bar","play","type","drag","isNavigation","ROLE","ARIA_CONTROLS","ARIA_CURRENT","ARIA_LABEL","ARIA_HIDDEN","TAB_INDEX","DISABLED","ARIA_ORIENTATION","ALL_ATTRIBUTES","SLIDE","LOOP","FADE","Slide$1","slideIndex","destroyEvents","Components","updateOnMove","styles","isClone","container","focusableNodes","destroyed","self","initNavigation","onMove","idx","label","i18n","slideX","controls","splides","splide","updateActivity","isActive","currIndex","updateVisibility","isVisible","active","visible","ariaHidden","slideFocus","style$1","useContainer","curr","cloneStatus","trackRect","slideRect","isWithin","from","distance","diff","Slides","Slides2","init","Slide1","Slide2","register","forEach$1","get","excludeClones","getIn","Controller","toIndex","hasFocus","perPage","getAt","observeImages","remove$1","matcher","images","img","getLength","isEnough","Layout","vertical","rootRect","window","resize","cssPadding","newRect","height","cssTrackHeight","gap","cssSlideWidth","setSlidesHeight","cssSlideHeight","padding","cssHeight","heightRatio","cssSlideSize","fixedHeight","autoHeight","listSize","slideSize","withoutGap","Slide","getGap","totalSize","sliderSize","parseFloat","getPadding","Clones","clones","cloneCount","computeCloneCount","generate","isHead","cloneDeep","cloneNode","clones2","fixedSize","fixedCount","baseCount","flickMaxPages","Move","Transition","reposition","isBusy","Scroll","jump","move","dest","position","getPosition","translate","shift","trimSpace","go","toPosition","preventLoop","destination","loop","transform","exceededMin","exceededLimit","exceededMax","backwards","excess","getLimit","size","minDistance","Infinity","trimming","offset","trim","getEnd","waitForTransition","isLoop","isSlide","prevIndex","slideCount","perMove","control","allowSameIndex","useScroll","scroll","speed","setIndex","useIndex","snap","toDest","indicator","match","computeDestIndex","getNext","getPrev","getAdjacent","incremental","toPage","closest","getIndex","XML_NAME_SPACE","PATH","SIZE","Arrows","wrapper","created","createArrows","listen","createArrow","prev2","arrowPath","nextIndex","prevLabel","last","nextLabel","first","disabled","INTERVAL_DATA_ATTRIBUTE","Autoplay","hovered","focused","initButton","forPause","button","pauseOnHover","autoToggle","pauseOnFocus","updateInterval","resetProgress","manual","Cover","cover","toggle","src","BOUNCE_DIFF_THRESHOLD","BOUNCE_DURATION","FRICTION_FACTOR","BASE_VELOCITY","MIN_DURATION","scrollCallback","clear","suppressConstraint","friction","computeDuration","onScrolled","easing","bounce","t","easingFunc","pow","SCROLL_LISTENER_OPTIONS","passive","capture","FRICTION","LOG_INTERVAL","POINTER_DOWN_EVENTS","POINTER_MOVE_EVENTS","POINTER_UP_EVENTS","Drag","basePosition","baseEvent","prevBaseEvent","lastEvent","isFree","dragging","hasExceeded","clickPrevented","onPointerDown","onClick","disable","noDrag","isTouch","isTouchEvent","isDraggable","onPointerMove","onPointerUp","save","cancelable","coordOf","constrain","expired","timeOf","exceeded","dragMinThreshold","thresholds","mouse","touch","isSliderDirection","velocity","computeVelocity","computeDestination","diffX","diffY","base","diffCoord","diffTime","isFlick","flickPower","orthogonal","touches","timeStamp","TouchEvent","isDragging","IE_ARROW_KEYS","Keyboard","onUpdated","keyboard","onKeydown","normalizedKey","SRC_DATA_ATTRIBUTE","SRCSET_DATA_ATTRIBUTE","IMAGE_SELECTOR","LazyLoad","isSequential","lazyLoad","_Slide","_img","srcset","parentElement","_spinner","loadNext","preloadPages","load","onLoad","error","Pagination","createPagination","li","class","text","pageX","TRIGGER_KEYS","Sync","isParent","sync","navigate","remount","instance","Wheel","wheel","onWheel","deltaY","shouldPrevent","releaseWheel","ComponentConstructors","freeze","__proto__","I18N","DEFAULTS","Fade","done","endCallback","getSpeed","rewindSpeed","transition","_Splide","constructor","_options","_Extensions","defaults","Extensions","_Components","_Transition","Constructors","Component","component","Splide","CLASS_RENDERED","RENDERER_DEFAULT_CONFIG","listTag","slideTag","Style","rule","breakpoint","selectors","build","css","default","buildSelectors","SplideRenderer","contents","config","clean","parseBreakpoints","initSlides","registerRootStyles","registerTrackStyles","registerSlideStyles","registerListStyles","content","buildStyles","generateClones","Style2","buildTranslate","cssAspectRatio","cssOffsetClones","cssOffsetGaps","isCenter","buildCssValue","cssOffsetCenter","Boolean","getCloneCount","isFixedWidth","unit2","parseCssValue","percent","gapOffset","gaps","isVertical","buildClasses","hidden","buildAttrs","renderSlides","background","unshift","options2","renderArrows","renderArrow","ariaLabel","rootClass","beforeTrack","afterTrack","beforeSlider","afterSlider","isPlainObject","obj","toString","extend","args","deep","result","extenders","len","extender","hasOwnProperty","canUseDOM","path","reduce","Base","plugins","entries","option","fallback","rest","undefined","localize","str","params","subkey","rez","substring","once","details","_","splice","trigger","attachPlugins","newPlugins","Plugin","plugin","attach","detachPlugins","detach","round","precision","Number","EPSILON","ResizeObserver","observables","boundCheck","check","el","some","observable","newObservable","clientHeight","clientWidth","unobserve","disconnect","changedEntries","currentHeight","currentWidth","clearTextSelection","selection","getSelection","rangeCount","getRangeAt","getClientRects","removeAllRanges","Pointer","nativePointer","pointerId","identifier","pageY","clientX","clientY","getDistance","a","b","sqrt","getMidpoint","PointerTracker","element","startPointers","currentPointers","startCallback","moveCallback","onStart","pointer","capturingElement","setPointerCapture","onEnd","previousPointers","trackedChangedPointers","findIndex","p","stop","hasScrollbars","overflowY","overflowX","scrollHeight","horizontal","scrollWidth","isScrollable","Element","getTextNodeFromPoint","childNodes","range","createRange","nodeType","Node","TEXT_NODE","selectNodeContents","top","bottom","getFullWidth","elem","naturalWidth","baseVal","offsetWidth","getFullHeight","naturalHeight","offsetHeight","calculateAspectRatioFit","srcWidth","srcHeight","maxWidth","maxHeight","ratio","Plugins","zoom","pinchToZoom","panOnlyZoomed","lockAxis","decelFriction","zoomFriction","bounceForce","baseScale","minScale","maxScale","step","textSelection","click","wheelFactor","wheelLimit","draggableClass","draggingClass","Panzoom","$container","methodName","initLayout","resetValues","updateMetrics","attachEvents","panTo","$content","$viewport","updateRate","test","navigator","userAgent","viewport","origHeight","origWidth","scale","resetDragPosition","defaultPrevented","dragPosition","midPoint","dragStart","zoomWithClick","zoomWithWheel","changedDelta","delta","deltaX","wheelDelta","detail","newScale","zoomTo","toggleZoom","initObserver","pointerTracker","ignoreClickedElement","nodeName","prevMidpoint","newMidpoint","panX","panY","prevDistance","newDistance","scaleDiff","dragOffset","axisToLock","angle","atan2","PI","startPoint","xPos","yPos","getZoomDelta","setDragResistance","startAnimation","_dragOffset","recalculateTransform","resizeObserver","updateTimer","isAnimating","endAnimation","silently","contentIsImage","HTMLImageElement","contentIsZoomable","shouldResizeParent","contentRect","viewportRect","containerRect","viewportWidth","viewportHeight","viewportStyles","paddingTop","paddingBottom","fitWidth","fitHeight","isZoomable","zoomIn","zoomOut","props","currentScale","percentXInCurrentBox","percentYInCurrentBox","nextWidth","nextHeight","ignoreBounds","boundX","boundY","getBounds","to","rAF","animate","setEdgeForce","setDragForce","setTransform","deltaX1","deltaX2","deltaY1","deltaY2","pastLeft","pastRight","pastTop","pastBottom","bound","force","restX","restY","final","handleCursor","detachEvents","clearTimeout","version","throttle","lastCall","getTime","prevTpl","nextTpl","classNames","main","Navigation","carousel","$prev","$next","onRefresh","createButton","$btn","toUpperCase","innerHTML","pageCount","pages","elemDimWidth","wrapDimWidth","isInteger","cleanup","minSlideCount","Dots","$list","change","onChange","buildList","dataset","parseInt","slideTo","removeList","rebuildDots","listExists","pagesCount","dotCount","lastChild","$dot","code","$el","nextSibling","previousSibling","setActiveDot","$activeDot","selectedIndex","onNavReady","onNavClick","onNavCreateSlide","onTargetChange","addAsTargetFor","nav","addAsNavFor","initialSlide","initialPage","panzoom","clickedNavSlide","selectedNavIndex","selectedSyncPage","findPageForSlide","markSelectedSlide","targetIndex","indexes","selectedNavPage","NEXT","PREV","GOTO","preload","slidesPerPage","center","infinite","fill","dragFree","slideSelected","l10n","en","Carousel","slideNext","slidePrev","pageIndex","prevPage","prevPageIndex","$track","manageSlideVisiblity","initPanzoom","elems","isDom","contentWidth","lastSlideWidth","slideWidth","getSlideMetrics","currentPage","shouldCenter","shouldFill","sum","page2","updatePanzoom","firstSlide","isTestEl","visibility","customClass","prepend","currentStyle","marginLeft","setPage","wrapInner","resizeParent","centerOnStart","afterUpdate","updatePage","beforeTransform","onBeforeTransform","touchEnd","onTouchEnd","currentX","getPropertyValue","leftBoundary","rightBoundary","hasDiff","insideCurrentInterval","insidePrevInterval","insideNextInterval","createSlideEl","removeSlideEl","nextPos","updatedX","markSelectedSlides","curentIndex","$lazyNodes","lazySrc","backgroundImage","allElelements","goal","refSlide","refIndex","selectedClass","manageInfiniteTrack","isFlipped","nextPageIndex","getPageFromPosition","slideToClosest","toClosest","nextPosition","nextInterval","currPosition","decreasedPosition","increasedPosition","diff1","diff2","diff3","ScrollLock","fancybox","pendingUpdate","onReady","visualViewport","startY","onResize","updateViewport","onTouchstart","onTouchmove","offsetLeft","offsetTop","screenY","innerWidth","documentElement","curY","isAtTop","scrollTop","isAtBottom","minScreenHeight","autoStart","Thumbs","prepare","onPrepare","closing","onClosing","keydown","getSlides","$carousel","thumb","hide","show","buildURLQuery","pair","encodeURIComponent","video","youtube","autohide","fs","rel","hd","wmode","enablejsapi","html5","vimeo","show_title","show_byline","show_portrait","fullscreen","html5video","tpl","Html","onInit","ready","onCreateSlide","onRemoveSlide","onSelectSlide","onUnselectSlide","processType","videoId","vendor","charAt","_width","_height","setContent","getSlide","playVideo","loadInlineContent","tmp","getElementById","$placeHolder","attrId","setError","loadAjaxContent","xhr","XMLHttpRequest","showLoading","onreadystatechange","readyState","DONE","hideLoading","status","responseText","open","setRequestHeader","send","ajax","loadIframeContent","$iframe","resizeIframe","onerror","onload","isFirstLoad","isReady","revealContent","setAspectRatio","maxRatio","width_","height_","autoSize","$parent","parentStyle","compStyles","paddingX","paddingY","contentWindow","$html","getElementsByTagName","$body","overflow","flex","newStyle","poster","$video","promise","then","catch","muted","err","poller","command","method","postMessage","stringify","abort","$closeButton","onMessage","origin","getElementsByClassName","ex","process","module","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","run","Item","title","env","argv","versions","addListener","removeListener","removeAllListeners","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","canZoomInClass","canZoomOutClass","zoomOpacity","ignoreCoveredThumbnail","doubleClick","fit","wrap","Image","onDone","onPageChange","clickTimer","$image","canZoom","imageFit","onImageStatusChange","alt","draggable","sizes","shouldWrap","$wrap","complete","initSlidePanzoom","startIndex","getZoomInfo","$thumb","thumbRect","thumbWidth","thumbHeight","contentHeight","shiftedTop","shiftedLeft","opacity","visibleTopLeft","elementFromPoint","visibleBottomRight","$caption","animatePosition","clickAction","touchIsEnabled","zoomInClass","zoomOutClass","canZoomIn","close","action","dblclickAction","currSlide","getParsedURL","hash","location","substr","pop","slug","Hash","initCarousel","hasCreatedHistory","origHash","timer","firstRun","$trigger","currentHash","newHash","dataAttribute","history","pathname","search","hasSilentClose","replaceState","back","startFromUrl","Fancybox","getInstance","selectedElem","dispatchEvent","CustomEvent","bubbles","groupElems","onHashChange","proceed","Fullscreen","pageXOffset","pageYOffset","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","activate","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","deactivate","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","Slideshow","handleVisibilityChange","setTimer","delay","jumpTo","$progress","transitionDuration","clearTimer","autoEnable","counter","tabindex","slideshow","download","thumbs","Toolbar","onSettle","hasImage","closeButton","onFsChange","scrollTo","$svg","all_items","all_groups","fullscreenEnabled","fullScreen","group","cnt","downloadSrc","CLOSE","MODAL","ERROR","IMAGE_ERROR","ELEMENT_NOT_FOUND","AJAX_NOT_FOUND","AJAX_FORBIDDEN","IFRAME_ERROR","TOGGLE_ZOOM","TOGGLE_THUMBS","TOGGLE_SLIDESHOW","TOGGLE_FULLSCREEN","DOWNLOAD","showClass","hideClass","animated","hideScrollbar","parentEl","mainClass","autoFocus","trapFocus","placeFocusBack","dragToClose","Escape","Delete","Backspace","PageUp","PageDown","ArrowUp","ArrowDown","template","instances","called","bindHandlers","setItems","onMousedown","onFocus","$root","mainTemplate","insertAdjacentHTML","onscroll","scrollLeft","role","tabIndex","$backdrop","currentSrc","origTarget","caption","infiniteX","infiniteY","createSlide","touchMove","onTouchMove","afterTransform","onTransform","distanceY","setProperty","ctrlKey","altKey","shiftKey","activeElement","isUIElement","ignoreElements","isContentEditable","setFocusOn","ignoreFocusChange","setActive","preventScrollSupported","FOCUSABLE_ELEMENTS","$currentSlide","allFocusableElems","enabledElems","$firstEl","isInsideSlide","offsetParent","origTabindex","hasAttribute","lastFocus","scrollbarWidth","$style","revealScrollbar","clearContent","_className","opts","$fragment","createContextualFragment","suffix","manageCloseButton","firstChild","animateCSS","$element","handleAnimationEnd","currentTarget","currentSlide","$spinner","nextInstance","fromEvent","metaKey","eventTarget","triggerGroupName","fancyboxTrigger","triggerItems","triggerIndex","fancyboxIndex","matchingOpener","openers","opener","found","fromOpener","mapCallback","falseValues","trueValues","groupAttr","groupValue","groupAll","currentInstance","attachClickEvent","delete","fb","Map","all","ProductPreviewSplide","SizePreSelect","checked","UpdateAndSetCSSvars","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","console","hmrApply","v","hmrAcceptRun","reload","onclose","log","removeErrorOverlay","stack","overlay","createErrorOverlay","stackTrace","innerText","getParents","modules","parents","k","d","dep","Function","deps","cached","cache","cb"],"mappings":"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","file":"product.d35fd488.js","sourceRoot":"../src","sourcesContent":["/*!\n * Splide.js\n * Version  : 3.5.8\n * License  : MIT\n * Copyright: 2021 Naotoshi Fujita\n */\nconst PROJECT_CODE = \"splide\";\nconst DATA_ATTRIBUTE = `data-${PROJECT_CODE}`;\n\nconst CREATED = 1;\nconst MOUNTED = 2;\nconst IDLE = 3;\nconst MOVING = 4;\nconst DESTROYED = 5;\nconst STATES = {\n  CREATED,\n  MOUNTED,\n  IDLE,\n  MOVING,\n  DESTROYED\n};\n\nconst DEFAULT_EVENT_PRIORITY = 10;\nconst DEFAULT_USER_EVENT_PRIORITY = 20;\n\nfunction empty(array) {\n  array.length = 0;\n}\n\nfunction isObject(subject) {\n  return !isNull(subject) && typeof subject === \"object\";\n}\nfunction isArray(subject) {\n  return Array.isArray(subject);\n}\nfunction isFunction(subject) {\n  return typeof subject === \"function\";\n}\nfunction isString(subject) {\n  return typeof subject === \"string\";\n}\nfunction isUndefined(subject) {\n  return typeof subject === \"undefined\";\n}\nfunction isNull(subject) {\n  return subject === null;\n}\nfunction isHTMLElement(subject) {\n  return subject instanceof HTMLElement;\n}\n\nfunction toArray(value) {\n  return isArray(value) ? value : [value];\n}\n\nfunction forEach(values, iteratee) {\n  toArray(values).forEach(iteratee);\n}\n\nfunction includes(array, value) {\n  return array.indexOf(value) > -1;\n}\n\nfunction push(array, items) {\n  array.push(...toArray(items));\n  return array;\n}\n\nconst arrayProto = Array.prototype;\n\nfunction slice(arrayLike, start, end) {\n  return arrayProto.slice.call(arrayLike, start, end);\n}\n\nfunction find(arrayLike, predicate) {\n  return slice(arrayLike).filter(predicate)[0];\n}\n\nfunction toggleClass(elm, classes, add) {\n  if (elm) {\n    forEach(classes, (name) => {\n      if (name) {\n        elm.classList[add ? \"add\" : \"remove\"](name);\n      }\n    });\n  }\n}\n\nfunction addClass(elm, classes) {\n  toggleClass(elm, isString(classes) ? classes.split(\" \") : classes, true);\n}\n\nfunction append(parent, children) {\n  forEach(children, parent.appendChild.bind(parent));\n}\n\nfunction before(nodes, ref) {\n  forEach(nodes, (node) => {\n    const parent = ref.parentNode;\n    if (parent) {\n      parent.insertBefore(node, ref);\n    }\n  });\n}\n\nfunction matches(elm, selector) {\n  return isHTMLElement(elm) && (elm[\"msMatchesSelector\"] || elm.matches).call(elm, selector);\n}\n\nfunction children(parent, selector) {\n  return parent ? slice(parent.children).filter((child) => matches(child, selector)) : [];\n}\n\nfunction child(parent, selector) {\n  return selector ? children(parent, selector)[0] : parent.firstElementChild;\n}\n\nfunction forOwn(object, iteratee, right) {\n  if (object) {\n    let keys = Object.keys(object);\n    keys = right ? keys.reverse() : keys;\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i];\n      if (key !== \"__proto__\") {\n        if (iteratee(object[key], key) === false) {\n          break;\n        }\n      }\n    }\n  }\n  return object;\n}\n\nfunction assign(object) {\n  slice(arguments, 1).forEach((source) => {\n    forOwn(source, (value, key) => {\n      object[key] = source[key];\n    });\n  });\n  return object;\n}\n\nfunction merge(object, source) {\n  forOwn(source, (value, key) => {\n    if (isArray(value)) {\n      object[key] = value.slice();\n    } else if (isObject(value)) {\n      object[key] = merge(isObject(object[key]) ? object[key] : {}, value);\n    } else {\n      object[key] = value;\n    }\n  });\n  return object;\n}\n\nfunction removeAttribute(elm, attrs) {\n  if (elm) {\n    forEach(attrs, (attr) => {\n      elm.removeAttribute(attr);\n    });\n  }\n}\n\nfunction setAttribute(elm, attrs, value) {\n  if (isObject(attrs)) {\n    forOwn(attrs, (value2, name) => {\n      setAttribute(elm, name, value2);\n    });\n  } else {\n    isNull(value) ? removeAttribute(elm, attrs) : elm.setAttribute(attrs, String(value));\n  }\n}\n\nfunction create(tag, attrs, parent) {\n  const elm = document.createElement(tag);\n  if (attrs) {\n    isString(attrs) ? addClass(elm, attrs) : setAttribute(elm, attrs);\n  }\n  parent && append(parent, elm);\n  return elm;\n}\n\nfunction style(elm, prop, value) {\n  if (isUndefined(value)) {\n    return getComputedStyle(elm)[prop];\n  }\n  if (!isNull(value)) {\n    const { style: style2 } = elm;\n    value = `${value}`;\n    if (style2[prop] !== value) {\n      style2[prop] = value;\n    }\n  }\n}\n\nfunction display(elm, display2) {\n  style(elm, \"display\", display2);\n}\n\nfunction focus(elm) {\n  elm[\"setActive\"] && elm[\"setActive\"]() || elm.focus({ preventScroll: true });\n}\n\nfunction getAttribute(elm, attr) {\n  return elm.getAttribute(attr);\n}\n\nfunction hasClass(elm, className) {\n  return elm && elm.classList.contains(className);\n}\n\nfunction rect(target) {\n  return target.getBoundingClientRect();\n}\n\nfunction remove(nodes) {\n  forEach(nodes, (node) => {\n    if (node && node.parentNode) {\n      node.parentNode.removeChild(node);\n    }\n  });\n}\n\nfunction measure(parent, value) {\n  if (isString(value)) {\n    const div = create(\"div\", { style: `width: ${value}; position: absolute;` }, parent);\n    value = rect(div).width;\n    remove(div);\n  }\n  return value;\n}\n\nfunction parseHtml(html) {\n  return child(new DOMParser().parseFromString(html, \"text/html\").body);\n}\n\nfunction prevent(e, stopPropagation) {\n  e.preventDefault();\n  if (stopPropagation) {\n    e.stopPropagation();\n    e.stopImmediatePropagation();\n  }\n}\n\nfunction query(parent, selector) {\n  return parent && parent.querySelector(selector);\n}\n\nfunction queryAll(parent, selector) {\n  return slice(parent.querySelectorAll(selector));\n}\n\nfunction removeClass(elm, classes) {\n  toggleClass(elm, classes, false);\n}\n\nfunction unit(value) {\n  return isString(value) ? value : value ? `${value}px` : \"\";\n}\n\nfunction assert(condition, message = \"\") {\n  if (!condition) {\n    throw new Error(`[${PROJECT_CODE}] ${message}`);\n  }\n}\n\nfunction nextTick(callback) {\n  setTimeout(callback);\n}\n\nconst noop = () => {\n};\n\nfunction raf(func) {\n  return requestAnimationFrame(func);\n}\n\nconst { min, max, floor, ceil, abs } = Math;\n\nfunction approximatelyEqual(x, y, epsilon) {\n  return abs(x - y) < epsilon;\n}\n\nfunction between(number, minOrMax, maxOrMin, exclusive) {\n  const minimum = min(minOrMax, maxOrMin);\n  const maximum = max(minOrMax, maxOrMin);\n  return exclusive ? minimum < number && number < maximum : minimum <= number && number <= maximum;\n}\n\nfunction clamp(number, x, y) {\n  const minimum = min(x, y);\n  const maximum = max(x, y);\n  return min(max(minimum, number), maximum);\n}\n\nfunction sign(x) {\n  return +(x > 0) - +(x < 0);\n}\n\nfunction camelToKebab(string) {\n  return string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\n}\n\nfunction format(string, replacements) {\n  forEach(replacements, (replacement) => {\n    string = string.replace(\"%s\", `${replacement}`);\n  });\n  return string;\n}\n\nfunction pad(number) {\n  return number < 10 ? `0${number}` : `${number}`;\n}\n\nconst ids = {};\nfunction uniqueId(prefix) {\n  return `${prefix}${pad(ids[prefix] = (ids[prefix] || 0) + 1)}`;\n}\n\nfunction EventBus() {\n  let handlers = {};\n  function on(events, callback, key, priority = DEFAULT_EVENT_PRIORITY) {\n    forEachEvent(events, (event, namespace) => {\n      handlers[event] = handlers[event] || [];\n      push(handlers[event], {\n        _event: event,\n        _callback: callback,\n        _namespace: namespace,\n        _priority: priority,\n        _key: key\n      }).sort((handler1, handler2) => handler1._priority - handler2._priority);\n    });\n  }\n  function off(events, key) {\n    forEachEvent(events, (event, namespace) => {\n      const eventHandlers = handlers[event];\n      handlers[event] = eventHandlers && eventHandlers.filter((handler) => {\n        return handler._key ? handler._key !== key : key || handler._namespace !== namespace;\n      });\n    });\n  }\n  function offBy(key) {\n    forOwn(handlers, (eventHandlers, event) => {\n      off(event, key);\n    });\n  }\n  function emit(event) {\n    (handlers[event] || []).forEach((handler) => {\n      handler._callback.apply(handler, slice(arguments, 1));\n    });\n  }\n  function destroy() {\n    handlers = {};\n  }\n  function forEachEvent(events, iteratee) {\n    toArray(events).join(\" \").split(\" \").forEach((eventNS) => {\n      const fragments = eventNS.split(\".\");\n      iteratee(fragments[0], fragments[1]);\n    });\n  }\n  return {\n    on,\n    off,\n    offBy,\n    emit,\n    destroy\n  };\n}\n\nconst EVENT_MOUNTED = \"mounted\";\nconst EVENT_READY = \"ready\";\nconst EVENT_MOVE = \"move\";\nconst EVENT_MOVED = \"moved\";\nconst EVENT_SHIFTED = \"shifted\";\nconst EVENT_CLICK = \"click\";\nconst EVENT_ACTIVE = \"active\";\nconst EVENT_INACTIVE = \"inactive\";\nconst EVENT_VISIBLE = \"visible\";\nconst EVENT_HIDDEN = \"hidden\";\nconst EVENT_SLIDE_KEYDOWN = \"slide:keydown\";\nconst EVENT_REFRESH = \"refresh\";\nconst EVENT_UPDATED = \"updated\";\nconst EVENT_RESIZE = \"resize\";\nconst EVENT_RESIZED = \"resized\";\nconst EVENT_REPOSITIONED = \"repositioned\";\nconst EVENT_DRAG = \"drag\";\nconst EVENT_DRAGGING = \"dragging\";\nconst EVENT_DRAGGED = \"dragged\";\nconst EVENT_SCROLL = \"scroll\";\nconst EVENT_SCROLLED = \"scrolled\";\nconst EVENT_DESTROY = \"destroy\";\nconst EVENT_ARROWS_MOUNTED = \"arrows:mounted\";\nconst EVENT_ARROWS_UPDATED = \"arrows:updated\";\nconst EVENT_PAGINATION_MOUNTED = \"pagination:mounted\";\nconst EVENT_PAGINATION_UPDATED = \"pagination:updated\";\nconst EVENT_NAVIGATION_MOUNTED = \"navigation:mounted\";\nconst EVENT_AUTOPLAY_PLAY = \"autoplay:play\";\nconst EVENT_AUTOPLAY_PLAYING = \"autoplay:playing\";\nconst EVENT_AUTOPLAY_PAUSE = \"autoplay:pause\";\nconst EVENT_LAZYLOAD_LOADED = \"lazyload:loaded\";\n\nfunction EventInterface(Splide2) {\n  const { event } = Splide2;\n  const key = {};\n  let listeners = [];\n  function on(events, callback, priority) {\n    event.on(events, callback, key, priority);\n  }\n  function off(events) {\n    event.off(events, key);\n  }\n  function bind(targets, events, callback, options) {\n    forEachEvent(targets, events, (target, event2) => {\n      listeners.push([target, event2, callback, options]);\n      target.addEventListener(event2, callback, options);\n    });\n  }\n  function unbind(targets, events, callback) {\n    forEachEvent(targets, events, (target, event2) => {\n      listeners = listeners.filter((listener) => {\n        if (listener[0] === target && listener[1] === event2 && (!callback || listener[2] === callback)) {\n          target.removeEventListener(event2, listener[2], listener[3]);\n          return false;\n        }\n        return true;\n      });\n    });\n  }\n  function forEachEvent(targets, events, iteratee) {\n    forEach(targets, (target) => {\n      if (target) {\n        events.split(\" \").forEach(iteratee.bind(null, target));\n      }\n    });\n  }\n  function destroy() {\n    listeners = listeners.filter((data) => unbind(data[0], data[1]));\n    event.offBy(key);\n  }\n  event.on(EVENT_DESTROY, destroy, key);\n  return {\n    on,\n    off,\n    emit: event.emit,\n    bind,\n    unbind,\n    destroy\n  };\n}\n\nfunction RequestInterval(interval, onInterval, onUpdate, limit) {\n  const { now } = Date;\n  let startTime;\n  let rate = 0;\n  let id;\n  let paused = true;\n  let count = 0;\n  function update() {\n    if (!paused) {\n      const elapsed = now() - startTime;\n      if (elapsed >= interval) {\n        rate = 1;\n        startTime = now();\n      } else {\n        rate = elapsed / interval;\n      }\n      if (onUpdate) {\n        onUpdate(rate);\n      }\n      if (rate === 1) {\n        onInterval();\n        if (limit && ++count >= limit) {\n          return pause();\n        }\n      }\n      raf(update);\n    }\n  }\n  function start(resume) {\n    !resume && cancel();\n    startTime = now() - (resume ? rate * interval : 0);\n    paused = false;\n    raf(update);\n  }\n  function pause() {\n    paused = true;\n  }\n  function rewind() {\n    startTime = now();\n    rate = 0;\n    if (onUpdate) {\n      onUpdate(rate);\n    }\n  }\n  function cancel() {\n    cancelAnimationFrame(id);\n    rate = 0;\n    id = 0;\n    paused = true;\n  }\n  function set(time) {\n    interval = time;\n  }\n  function isPaused() {\n    return paused;\n  }\n  return {\n    start,\n    rewind,\n    pause,\n    cancel,\n    set,\n    isPaused\n  };\n}\n\nfunction State(initialState) {\n  let state = initialState;\n  function set(value) {\n    state = value;\n  }\n  function is(states) {\n    return includes(toArray(states), state);\n  }\n  return { set, is };\n}\n\nfunction Throttle(func, duration) {\n  let interval;\n  function throttled() {\n    if (!interval) {\n      interval = RequestInterval(duration || 0, () => {\n        func.apply(this, arguments);\n        interval = null;\n      }, null, 1);\n      interval.start();\n    }\n  }\n  return throttled;\n}\n\nfunction Options(Splide2, Components2, options) {\n  const throttledObserve = Throttle(observe);\n  let initialOptions;\n  let points;\n  let currPoint;\n  function setup() {\n    try {\n      merge(options, JSON.parse(getAttribute(Splide2.root, DATA_ATTRIBUTE)));\n    } catch (e) {\n      assert(false, e.message);\n    }\n    initialOptions = merge({}, options);\n    const { breakpoints } = options;\n    if (breakpoints) {\n      const isMin = options.mediaQuery === \"min\";\n      points = Object.keys(breakpoints).sort((n, m) => isMin ? +m - +n : +n - +m).map((point) => [\n        point,\n        matchMedia(`(${isMin ? \"min\" : \"max\"}-width:${point}px)`)\n      ]);\n      observe();\n    }\n  }\n  function mount() {\n    if (points) {\n      addEventListener(\"resize\", throttledObserve);\n    }\n  }\n  function destroy(completely) {\n    if (completely) {\n      removeEventListener(\"resize\", throttledObserve);\n    }\n  }\n  function observe() {\n    const item = find(points, (item2) => item2[1].matches) || [];\n    if (item[0] !== currPoint) {\n      onMatch(currPoint = item[0]);\n    }\n  }\n  function onMatch(point) {\n    const newOptions = options.breakpoints[point] || initialOptions;\n    if (newOptions.destroy) {\n      Splide2.options = initialOptions;\n      Splide2.destroy(newOptions.destroy === \"completely\");\n    } else {\n      if (Splide2.state.is(DESTROYED)) {\n        destroy(true);\n        Splide2.mount();\n      }\n      Splide2.options = newOptions;\n    }\n  }\n  return {\n    setup,\n    mount,\n    destroy\n  };\n}\n\nconst RTL = \"rtl\";\nconst TTB = \"ttb\";\n\nconst ORIENTATION_MAP = {\n  marginRight: [\"marginBottom\", \"marginLeft\"],\n  autoWidth: [\"autoHeight\"],\n  fixedWidth: [\"fixedHeight\"],\n  paddingLeft: [\"paddingTop\", \"paddingRight\"],\n  paddingRight: [\"paddingBottom\", \"paddingLeft\"],\n  width: [\"height\"],\n  left: [\"top\", \"right\"],\n  right: [\"bottom\", \"left\"],\n  x: [\"y\"],\n  X: [\"Y\"],\n  Y: [\"X\"],\n  ArrowLeft: [\"ArrowUp\", \"ArrowRight\"],\n  ArrowRight: [\"ArrowDown\", \"ArrowLeft\"]\n};\nfunction Direction(Splide2, Components2, options) {\n  function resolve(prop, axisOnly) {\n    const { direction } = options;\n    const index = direction === RTL && !axisOnly ? 1 : direction === TTB ? 0 : -1;\n    return ORIENTATION_MAP[prop][index] || prop;\n  }\n  function orient(value) {\n    return value * (options.direction === RTL ? 1 : -1);\n  }\n  return {\n    resolve,\n    orient\n  };\n}\n\nconst CLASS_ROOT = PROJECT_CODE;\nconst CLASS_SLIDER = `${PROJECT_CODE}__slider`;\nconst CLASS_TRACK = `${PROJECT_CODE}__track`;\nconst CLASS_LIST = `${PROJECT_CODE}__list`;\nconst CLASS_SLIDE = `${PROJECT_CODE}__slide`;\nconst CLASS_CLONE = `${CLASS_SLIDE}--clone`;\nconst CLASS_CONTAINER = `${CLASS_SLIDE}__container`;\nconst CLASS_ARROWS = `${PROJECT_CODE}__arrows`;\nconst CLASS_ARROW = `${PROJECT_CODE}__arrow`;\nconst CLASS_ARROW_PREV = `${CLASS_ARROW}--prev`;\nconst CLASS_ARROW_NEXT = `${CLASS_ARROW}--next`;\nconst CLASS_PAGINATION = `${PROJECT_CODE}__pagination`;\nconst CLASS_PAGINATION_PAGE = `${CLASS_PAGINATION}__page`;\nconst CLASS_PROGRESS = `${PROJECT_CODE}__progress`;\nconst CLASS_PROGRESS_BAR = `${CLASS_PROGRESS}__bar`;\nconst CLASS_AUTOPLAY = `${PROJECT_CODE}__autoplay`;\nconst CLASS_PLAY = `${PROJECT_CODE}__play`;\nconst CLASS_PAUSE = `${PROJECT_CODE}__pause`;\nconst CLASS_SPINNER = `${PROJECT_CODE}__spinner`;\nconst CLASS_INITIALIZED = \"is-initialized\";\nconst CLASS_ACTIVE = \"is-active\";\nconst CLASS_PREV = \"is-prev\";\nconst CLASS_NEXT = \"is-next\";\nconst CLASS_VISIBLE = \"is-visible\";\nconst CLASS_LOADING = \"is-loading\";\nconst STATUS_CLASSES = [CLASS_ACTIVE, CLASS_VISIBLE, CLASS_PREV, CLASS_NEXT, CLASS_LOADING];\nconst CLASSES = {\n  slide: CLASS_SLIDE,\n  clone: CLASS_CLONE,\n  arrows: CLASS_ARROWS,\n  arrow: CLASS_ARROW,\n  prev: CLASS_ARROW_PREV,\n  next: CLASS_ARROW_NEXT,\n  pagination: CLASS_PAGINATION,\n  page: CLASS_PAGINATION_PAGE,\n  spinner: CLASS_SPINNER\n};\n\nfunction Elements(Splide2, Components2, options) {\n  const { on } = EventInterface(Splide2);\n  const { root } = Splide2;\n  const elements = {};\n  const slides = [];\n  let classes;\n  let slider;\n  let track;\n  let list;\n  function setup() {\n    collect();\n    identify();\n    addClass(root, classes = getClasses());\n  }\n  function mount() {\n    on(EVENT_REFRESH, refresh, DEFAULT_EVENT_PRIORITY - 2);\n    on(EVENT_UPDATED, update);\n  }\n  function destroy() {\n    [root, track, list].forEach((elm) => {\n      removeAttribute(elm, \"style\");\n    });\n    empty(slides);\n    removeClass(root, classes);\n  }\n  function refresh() {\n    destroy();\n    setup();\n  }\n  function update() {\n    removeClass(root, classes);\n    addClass(root, classes = getClasses());\n  }\n  function collect() {\n    slider = child(root, `.${CLASS_SLIDER}`);\n    track = query(root, `.${CLASS_TRACK}`);\n    list = child(track, `.${CLASS_LIST}`);\n    assert(track && list, \"A track/list element is missing.\");\n    push(slides, children(list, `.${CLASS_SLIDE}:not(.${CLASS_CLONE})`));\n    const autoplay = find(`.${CLASS_AUTOPLAY}`);\n    const arrows = find(`.${CLASS_ARROWS}`);\n    assign(elements, {\n      root,\n      slider,\n      track,\n      list,\n      slides,\n      arrows,\n      autoplay,\n      prev: query(arrows, `.${CLASS_ARROW_PREV}`),\n      next: query(arrows, `.${CLASS_ARROW_NEXT}`),\n      bar: query(find(`.${CLASS_PROGRESS}`), `.${CLASS_PROGRESS_BAR}`),\n      play: query(autoplay, `.${CLASS_PLAY}`),\n      pause: query(autoplay, `.${CLASS_PAUSE}`)\n    });\n  }\n  function identify() {\n    const id = root.id || uniqueId(PROJECT_CODE);\n    root.id = id;\n    track.id = track.id || `${id}-track`;\n    list.id = list.id || `${id}-list`;\n  }\n  function find(selector) {\n    return child(root, selector) || child(slider, selector);\n  }\n  function getClasses() {\n    return [\n      `${CLASS_ROOT}--${options.type}`,\n      `${CLASS_ROOT}--${options.direction}`,\n      options.drag && `${CLASS_ROOT}--draggable`,\n      options.isNavigation && `${CLASS_ROOT}--nav`,\n      CLASS_ACTIVE\n    ];\n  }\n  return assign(elements, {\n    setup,\n    mount,\n    destroy\n  });\n}\n\nconst ROLE = \"role\";\nconst ARIA_CONTROLS = \"aria-controls\";\nconst ARIA_CURRENT = \"aria-current\";\nconst ARIA_LABEL = \"aria-label\";\nconst ARIA_HIDDEN = \"aria-hidden\";\nconst TAB_INDEX = \"tabindex\";\nconst DISABLED = \"disabled\";\nconst ARIA_ORIENTATION = \"aria-orientation\";\nconst ALL_ATTRIBUTES = [\n  ROLE,\n  ARIA_CONTROLS,\n  ARIA_CURRENT,\n  ARIA_LABEL,\n  ARIA_HIDDEN,\n  ARIA_ORIENTATION,\n  TAB_INDEX,\n  DISABLED\n];\n\nconst SLIDE = \"slide\";\nconst LOOP = \"loop\";\nconst FADE = \"fade\";\n\nfunction Slide$1(Splide2, index, slideIndex, slide) {\n  const { on, emit, bind, destroy: destroyEvents } = EventInterface(Splide2);\n  const { Components, root, options } = Splide2;\n  const { isNavigation, updateOnMove } = options;\n  const { resolve } = Components.Direction;\n  const styles = getAttribute(slide, \"style\");\n  const isClone = slideIndex > -1;\n  const container = child(slide, `.${CLASS_CONTAINER}`);\n  const focusableNodes = options.focusableNodes && queryAll(slide, options.focusableNodes);\n  let destroyed;\n  function mount() {\n    if (!isClone) {\n      slide.id = `${root.id}-slide${pad(index + 1)}`;\n    }\n    bind(slide, \"click keydown\", (e) => {\n      emit(e.type === \"click\" ? EVENT_CLICK : EVENT_SLIDE_KEYDOWN, self, e);\n    });\n    on([EVENT_REFRESH, EVENT_REPOSITIONED, EVENT_SHIFTED, EVENT_MOVED, EVENT_SCROLLED], update);\n    on(EVENT_NAVIGATION_MOUNTED, initNavigation);\n    if (updateOnMove) {\n      on(EVENT_MOVE, onMove);\n    }\n  }\n  function destroy() {\n    destroyed = true;\n    destroyEvents();\n    removeClass(slide, STATUS_CLASSES);\n    removeAttribute(slide, ALL_ATTRIBUTES);\n    setAttribute(slide, \"style\", styles);\n  }\n  function initNavigation() {\n    const idx = isClone ? slideIndex : index;\n    const label = format(options.i18n.slideX, idx + 1);\n    const controls = Splide2.splides.map((target) => target.splide.root.id).join(\" \");\n    setAttribute(slide, ARIA_LABEL, label);\n    setAttribute(slide, ARIA_CONTROLS, controls);\n    setAttribute(slide, ROLE, \"menuitem\");\n    updateActivity(isActive());\n  }\n  function onMove() {\n    if (!destroyed) {\n      update();\n    }\n  }\n  function update() {\n    if (!destroyed) {\n      const { index: currIndex } = Splide2;\n      updateActivity(isActive());\n      updateVisibility(isVisible());\n      toggleClass(slide, CLASS_PREV, index === currIndex - 1);\n      toggleClass(slide, CLASS_NEXT, index === currIndex + 1);\n    }\n  }\n  function updateActivity(active) {\n    if (active !== hasClass(slide, CLASS_ACTIVE)) {\n      toggleClass(slide, CLASS_ACTIVE, active);\n      if (isNavigation) {\n        setAttribute(slide, ARIA_CURRENT, active || null);\n      }\n      emit(active ? EVENT_ACTIVE : EVENT_INACTIVE, self);\n    }\n  }\n  function updateVisibility(visible) {\n    const ariaHidden = !visible && !isActive();\n    setAttribute(slide, ARIA_HIDDEN, ariaHidden || null);\n    setAttribute(slide, TAB_INDEX, !ariaHidden && options.slideFocus ? 0 : null);\n    if (focusableNodes) {\n      focusableNodes.forEach((node) => {\n        setAttribute(node, TAB_INDEX, ariaHidden ? -1 : null);\n      });\n    }\n    if (visible !== hasClass(slide, CLASS_VISIBLE)) {\n      toggleClass(slide, CLASS_VISIBLE, visible);\n      emit(visible ? EVENT_VISIBLE : EVENT_HIDDEN, self);\n    }\n  }\n  function style$1(prop, value, useContainer) {\n    style(useContainer && container || slide, prop, value);\n  }\n  function isActive() {\n    const { index: curr } = Splide2;\n    return curr === index || options.cloneStatus && curr === slideIndex;\n  }\n  function isVisible() {\n    if (Splide2.is(FADE)) {\n      return isActive();\n    }\n    const trackRect = rect(Components.Elements.track);\n    const slideRect = rect(slide);\n    const left = resolve(\"left\");\n    const right = resolve(\"right\");\n    return floor(trackRect[left]) <= ceil(slideRect[left]) && floor(slideRect[right]) <= ceil(trackRect[right]);\n  }\n  function isWithin(from, distance) {\n    let diff = abs(from - index);\n    if (!isClone && (options.rewind || Splide2.is(LOOP))) {\n      diff = min(diff, Splide2.length - diff);\n    }\n    return diff <= distance;\n  }\n  const self = {\n    index,\n    slideIndex,\n    slide,\n    container,\n    isClone,\n    mount,\n    destroy,\n    update,\n    style: style$1,\n    isWithin\n  };\n  return self;\n}\n\nfunction Slides(Splide2, Components2, options) {\n  const { on, emit, bind } = EventInterface(Splide2);\n  const { slides, list } = Components2.Elements;\n  const Slides2 = [];\n  function mount() {\n    init();\n    on(EVENT_REFRESH, refresh);\n    on([EVENT_MOUNTED, EVENT_REFRESH], () => {\n      Slides2.sort((Slide1, Slide2) => Slide1.index - Slide2.index);\n    });\n  }\n  function init() {\n    slides.forEach((slide, index) => {\n      register(slide, index, -1);\n    });\n  }\n  function destroy() {\n    forEach$1((Slide2) => {\n      Slide2.destroy();\n    });\n    empty(Slides2);\n  }\n  function refresh() {\n    destroy();\n    init();\n  }\n  function update() {\n    forEach$1((Slide2) => {\n      Slide2.update();\n    });\n  }\n  function register(slide, index, slideIndex) {\n    const object = Slide$1(Splide2, index, slideIndex, slide);\n    object.mount();\n    Slides2.push(object);\n  }\n  function get(excludeClones) {\n    return excludeClones ? filter((Slide2) => !Slide2.isClone) : Slides2;\n  }\n  function getIn(page) {\n    const { Controller } = Components2;\n    const index = Controller.toIndex(page);\n    const max = Controller.hasFocus() ? 1 : options.perPage;\n    return filter((Slide2) => between(Slide2.index, index, index + max - 1));\n  }\n  function getAt(index) {\n    return filter(index)[0];\n  }\n  function add(items, index) {\n    forEach(items, (slide) => {\n      if (isString(slide)) {\n        slide = parseHtml(slide);\n      }\n      if (isHTMLElement(slide)) {\n        const ref = slides[index];\n        ref ? before(slide, ref) : append(list, slide);\n        addClass(slide, options.classes.slide);\n        observeImages(slide, emit.bind(null, EVENT_RESIZE));\n      }\n    });\n    emit(EVENT_REFRESH);\n  }\n  function remove$1(matcher) {\n    remove(filter(matcher).map((Slide2) => Slide2.slide));\n    emit(EVENT_REFRESH);\n  }\n  function forEach$1(iteratee, excludeClones) {\n    get(excludeClones).forEach(iteratee);\n  }\n  function filter(matcher) {\n    return Slides2.filter(isFunction(matcher) ? matcher : (Slide2) => isString(matcher) ? matches(Slide2.slide, matcher) : includes(toArray(matcher), Slide2.index));\n  }\n  function style(prop, value, useContainer) {\n    forEach$1((Slide2) => {\n      Slide2.style(prop, value, useContainer);\n    });\n  }\n  function observeImages(elm, callback) {\n    const images = queryAll(elm, \"img\");\n    let { length } = images;\n    if (length) {\n      images.forEach((img) => {\n        bind(img, \"load error\", () => {\n          if (!--length) {\n            callback();\n          }\n        });\n      });\n    } else {\n      callback();\n    }\n  }\n  function getLength(excludeClones) {\n    return excludeClones ? slides.length : Slides2.length;\n  }\n  function isEnough() {\n    return Slides2.length > options.perPage;\n  }\n  return {\n    mount,\n    destroy,\n    update,\n    register,\n    get,\n    getIn,\n    getAt,\n    add,\n    remove: remove$1,\n    forEach: forEach$1,\n    filter,\n    style,\n    getLength,\n    isEnough\n  };\n}\n\nfunction Layout(Splide2, Components2, options) {\n  const { on, bind, emit } = EventInterface(Splide2);\n  const { Slides } = Components2;\n  const { resolve } = Components2.Direction;\n  const { root, track, list } = Components2.Elements;\n  const { getAt } = Slides;\n  let vertical;\n  let rootRect;\n  function mount() {\n    init();\n    bind(window, \"resize load\", Throttle(emit.bind(this, EVENT_RESIZE)));\n    on([EVENT_UPDATED, EVENT_REFRESH], init);\n    on(EVENT_RESIZE, resize);\n  }\n  function init() {\n    rootRect = null;\n    vertical = options.direction === TTB;\n    style(root, \"maxWidth\", unit(options.width));\n    style(track, resolve(\"paddingLeft\"), cssPadding(false));\n    style(track, resolve(\"paddingRight\"), cssPadding(true));\n    resize();\n  }\n  function resize() {\n    const newRect = rect(root);\n    if (!rootRect || rootRect.width !== newRect.width || rootRect.height !== newRect.height) {\n      style(track, \"height\", cssTrackHeight());\n      Slides.style(resolve(\"marginRight\"), unit(options.gap));\n      Slides.style(\"width\", cssSlideWidth() || null);\n      setSlidesHeight();\n      rootRect = newRect;\n      emit(EVENT_RESIZED);\n    }\n  }\n  function setSlidesHeight() {\n    Slides.style(\"height\", cssSlideHeight() || null, true);\n  }\n  function cssPadding(right) {\n    const { padding } = options;\n    const prop = resolve(right ? \"right\" : \"left\");\n    return padding && unit(padding[prop] || (isObject(padding) ? 0 : padding)) || \"0px\";\n  }\n  function cssTrackHeight() {\n    let height = \"\";\n    if (vertical) {\n      height = cssHeight();\n      assert(height, \"height or heightRatio is missing.\");\n      height = `calc(${height} - ${cssPadding(false)} - ${cssPadding(true)})`;\n    }\n    return height;\n  }\n  function cssHeight() {\n    return unit(options.height || rect(list).width * options.heightRatio);\n  }\n  function cssSlideWidth() {\n    return options.autoWidth ? \"\" : unit(options.fixedWidth) || (vertical ? \"\" : cssSlideSize());\n  }\n  function cssSlideHeight() {\n    return unit(options.fixedHeight) || (vertical ? options.autoHeight ? \"\" : cssSlideSize() : cssHeight());\n  }\n  function cssSlideSize() {\n    const gap = unit(options.gap);\n    return `calc((100%${gap && ` + ${gap}`})/${options.perPage || 1}${gap && ` - ${gap}`})`;\n  }\n  function listSize() {\n    return rect(list)[resolve(\"width\")];\n  }\n  function slideSize(index, withoutGap) {\n    const Slide = getAt(index || 0);\n    return Slide ? rect(Slide.slide)[resolve(\"width\")] + (withoutGap ? 0 : getGap()) : 0;\n  }\n  function totalSize(index, withoutGap) {\n    const Slide = getAt(index);\n    if (Slide) {\n      const right = rect(Slide.slide)[resolve(\"right\")];\n      const left = rect(list)[resolve(\"left\")];\n      return abs(right - left) + (withoutGap ? 0 : getGap());\n    }\n    return 0;\n  }\n  function sliderSize() {\n    return totalSize(Splide2.length - 1, true) - totalSize(-1, true);\n  }\n  function getGap() {\n    const Slide = getAt(0);\n    return Slide && parseFloat(style(Slide.slide, resolve(\"marginRight\"))) || 0;\n  }\n  function getPadding(right) {\n    return parseFloat(style(track, resolve(`padding${right ? \"Right\" : \"Left\"}`))) || 0;\n  }\n  return {\n    mount,\n    listSize,\n    slideSize,\n    sliderSize,\n    totalSize,\n    getPadding\n  };\n}\n\nfunction Clones(Splide2, Components2, options) {\n  const { on, emit } = EventInterface(Splide2);\n  const { Elements, Slides } = Components2;\n  const { resolve } = Components2.Direction;\n  const clones = [];\n  let cloneCount;\n  function mount() {\n    init();\n    on(EVENT_REFRESH, refresh);\n    on([EVENT_UPDATED, EVENT_RESIZE], observe);\n  }\n  function init() {\n    if (cloneCount = computeCloneCount()) {\n      generate(cloneCount);\n      emit(EVENT_RESIZE);\n    }\n  }\n  function destroy() {\n    remove(clones);\n    empty(clones);\n  }\n  function refresh() {\n    destroy();\n    init();\n  }\n  function observe() {\n    if (cloneCount < computeCloneCount()) {\n      emit(EVENT_REFRESH);\n    }\n  }\n  function generate(count) {\n    const slides = Slides.get().slice();\n    const { length } = slides;\n    if (length) {\n      while (slides.length < count) {\n        push(slides, slides);\n      }\n      push(slides.slice(-count), slides.slice(0, count)).forEach((Slide, index) => {\n        const isHead = index < count;\n        const clone = cloneDeep(Slide.slide, index);\n        isHead ? before(clone, slides[0].slide) : append(Elements.list, clone);\n        push(clones, clone);\n        Slides.register(clone, index - count + (isHead ? 0 : length), Slide.index);\n      });\n    }\n  }\n  function cloneDeep(elm, index) {\n    const clone = elm.cloneNode(true);\n    addClass(clone, options.classes.clone);\n    clone.id = `${Splide2.root.id}-clone${pad(index + 1)}`;\n    return clone;\n  }\n  function computeCloneCount() {\n    let { clones: clones2 } = options;\n    if (!Splide2.is(LOOP)) {\n      clones2 = 0;\n    } else if (!clones2) {\n      const fixedSize = measure(Elements.list, options[resolve(\"fixedWidth\")]);\n      const fixedCount = fixedSize && ceil(rect(Elements.track)[resolve(\"width\")] / fixedSize);\n      const baseCount = fixedCount || options[resolve(\"autoWidth\")] && Splide2.length || options.perPage;\n      clones2 = baseCount * (options.drag ? (options.flickMaxPages || 1) + 1 : 2);\n    }\n    return clones2;\n  }\n  return {\n    mount,\n    destroy\n  };\n}\n\nfunction Move(Splide2, Components2, options) {\n  const { on, emit } = EventInterface(Splide2);\n  const { slideSize, getPadding, totalSize, listSize, sliderSize } = Components2.Layout;\n  const { resolve, orient } = Components2.Direction;\n  const { list, track } = Components2.Elements;\n  let Transition;\n  function mount() {\n    Transition = Components2.Transition;\n    on([EVENT_MOUNTED, EVENT_RESIZED, EVENT_UPDATED, EVENT_REFRESH], reposition);\n  }\n  function destroy() {\n    removeAttribute(list, \"style\");\n  }\n  function reposition() {\n    if (!isBusy()) {\n      Components2.Scroll.cancel();\n      jump(Splide2.index);\n      emit(EVENT_REPOSITIONED);\n    }\n  }\n  function move(dest, index, prev, callback) {\n    if (!isBusy()) {\n      const { set } = Splide2.state;\n      const position = getPosition();\n      if (dest !== index) {\n        Transition.cancel();\n        translate(shift(position, dest > index), true);\n      }\n      set(MOVING);\n      emit(EVENT_MOVE, index, prev, dest);\n      Transition.start(index, () => {\n        set(IDLE);\n        emit(EVENT_MOVED, index, prev, dest);\n        if (options.trimSpace === \"move\" && dest !== prev && position === getPosition()) {\n          Components2.Controller.go(dest > prev ? \">\" : \"<\", false, callback);\n        } else {\n          callback && callback();\n        }\n      });\n    }\n  }\n  function jump(index) {\n    translate(toPosition(index, true));\n  }\n  function translate(position, preventLoop) {\n    if (!Splide2.is(FADE)) {\n      const destination = preventLoop ? position : loop(position);\n      list.style.transform = `translate${resolve(\"X\")}(${destination}px)`;\n      position !== destination && emit(EVENT_SHIFTED);\n    }\n  }\n  function loop(position) {\n    if (Splide2.is(LOOP)) {\n      const diff = orient(position - getPosition());\n      const exceededMin = exceededLimit(false, position) && diff < 0;\n      const exceededMax = exceededLimit(true, position) && diff > 0;\n      if (exceededMin || exceededMax) {\n        position = shift(position, exceededMax);\n      }\n    }\n    return position;\n  }\n  function shift(position, backwards) {\n    const excess = position - getLimit(backwards);\n    const size = sliderSize();\n    position -= orient(size * (ceil(abs(excess) / size) || 1)) * (backwards ? 1 : -1);\n    return position;\n  }\n  function cancel() {\n    translate(getPosition());\n    Transition.cancel();\n  }\n  function toIndex(position) {\n    const Slides = Components2.Slides.get();\n    let index = 0;\n    let minDistance = Infinity;\n    for (let i = 0; i < Slides.length; i++) {\n      const slideIndex = Slides[i].index;\n      const distance = abs(toPosition(slideIndex, true) - position);\n      if (distance <= minDistance) {\n        minDistance = distance;\n        index = slideIndex;\n      } else {\n        break;\n      }\n    }\n    return index;\n  }\n  function toPosition(index, trimming) {\n    const position = orient(totalSize(index - 1) - offset(index));\n    return trimming ? trim(position) : position;\n  }\n  function getPosition() {\n    const left = resolve(\"left\");\n    return rect(list)[left] - rect(track)[left] + orient(getPadding(false));\n  }\n  function trim(position) {\n    if (options.trimSpace && Splide2.is(SLIDE)) {\n      position = clamp(position, 0, orient(sliderSize() - listSize()));\n    }\n    return position;\n  }\n  function offset(index) {\n    const { focus } = options;\n    return focus === \"center\" ? (listSize() - slideSize(index, true)) / 2 : +focus * slideSize(index) || 0;\n  }\n  function getLimit(max) {\n    return toPosition(max ? Components2.Controller.getEnd() : 0, !!options.trimSpace);\n  }\n  function isBusy() {\n    return Splide2.state.is(MOVING) && options.waitForTransition;\n  }\n  function exceededLimit(max, position) {\n    position = isUndefined(position) ? getPosition() : position;\n    const exceededMin = max !== true && orient(position) < orient(getLimit(false));\n    const exceededMax = max !== false && orient(position) > orient(getLimit(true));\n    return exceededMin || exceededMax;\n  }\n  return {\n    mount,\n    destroy,\n    move,\n    jump,\n    translate,\n    shift,\n    cancel,\n    toIndex,\n    toPosition,\n    getPosition,\n    getLimit,\n    isBusy,\n    exceededLimit\n  };\n}\n\nfunction Controller(Splide2, Components2, options) {\n  const { on } = EventInterface(Splide2);\n  const { Move } = Components2;\n  const { getPosition, getLimit } = Move;\n  const { isEnough, getLength } = Components2.Slides;\n  const isLoop = Splide2.is(LOOP);\n  const isSlide = Splide2.is(SLIDE);\n  let currIndex = options.start || 0;\n  let prevIndex = currIndex;\n  let slideCount;\n  let perMove;\n  let perPage;\n  function mount() {\n    init();\n    on([EVENT_UPDATED, EVENT_REFRESH], init, DEFAULT_EVENT_PRIORITY - 1);\n  }\n  function init() {\n    slideCount = getLength(true);\n    perMove = options.perMove;\n    perPage = options.perPage;\n    currIndex = clamp(currIndex, 0, slideCount - 1);\n  }\n  function go(control, allowSameIndex, callback) {\n    const dest = parse(control);\n    if (options.useScroll) {\n      scroll(dest, true, true, options.speed, callback);\n    } else {\n      const index = loop(dest);\n      if (index > -1 && !Move.isBusy() && (allowSameIndex || index !== currIndex)) {\n        setIndex(index);\n        Move.move(dest, index, prevIndex, callback);\n      }\n    }\n  }\n  function scroll(destination, useIndex, snap, duration, callback) {\n    const dest = useIndex ? destination : toDest(destination);\n    Components2.Scroll.scroll(useIndex || snap ? Move.toPosition(dest, true) : destination, duration, () => {\n      setIndex(Move.toIndex(Move.getPosition()));\n      callback && callback();\n    });\n  }\n  function parse(control) {\n    let index = currIndex;\n    if (isString(control)) {\n      const [, indicator, number] = control.match(/([+\\-<>])(\\d+)?/) || [];\n      if (indicator === \"+\" || indicator === \"-\") {\n        index = computeDestIndex(currIndex + +`${indicator}${+number || 1}`, currIndex, true);\n      } else if (indicator === \">\") {\n        index = number ? toIndex(+number) : getNext(true);\n      } else if (indicator === \"<\") {\n        index = getPrev(true);\n      }\n    } else {\n      index = isLoop ? control : clamp(control, 0, getEnd());\n    }\n    return index;\n  }\n  function getNext(destination) {\n    return getAdjacent(false, destination);\n  }\n  function getPrev(destination) {\n    return getAdjacent(true, destination);\n  }\n  function getAdjacent(prev, destination) {\n    const number = perMove || (hasFocus() ? 1 : perPage);\n    const dest = computeDestIndex(currIndex + number * (prev ? -1 : 1), currIndex);\n    if (dest === -1 && isSlide) {\n      if (!approximatelyEqual(getPosition(), getLimit(!prev), 1)) {\n        return prev ? 0 : getEnd();\n      }\n    }\n    return destination ? dest : loop(dest);\n  }\n  function computeDestIndex(dest, from, incremental) {\n    if (isEnough()) {\n      const end = getEnd();\n      if (dest < 0 || dest > end) {\n        if (between(0, dest, from, true) || between(end, from, dest, true)) {\n          dest = toIndex(toPage(dest));\n        } else {\n          if (isLoop) {\n            dest = perMove || hasFocus() ? dest : dest < 0 ? -(slideCount % perPage || perPage) : slideCount;\n          } else if (options.rewind) {\n            dest = dest < 0 ? end : 0;\n          } else {\n            dest = -1;\n          }\n        }\n      } else {\n        if (!incremental && dest !== from) {\n          dest = perMove ? dest : toIndex(toPage(from) + (dest < from ? -1 : 1));\n        }\n      }\n    } else {\n      dest = -1;\n    }\n    return dest;\n  }\n  function getEnd() {\n    let end = slideCount - perPage;\n    if (hasFocus() || isLoop && perMove) {\n      end = slideCount - 1;\n    }\n    return max(end, 0);\n  }\n  function loop(index) {\n    if (isLoop) {\n      return isEnough() ? index % slideCount + (index < 0 ? slideCount : 0) : -1;\n    }\n    return index;\n  }\n  function toIndex(page) {\n    return clamp(hasFocus() ? page : perPage * page, 0, getEnd());\n  }\n  function toPage(index) {\n    if (!hasFocus()) {\n      index = between(index, slideCount - perPage, slideCount - 1) ? slideCount - 1 : index;\n      index = floor(index / perPage);\n    }\n    return index;\n  }\n  function toDest(destination) {\n    const closest = Move.toIndex(destination);\n    return isSlide ? clamp(closest, 0, getEnd()) : closest;\n  }\n  function setIndex(index) {\n    if (index !== currIndex) {\n      prevIndex = currIndex;\n      currIndex = index;\n    }\n  }\n  function getIndex(prev) {\n    return prev ? prevIndex : currIndex;\n  }\n  function hasFocus() {\n    return !isUndefined(options.focus) || options.isNavigation;\n  }\n  return {\n    mount,\n    go,\n    scroll,\n    getNext,\n    getPrev,\n    getAdjacent,\n    getEnd,\n    setIndex,\n    getIndex,\n    toIndex,\n    toPage,\n    toDest,\n    hasFocus\n  };\n}\n\nconst XML_NAME_SPACE = \"http://www.w3.org/2000/svg\";\nconst PATH = \"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z\";\nconst SIZE = 40;\n\nfunction Arrows(Splide2, Components2, options) {\n  const { on, bind, emit } = EventInterface(Splide2);\n  const { classes, i18n } = options;\n  const { Elements, Controller } = Components2;\n  let wrapper = Elements.arrows;\n  let prev = Elements.prev;\n  let next = Elements.next;\n  let created;\n  const arrows = {};\n  function mount() {\n    init();\n    on(EVENT_UPDATED, init);\n  }\n  function init() {\n    if (options.arrows) {\n      if (!prev || !next) {\n        createArrows();\n      }\n    }\n    if (prev && next) {\n      if (!arrows.prev) {\n        const { id } = Elements.track;\n        setAttribute(prev, ARIA_CONTROLS, id);\n        setAttribute(next, ARIA_CONTROLS, id);\n        arrows.prev = prev;\n        arrows.next = next;\n        listen();\n        emit(EVENT_ARROWS_MOUNTED, prev, next);\n      } else {\n        display(wrapper, options.arrows === false ? \"none\" : \"\");\n      }\n    }\n  }\n  function destroy() {\n    if (created) {\n      remove(wrapper);\n    } else {\n      removeAttribute(prev, ALL_ATTRIBUTES);\n      removeAttribute(next, ALL_ATTRIBUTES);\n    }\n  }\n  function listen() {\n    const { go } = Controller;\n    on([EVENT_MOUNTED, EVENT_MOVED, EVENT_UPDATED, EVENT_REFRESH, EVENT_SCROLLED], update);\n    bind(next, \"click\", () => {\n      go(\">\", true);\n    });\n    bind(prev, \"click\", () => {\n      go(\"<\", true);\n    });\n  }\n  function createArrows() {\n    wrapper = create(\"div\", classes.arrows);\n    prev = createArrow(true);\n    next = createArrow(false);\n    created = true;\n    append(wrapper, [prev, next]);\n    before(wrapper, child(options.arrows === \"slider\" && Elements.slider || Splide2.root));\n  }\n  function createArrow(prev2) {\n    const arrow = `<button class=\"${classes.arrow} ${prev2 ? classes.prev : classes.next}\" type=\"button\"><svg xmlns=\"${XML_NAME_SPACE}\" viewBox=\"0 0 ${SIZE} ${SIZE}\" width=\"${SIZE}\" height=\"${SIZE}\"><path d=\"${options.arrowPath || PATH}\" />`;\n    return parseHtml(arrow);\n  }\n  function update() {\n    const index = Splide2.index;\n    const prevIndex = Controller.getPrev();\n    const nextIndex = Controller.getNext();\n    const prevLabel = prevIndex > -1 && index < prevIndex ? i18n.last : i18n.prev;\n    const nextLabel = nextIndex > -1 && index > nextIndex ? i18n.first : i18n.next;\n    prev.disabled = prevIndex < 0;\n    next.disabled = nextIndex < 0;\n    setAttribute(prev, ARIA_LABEL, prevLabel);\n    setAttribute(next, ARIA_LABEL, nextLabel);\n    emit(EVENT_ARROWS_UPDATED, prev, next, prevIndex, nextIndex);\n  }\n  return {\n    arrows,\n    mount,\n    destroy\n  };\n}\n\nconst INTERVAL_DATA_ATTRIBUTE = `${DATA_ATTRIBUTE}-interval`;\n\nfunction Autoplay(Splide2, Components2, options) {\n  const { on, bind, emit } = EventInterface(Splide2);\n  const interval = RequestInterval(options.interval, Splide2.go.bind(Splide2, \">\"), update);\n  const { isPaused } = interval;\n  const { Elements } = Components2;\n  let hovered;\n  let focused;\n  let paused;\n  function mount() {\n    const { autoplay } = options;\n    if (autoplay) {\n      initButton(true);\n      initButton(false);\n      listen();\n      if (autoplay !== \"pause\") {\n        play();\n      }\n    }\n  }\n  function initButton(forPause) {\n    const prop = forPause ? \"pause\" : \"play\";\n    const button = Elements[prop];\n    if (button) {\n      setAttribute(button, ARIA_CONTROLS, Elements.track.id);\n      setAttribute(button, ARIA_LABEL, options.i18n[prop]);\n      bind(button, \"click\", forPause ? pause : play);\n    }\n  }\n  function listen() {\n    const { root } = Elements;\n    if (options.pauseOnHover) {\n      bind(root, \"mouseenter mouseleave\", (e) => {\n        hovered = e.type === \"mouseenter\";\n        autoToggle();\n      });\n    }\n    if (options.pauseOnFocus) {\n      bind(root, \"focusin focusout\", (e) => {\n        focused = e.type === \"focusin\";\n        autoToggle();\n      });\n    }\n    on([EVENT_MOVE, EVENT_SCROLL, EVENT_REFRESH], interval.rewind);\n    on(EVENT_MOVE, updateInterval);\n  }\n  function play() {\n    if (isPaused() && Components2.Slides.isEnough()) {\n      interval.start(!options.resetProgress);\n      focused = hovered = paused = false;\n      emit(EVENT_AUTOPLAY_PLAY);\n    }\n  }\n  function pause(manual = true) {\n    if (!isPaused()) {\n      interval.pause();\n      emit(EVENT_AUTOPLAY_PAUSE);\n    }\n    paused = manual;\n  }\n  function autoToggle() {\n    if (!paused) {\n      if (!hovered && !focused) {\n        play();\n      } else {\n        pause(false);\n      }\n    }\n  }\n  function update(rate) {\n    const { bar } = Elements;\n    bar && style(bar, \"width\", `${rate * 100}%`);\n    emit(EVENT_AUTOPLAY_PLAYING, rate);\n  }\n  function updateInterval() {\n    const Slide = Components2.Slides.getAt(Splide2.index);\n    interval.set(Slide && +getAttribute(Slide.slide, INTERVAL_DATA_ATTRIBUTE) || options.interval);\n  }\n  return {\n    mount,\n    destroy: interval.cancel,\n    play,\n    pause,\n    isPaused\n  };\n}\n\nfunction Cover(Splide2, Components2, options) {\n  const { on } = EventInterface(Splide2);\n  function mount() {\n    if (options.cover) {\n      on(EVENT_LAZYLOAD_LOADED, (img, Slide) => {\n        toggle(true, img, Slide);\n      });\n      on([EVENT_MOUNTED, EVENT_UPDATED, EVENT_REFRESH], apply.bind(null, true));\n    }\n  }\n  function destroy() {\n    apply(false);\n  }\n  function apply(cover) {\n    Components2.Slides.forEach((Slide) => {\n      const img = child(Slide.container || Slide.slide, \"img\");\n      if (img && img.src) {\n        toggle(cover, img, Slide);\n      }\n    });\n  }\n  function toggle(cover, img, Slide) {\n    Slide.style(\"background\", cover ? `center/cover no-repeat url(\"${img.src}\")` : \"\", true);\n    display(img, cover ? \"none\" : \"\");\n  }\n  return {\n    mount,\n    destroy\n  };\n}\n\nconst BOUNCE_DIFF_THRESHOLD = 10;\nconst BOUNCE_DURATION = 600;\nconst FRICTION_FACTOR = 0.6;\nconst BASE_VELOCITY = 1.5;\nconst MIN_DURATION = 800;\n\nfunction Scroll(Splide2, Components2, options) {\n  const { on, emit } = EventInterface(Splide2);\n  const { Move } = Components2;\n  const { getPosition, getLimit, exceededLimit } = Move;\n  let interval;\n  let scrollCallback;\n  function mount() {\n    on(EVENT_MOVE, clear);\n    on([EVENT_UPDATED, EVENT_REFRESH], cancel);\n  }\n  function scroll(destination, duration, callback, suppressConstraint) {\n    const start = getPosition();\n    let friction = 1;\n    duration = duration || computeDuration(abs(destination - start));\n    scrollCallback = callback;\n    clear();\n    interval = RequestInterval(duration, onScrolled, (rate) => {\n      const position = getPosition();\n      const target = start + (destination - start) * easing(rate);\n      const diff = (target - getPosition()) * friction;\n      Move.translate(position + diff);\n      if (Splide2.is(SLIDE) && !suppressConstraint && exceededLimit()) {\n        friction *= FRICTION_FACTOR;\n        if (abs(diff) < BOUNCE_DIFF_THRESHOLD) {\n          bounce(exceededLimit(false));\n        }\n      }\n    }, 1);\n    emit(EVENT_SCROLL);\n    interval.start();\n  }\n  function bounce(backwards) {\n    scroll(getLimit(!backwards), BOUNCE_DURATION, null, true);\n  }\n  function onScrolled() {\n    const position = getPosition();\n    const index = Move.toIndex(position);\n    if (!between(index, 0, Splide2.length - 1)) {\n      Move.translate(Move.shift(position, index > 0), true);\n    }\n    scrollCallback && scrollCallback();\n    emit(EVENT_SCROLLED);\n  }\n  function computeDuration(distance) {\n    return max(distance / BASE_VELOCITY, MIN_DURATION);\n  }\n  function clear() {\n    if (interval) {\n      interval.cancel();\n    }\n  }\n  function cancel() {\n    if (interval && !interval.isPaused()) {\n      clear();\n      onScrolled();\n    }\n  }\n  function easing(t) {\n    const { easingFunc } = options;\n    return easingFunc ? easingFunc(t) : 1 - Math.pow(1 - t, 4);\n  }\n  return {\n    mount,\n    destroy: clear,\n    scroll,\n    cancel\n  };\n}\n\nconst SCROLL_LISTENER_OPTIONS = { passive: false, capture: true };\n\nconst FRICTION = 5;\nconst LOG_INTERVAL = 200;\nconst POINTER_DOWN_EVENTS = \"touchstart mousedown\";\nconst POINTER_MOVE_EVENTS = \"touchmove mousemove\";\nconst POINTER_UP_EVENTS = \"touchend touchcancel mouseup\";\n\nfunction Drag(Splide2, Components2, options) {\n  const { on, emit, bind, unbind } = EventInterface(Splide2);\n  const { Move, Scroll, Controller } = Components2;\n  const { track } = Components2.Elements;\n  const { resolve, orient } = Components2.Direction;\n  const { getPosition, exceededLimit } = Move;\n  let basePosition;\n  let baseEvent;\n  let prevBaseEvent;\n  let lastEvent;\n  let isFree;\n  let dragging;\n  let hasExceeded = false;\n  let clickPrevented;\n  let disabled;\n  let target;\n  function mount() {\n    bind(track, POINTER_MOVE_EVENTS, noop, SCROLL_LISTENER_OPTIONS);\n    bind(track, POINTER_UP_EVENTS, noop, SCROLL_LISTENER_OPTIONS);\n    bind(track, POINTER_DOWN_EVENTS, onPointerDown, SCROLL_LISTENER_OPTIONS);\n    bind(track, \"click\", onClick, { capture: true });\n    bind(track, \"dragstart\", prevent);\n    on([EVENT_MOUNTED, EVENT_UPDATED], init);\n  }\n  function init() {\n    const { drag } = options;\n    disable(!drag);\n    isFree = drag === \"free\";\n  }\n  function onPointerDown(e) {\n    if (!disabled) {\n      const { noDrag } = options;\n      const isTouch = isTouchEvent(e);\n      const isDraggable = !noDrag || !matches(e.target, noDrag);\n      if (isDraggable && (isTouch || !e.button)) {\n        if (!Move.isBusy()) {\n          target = isTouch ? track : window;\n          prevBaseEvent = null;\n          lastEvent = null;\n          clickPrevented = false;\n          bind(target, POINTER_MOVE_EVENTS, onPointerMove, SCROLL_LISTENER_OPTIONS);\n          bind(target, POINTER_UP_EVENTS, onPointerUp, SCROLL_LISTENER_OPTIONS);\n          Move.cancel();\n          Scroll.cancel();\n          save(e);\n        } else {\n          prevent(e, true);\n        }\n      }\n    }\n  }\n  function onPointerMove(e) {\n    if (!lastEvent) {\n      emit(EVENT_DRAG);\n    }\n    lastEvent = e;\n    if (e.cancelable) {\n      const diff = coordOf(e) - coordOf(baseEvent);\n      if (dragging) {\n        Move.translate(basePosition + constrain(diff));\n        const expired = timeOf(e) - timeOf(baseEvent) > LOG_INTERVAL;\n        const exceeded = hasExceeded !== (hasExceeded = exceededLimit());\n        if (expired || exceeded) {\n          save(e);\n        }\n        emit(EVENT_DRAGGING);\n        clickPrevented = true;\n        prevent(e);\n      } else {\n        let { dragMinThreshold: thresholds } = options;\n        thresholds = isObject(thresholds) ? thresholds : { mouse: 0, touch: +thresholds || 10 };\n        dragging = abs(diff) > (isTouchEvent(e) ? thresholds.touch : thresholds.mouse);\n        if (isSliderDirection()) {\n          prevent(e);\n        }\n      }\n    }\n  }\n  function onPointerUp(e) {\n    unbind(target, POINTER_MOVE_EVENTS, onPointerMove);\n    unbind(target, POINTER_UP_EVENTS, onPointerUp);\n    const { index } = Splide2;\n    if (lastEvent) {\n      if (dragging || e.cancelable && isSliderDirection()) {\n        const velocity = computeVelocity(e);\n        const destination = computeDestination(velocity);\n        if (isFree) {\n          Controller.scroll(destination);\n        } else if (Splide2.is(FADE)) {\n          Controller.go(index + orient(sign(velocity)));\n        } else {\n          Controller.go(Controller.toDest(destination), true);\n        }\n        prevent(e);\n      }\n      emit(EVENT_DRAGGED);\n    } else {\n      if (!isFree && getPosition() !== Move.toPosition(index)) {\n        Controller.go(index, true);\n      }\n    }\n    dragging = false;\n  }\n  function save(e) {\n    prevBaseEvent = baseEvent;\n    baseEvent = e;\n    basePosition = getPosition();\n  }\n  function onClick(e) {\n    if (!disabled && clickPrevented) {\n      prevent(e, true);\n    }\n  }\n  function isSliderDirection() {\n    const diffX = abs(coordOf(lastEvent) - coordOf(baseEvent));\n    const diffY = abs(coordOf(lastEvent, true) - coordOf(baseEvent, true));\n    return diffX > diffY;\n  }\n  function computeVelocity(e) {\n    if (Splide2.is(LOOP) || !hasExceeded) {\n      const base = baseEvent === lastEvent && prevBaseEvent || baseEvent;\n      const diffCoord = coordOf(lastEvent) - coordOf(base);\n      const diffTime = timeOf(e) - timeOf(base);\n      const isFlick = timeOf(e) - timeOf(lastEvent) < LOG_INTERVAL;\n      if (diffTime && isFlick) {\n        return diffCoord / diffTime;\n      }\n    }\n    return 0;\n  }\n  function computeDestination(velocity) {\n    return getPosition() + sign(velocity) * min(abs(velocity) * (options.flickPower || 600), isFree ? Infinity : Components2.Layout.listSize() * (options.flickMaxPages || 1));\n  }\n  function coordOf(e, orthogonal) {\n    return (isTouchEvent(e) ? e.touches[0] : e)[`page${resolve(orthogonal ? \"Y\" : \"X\")}`];\n  }\n  function timeOf(e) {\n    return e.timeStamp;\n  }\n  function constrain(diff) {\n    return diff / (hasExceeded && Splide2.is(SLIDE) ? FRICTION : 1);\n  }\n  function isTouchEvent(e) {\n    return typeof TouchEvent !== \"undefined\" && e instanceof TouchEvent;\n  }\n  function isDragging() {\n    return dragging;\n  }\n  function disable(value) {\n    disabled = value;\n  }\n  return {\n    mount,\n    disable,\n    isDragging\n  };\n}\n\nconst IE_ARROW_KEYS = [\"Left\", \"Right\", \"Up\", \"Down\"];\nfunction Keyboard(Splide2, Components2, options) {\n  const { on, bind, unbind } = EventInterface(Splide2);\n  const { root } = Components2.Elements;\n  const { resolve } = Components2.Direction;\n  let target;\n  let disabled;\n  function mount() {\n    init();\n    on(EVENT_UPDATED, onUpdated);\n    on(EVENT_MOVE, onMove);\n  }\n  function init() {\n    const { keyboard = \"global\" } = options;\n    if (keyboard) {\n      if (keyboard === \"focused\") {\n        target = root;\n        setAttribute(root, TAB_INDEX, 0);\n      } else {\n        target = window;\n      }\n      bind(target, \"keydown\", onKeydown);\n    }\n  }\n  function destroy() {\n    unbind(target, \"keydown\");\n    if (isHTMLElement(target)) {\n      removeAttribute(target, TAB_INDEX);\n    }\n  }\n  function onMove() {\n    disabled = true;\n    nextTick(() => {\n      disabled = false;\n    });\n  }\n  function onUpdated() {\n    destroy();\n    init();\n  }\n  function onKeydown(e) {\n    if (!disabled) {\n      const { key } = e;\n      const normalizedKey = includes(IE_ARROW_KEYS, key) ? `Arrow${key}` : key;\n      if (normalizedKey === resolve(\"ArrowLeft\")) {\n        Splide2.go(\"<\");\n      } else if (normalizedKey === resolve(\"ArrowRight\")) {\n        Splide2.go(\">\");\n      }\n    }\n  }\n  return {\n    mount,\n    destroy\n  };\n}\n\nconst SRC_DATA_ATTRIBUTE = `${DATA_ATTRIBUTE}-lazy`;\nconst SRCSET_DATA_ATTRIBUTE = `${SRC_DATA_ATTRIBUTE}-srcset`;\nconst IMAGE_SELECTOR = `[${SRC_DATA_ATTRIBUTE}], [${SRCSET_DATA_ATTRIBUTE}]`;\n\nfunction LazyLoad(Splide2, Components2, options) {\n  const { on, off, bind, emit } = EventInterface(Splide2);\n  const isSequential = options.lazyLoad === \"sequential\";\n  let images = [];\n  let index = 0;\n  function mount() {\n    if (options.lazyLoad) {\n      init();\n      on(EVENT_REFRESH, refresh);\n      if (!isSequential) {\n        on([EVENT_MOUNTED, EVENT_REFRESH, EVENT_MOVED, EVENT_SCROLLED], observe);\n      }\n    }\n  }\n  function refresh() {\n    destroy();\n    init();\n  }\n  function init() {\n    Components2.Slides.forEach((_Slide) => {\n      queryAll(_Slide.slide, IMAGE_SELECTOR).forEach((_img) => {\n        const src = getAttribute(_img, SRC_DATA_ATTRIBUTE);\n        const srcset = getAttribute(_img, SRCSET_DATA_ATTRIBUTE);\n        if (src !== _img.src || srcset !== _img.srcset) {\n          const className = options.classes.spinner;\n          const parent = _img.parentElement;\n          const _spinner = child(parent, `.${className}`) || create(\"span\", className, parent);\n          setAttribute(_spinner, ROLE, \"presentation\");\n          images.push({ _img, _Slide, src, srcset, _spinner });\n          !_img.src && display(_img, \"none\");\n        }\n      });\n    });\n    if (isSequential) {\n      loadNext();\n    }\n  }\n  function destroy() {\n    index = 0;\n    images = [];\n  }\n  function observe() {\n    images = images.filter((data) => {\n      const distance = options.perPage * ((options.preloadPages || 1) + 1) - 1;\n      if (data._Slide.isWithin(Splide2.index, distance)) {\n        return load(data);\n      }\n      return true;\n    });\n    if (!images.length) {\n      off(EVENT_MOVED);\n    }\n  }\n  function load(data) {\n    const { _img } = data;\n    addClass(data._Slide.slide, CLASS_LOADING);\n    bind(_img, \"load error\", (e) => {\n      onLoad(data, e.type === \"error\");\n    });\n    [\"src\", \"srcset\"].forEach((name) => {\n      if (data[name]) {\n        setAttribute(_img, name, data[name]);\n        removeAttribute(_img, name === \"src\" ? SRC_DATA_ATTRIBUTE : SRCSET_DATA_ATTRIBUTE);\n      }\n    });\n  }\n  function onLoad(data, error) {\n    const { _Slide } = data;\n    removeClass(_Slide.slide, CLASS_LOADING);\n    if (!error) {\n      remove(data._spinner);\n      display(data._img, \"\");\n      emit(EVENT_LAZYLOAD_LOADED, data._img, _Slide);\n      emit(EVENT_RESIZE);\n    }\n    if (isSequential) {\n      loadNext();\n    }\n  }\n  function loadNext() {\n    if (index < images.length) {\n      load(images[index++]);\n    }\n  }\n  return {\n    mount,\n    destroy\n  };\n}\n\nfunction Pagination(Splide2, Components2, options) {\n  const { on, emit, bind, unbind } = EventInterface(Splide2);\n  const { Slides, Elements, Controller } = Components2;\n  const { hasFocus, getIndex } = Controller;\n  const items = [];\n  let list;\n  function mount() {\n    init();\n    on([EVENT_UPDATED, EVENT_REFRESH], init);\n    on([EVENT_MOVE, EVENT_SCROLLED], update);\n  }\n  function init() {\n    destroy();\n    if (options.pagination && Slides.isEnough()) {\n      createPagination();\n      emit(EVENT_PAGINATION_MOUNTED, { list, items }, getAt(Splide2.index));\n      update();\n    }\n  }\n  function destroy() {\n    if (list) {\n      remove(list);\n      items.forEach((item) => {\n        unbind(item.button, \"click\");\n      });\n      empty(items);\n      list = null;\n    }\n  }\n  function createPagination() {\n    const { length } = Splide2;\n    const { classes, i18n, perPage } = options;\n    const parent = options.pagination === \"slider\" && Elements.slider || Elements.root;\n    const max = hasFocus() ? length : ceil(length / perPage);\n    list = create(\"ul\", classes.pagination, parent);\n    for (let i = 0; i < max; i++) {\n      const li = create(\"li\", null, list);\n      const button = create(\"button\", { class: classes.page, type: \"button\" }, li);\n      const controls = Slides.getIn(i).map((Slide) => Slide.slide.id);\n      const text = !hasFocus() && perPage > 1 ? i18n.pageX : i18n.slideX;\n      bind(button, \"click\", onClick.bind(null, i));\n      setAttribute(button, ARIA_CONTROLS, controls.join(\" \"));\n      setAttribute(button, ARIA_LABEL, format(text, i + 1));\n      items.push({ li, button, page: i });\n    }\n  }\n  function onClick(page) {\n    Controller.go(`>${page}`, true, () => {\n      const Slide = Slides.getAt(Controller.toIndex(page));\n      Slide && focus(Slide.slide);\n    });\n  }\n  function getAt(index) {\n    return items[Controller.toPage(index)];\n  }\n  function update() {\n    const prev = getAt(getIndex(true));\n    const curr = getAt(getIndex());\n    if (prev) {\n      removeClass(prev.button, CLASS_ACTIVE);\n      removeAttribute(prev.button, ARIA_CURRENT);\n    }\n    if (curr) {\n      addClass(curr.button, CLASS_ACTIVE);\n      setAttribute(curr.button, ARIA_CURRENT, true);\n    }\n    emit(EVENT_PAGINATION_UPDATED, { list, items }, prev, curr);\n  }\n  return {\n    items,\n    mount,\n    destroy,\n    getAt,\n    update\n  };\n}\n\nconst TRIGGER_KEYS = [\" \", \"Enter\", \"Spacebar\"];\nfunction Sync(Splide2, Components2, options) {\n  const { list } = Components2.Elements;\n  const events = [];\n  function mount() {\n    Splide2.splides.forEach((target) => {\n      !target.isParent && sync(target.splide);\n    });\n    if (options.isNavigation) {\n      navigate();\n    }\n  }\n  function destroy() {\n    removeAttribute(list, ALL_ATTRIBUTES);\n    events.forEach((event) => {\n      event.destroy();\n    });\n    empty(events);\n  }\n  function remount() {\n    destroy();\n    mount();\n  }\n  function sync(splide) {\n    [Splide2, splide].forEach((instance) => {\n      const event = EventInterface(instance);\n      const target = instance === Splide2 ? splide : Splide2;\n      event.on(EVENT_MOVE, (index, prev, dest) => {\n        target.go(target.is(LOOP) ? dest : index);\n      });\n      events.push(event);\n    });\n  }\n  function navigate() {\n    const event = EventInterface(Splide2);\n    const { on } = event;\n    on(EVENT_CLICK, onClick);\n    on(EVENT_SLIDE_KEYDOWN, onKeydown);\n    on([EVENT_MOUNTED, EVENT_UPDATED], update);\n    setAttribute(list, ROLE, \"menu\");\n    events.push(event);\n    event.emit(EVENT_NAVIGATION_MOUNTED, Splide2.splides);\n  }\n  function update() {\n    setAttribute(list, ARIA_ORIENTATION, options.direction !== TTB ? \"horizontal\" : null);\n  }\n  function onClick(Slide) {\n    Splide2.go(Slide.index);\n  }\n  function onKeydown(Slide, e) {\n    if (includes(TRIGGER_KEYS, e.key)) {\n      onClick(Slide);\n      prevent(e);\n    }\n  }\n  return {\n    mount,\n    destroy,\n    remount\n  };\n}\n\nfunction Wheel(Splide2, Components2, options) {\n  const { bind } = EventInterface(Splide2);\n  function mount() {\n    if (options.wheel) {\n      bind(Components2.Elements.track, \"wheel\", onWheel, SCROLL_LISTENER_OPTIONS);\n    }\n  }\n  function onWheel(e) {\n    if (e.cancelable) {\n      const { deltaY } = e;\n      if (deltaY) {\n        const backwards = deltaY < 0;\n        Splide2.go(backwards ? \"<\" : \">\");\n        shouldPrevent(backwards) && prevent(e);\n      }\n    }\n  }\n  function shouldPrevent(backwards) {\n    return !options.releaseWheel || Splide2.state.is(MOVING) || Components2.Controller.getAdjacent(backwards) !== -1;\n  }\n  return {\n    mount\n  };\n}\n\nvar ComponentConstructors = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  Options: Options,\n  Direction: Direction,\n  Elements: Elements,\n  Slides: Slides,\n  Layout: Layout,\n  Clones: Clones,\n  Move: Move,\n  Controller: Controller,\n  Arrows: Arrows,\n  Autoplay: Autoplay,\n  Cover: Cover,\n  Scroll: Scroll,\n  Drag: Drag,\n  Keyboard: Keyboard,\n  LazyLoad: LazyLoad,\n  Pagination: Pagination,\n  Sync: Sync,\n  Wheel: Wheel\n});\n\nconst I18N = {\n  prev: \"Previous slide\",\n  next: \"Next slide\",\n  first: \"Go to first slide\",\n  last: \"Go to last slide\",\n  slideX: \"Go to slide %s\",\n  pageX: \"Go to page %s\",\n  play: \"Start autoplay\",\n  pause: \"Pause autoplay\"\n};\n\nconst DEFAULTS = {\n  type: \"slide\",\n  speed: 400,\n  waitForTransition: true,\n  perPage: 1,\n  cloneStatus: true,\n  arrows: true,\n  pagination: true,\n  interval: 5e3,\n  pauseOnHover: true,\n  pauseOnFocus: true,\n  resetProgress: true,\n  easing: \"cubic-bezier(0.25, 1, 0.5, 1)\",\n  drag: true,\n  direction: \"ltr\",\n  slideFocus: true,\n  trimSpace: true,\n  focusableNodes: \"a, button, textarea, input, select, iframe\",\n  classes: CLASSES,\n  i18n: I18N\n};\n\nfunction Fade(Splide2, Components2, options) {\n  const { on } = EventInterface(Splide2);\n  function mount() {\n    on([EVENT_MOUNTED, EVENT_REFRESH], () => {\n      nextTick(() => {\n        Components2.Slides.style(\"transition\", `opacity ${options.speed}ms ${options.easing}`);\n      });\n    });\n  }\n  function start(index, done) {\n    const { track } = Components2.Elements;\n    style(track, \"height\", unit(rect(track).height));\n    nextTick(() => {\n      done();\n      style(track, \"height\", \"\");\n    });\n  }\n  return {\n    mount,\n    start,\n    cancel: noop\n  };\n}\n\nfunction Slide(Splide2, Components2, options) {\n  const { bind } = EventInterface(Splide2);\n  const { Move, Controller } = Components2;\n  const { list } = Components2.Elements;\n  let endCallback;\n  function mount() {\n    bind(list, \"transitionend\", (e) => {\n      if (e.target === list && endCallback) {\n        cancel();\n        endCallback();\n      }\n    });\n  }\n  function start(index, done) {\n    const destination = Move.toPosition(index, true);\n    const position = Move.getPosition();\n    const speed = getSpeed(index);\n    if (abs(destination - position) >= 1 && speed >= 1) {\n      apply(`transform ${speed}ms ${options.easing}`);\n      Move.translate(destination, true);\n      endCallback = done;\n    } else {\n      Move.jump(index);\n      done();\n    }\n  }\n  function cancel() {\n    apply(\"\");\n  }\n  function getSpeed(index) {\n    const { rewindSpeed } = options;\n    if (Splide2.is(SLIDE) && rewindSpeed) {\n      const prev = Controller.getIndex(true);\n      const end = Controller.getEnd();\n      if (prev === 0 && index >= end || prev >= end && index === 0) {\n        return rewindSpeed;\n      }\n    }\n    return options.speed;\n  }\n  function apply(transition) {\n    style(list, \"transition\", transition);\n  }\n  return {\n    mount,\n    start,\n    cancel\n  };\n}\n\nconst _Splide = class {\n  constructor(target, options) {\n    this.event = EventBus();\n    this.Components = {};\n    this.state = State(CREATED);\n    this.splides = [];\n    this._options = {};\n    this._Extensions = {};\n    const root = isString(target) ? query(document, target) : target;\n    assert(root, `${root} is invalid.`);\n    this.root = root;\n    merge(DEFAULTS, _Splide.defaults);\n    merge(merge(this._options, DEFAULTS), options || {});\n  }\n  mount(Extensions, Transition) {\n    const { state, Components: Components2 } = this;\n    assert(state.is([CREATED, DESTROYED]), \"Already mounted!\");\n    state.set(CREATED);\n    this._Components = Components2;\n    this._Transition = Transition || this._Transition || (this.is(FADE) ? Fade : Slide);\n    this._Extensions = Extensions || this._Extensions;\n    const Constructors = assign({}, ComponentConstructors, this._Extensions, { Transition: this._Transition });\n    forOwn(Constructors, (Component, key) => {\n      const component = Component(this, Components2, this._options);\n      Components2[key] = component;\n      component.setup && component.setup();\n    });\n    forOwn(Components2, (component) => {\n      component.mount && component.mount();\n    });\n    this.emit(EVENT_MOUNTED);\n    addClass(this.root, CLASS_INITIALIZED);\n    state.set(IDLE);\n    this.emit(EVENT_READY);\n    return this;\n  }\n  sync(splide) {\n    this.splides.push({ splide });\n    splide.splides.push({ splide: this, isParent: true });\n    if (this.state.is(IDLE)) {\n      this._Components.Sync.remount();\n      splide.Components.Sync.remount();\n    }\n    return this;\n  }\n  go(control) {\n    this._Components.Controller.go(control);\n    return this;\n  }\n  on(events, callback) {\n    this.event.on(events, callback, null, DEFAULT_USER_EVENT_PRIORITY);\n    return this;\n  }\n  off(events) {\n    this.event.off(events);\n    return this;\n  }\n  emit(event) {\n    this.event.emit(event, ...slice(arguments, 1));\n    return this;\n  }\n  add(slides, index) {\n    this._Components.Slides.add(slides, index);\n    return this;\n  }\n  remove(matcher) {\n    this._Components.Slides.remove(matcher);\n    return this;\n  }\n  is(type) {\n    return this._options.type === type;\n  }\n  refresh() {\n    this.emit(EVENT_REFRESH);\n    return this;\n  }\n  destroy(completely = true) {\n    const { event, state } = this;\n    if (state.is(CREATED)) {\n      event.on(EVENT_READY, this.destroy.bind(this, completely), this);\n    } else {\n      forOwn(this._Components, (component) => {\n        component.destroy && component.destroy(completely);\n      }, true);\n      event.emit(EVENT_DESTROY);\n      event.destroy();\n      completely && empty(this.splides);\n      state.set(DESTROYED);\n    }\n    return this;\n  }\n  get options() {\n    return this._options;\n  }\n  set options(options) {\n    const { _options } = this;\n    merge(_options, options);\n    if (!this.state.is(CREATED)) {\n      this.emit(EVENT_UPDATED, _options);\n    }\n  }\n  get length() {\n    return this._Components.Slides.getLength(true);\n  }\n  get index() {\n    return this._Components.Controller.getIndex();\n  }\n};\nlet Splide = _Splide;\nSplide.defaults = {};\nSplide.STATES = STATES;\n\nconst CLASS_RENDERED = \"is-rendered\";\n\nconst RENDERER_DEFAULT_CONFIG = {\n  listTag: \"ul\",\n  slideTag: \"li\"\n};\n\nclass Style {\n  constructor(id, options) {\n    this.styles = {};\n    this.id = id;\n    this.options = options;\n  }\n  rule(selector, prop, value, breakpoint) {\n    breakpoint = breakpoint || \"default\";\n    const selectors = this.styles[breakpoint] = this.styles[breakpoint] || {};\n    const styles = selectors[selector] = selectors[selector] || {};\n    styles[prop] = value;\n  }\n  build() {\n    let css = \"\";\n    if (this.styles.default) {\n      css += this.buildSelectors(this.styles.default);\n    }\n    Object.keys(this.styles).sort((n, m) => this.options.mediaQuery === \"min\" ? +n - +m : +m - +n).forEach((breakpoint) => {\n      if (breakpoint !== \"default\") {\n        css += `@media screen and (max-width: ${breakpoint}px) {`;\n        css += this.buildSelectors(this.styles[breakpoint]);\n        css += `}`;\n      }\n    });\n    return css;\n  }\n  buildSelectors(selectors) {\n    let css = \"\";\n    forOwn(selectors, (styles, selector) => {\n      selector = `#${this.id} ${selector}`.trim();\n      css += `${selector} {`;\n      forOwn(styles, (value, prop) => {\n        if (value || value === 0) {\n          css += `${prop}: ${value};`;\n        }\n      });\n      css += \"}\";\n    });\n    return css;\n  }\n}\n\nclass SplideRenderer {\n  constructor(contents, options, config, defaults) {\n    this.slides = [];\n    this.options = {};\n    this.breakpoints = [];\n    merge(DEFAULTS, defaults || {});\n    merge(merge(this.options, DEFAULTS), options || {});\n    this.contents = contents;\n    this.config = assign({}, RENDERER_DEFAULT_CONFIG, config || {});\n    this.id = this.config.id || uniqueId(\"splide\");\n    this.Style = new Style(this.id, this.options);\n    this.Direction = Direction(null, null, this.options);\n    assert(this.contents.length, \"Provide at least 1 content.\");\n    this.init();\n  }\n  static clean(splide) {\n    const { on } = EventInterface(splide);\n    const { root } = splide;\n    const clones = queryAll(root, `.${CLASS_CLONE}`);\n    on(EVENT_MOUNTED, () => {\n      remove(child(root, \"style\"));\n    });\n    remove(clones);\n  }\n  init() {\n    this.parseBreakpoints();\n    this.initSlides();\n    this.registerRootStyles();\n    this.registerTrackStyles();\n    this.registerSlideStyles();\n    this.registerListStyles();\n  }\n  initSlides() {\n    push(this.slides, this.contents.map((content, index) => {\n      content = isString(content) ? { html: content } : content;\n      content.styles = content.styles || {};\n      content.attrs = content.attrs || {};\n      this.cover(content);\n      const classes = `${this.options.classes.slide} ${index === 0 ? CLASS_ACTIVE : \"\"}`;\n      assign(content.attrs, {\n        class: `${classes} ${content.attrs.class || \"\"}`.trim(),\n        style: this.buildStyles(content.styles)\n      });\n      return content;\n    }));\n    if (this.isLoop()) {\n      this.generateClones(this.slides);\n    }\n  }\n  registerRootStyles() {\n    this.breakpoints.forEach(([width, options]) => {\n      this.Style.rule(\" \", \"max-width\", unit(options.width), width);\n    });\n  }\n  registerTrackStyles() {\n    const { Style: Style2 } = this;\n    const selector = `.${CLASS_TRACK}`;\n    this.breakpoints.forEach(([width, options]) => {\n      Style2.rule(selector, this.resolve(\"paddingLeft\"), this.cssPadding(options, false), width);\n      Style2.rule(selector, this.resolve(\"paddingRight\"), this.cssPadding(options, true), width);\n      Style2.rule(selector, \"height\", this.cssTrackHeight(options), width);\n    });\n  }\n  registerListStyles() {\n    const { Style: Style2 } = this;\n    const selector = `.${CLASS_LIST}`;\n    this.breakpoints.forEach(([width, options]) => {\n      Style2.rule(selector, \"transform\", this.buildTranslate(options), width);\n      if (!this.cssSlideHeight(options)) {\n        Style2.rule(selector, \"aspect-ratio\", this.cssAspectRatio(options), width);\n      }\n    });\n  }\n  registerSlideStyles() {\n    const { Style: Style2 } = this;\n    const selector = `.${CLASS_SLIDE}`;\n    this.breakpoints.forEach(([width, options]) => {\n      Style2.rule(selector, \"width\", this.cssSlideWidth(options), width);\n      Style2.rule(selector, \"height\", this.cssSlideHeight(options) || \"100%\", width);\n      Style2.rule(selector, this.resolve(\"marginRight\"), unit(options.gap) || \"0px\", width);\n      Style2.rule(`${selector} > img`, \"display\", options.cover ? \"none\" : \"inline\", width);\n    });\n  }\n  buildTranslate(options) {\n    const { resolve, orient } = this.Direction;\n    const values = [];\n    values.push(this.cssOffsetClones(options));\n    values.push(this.cssOffsetGaps(options));\n    if (this.isCenter(options)) {\n      values.push(this.buildCssValue(orient(-50), \"%\"));\n      values.push(...this.cssOffsetCenter(options));\n    }\n    return values.filter(Boolean).map((value) => `translate${resolve(\"X\")}(${value})`).join(\" \");\n  }\n  cssOffsetClones(options) {\n    const { resolve, orient } = this.Direction;\n    const cloneCount = this.getCloneCount();\n    if (this.isFixedWidth(options)) {\n      const { value, unit: unit2 } = this.parseCssValue(options[resolve(\"fixedWidth\")]);\n      return this.buildCssValue(orient(value) * cloneCount, unit2);\n    }\n    const percent = 100 * cloneCount / options.perPage;\n    return `${orient(percent)}%`;\n  }\n  cssOffsetCenter(options) {\n    const { resolve, orient } = this.Direction;\n    if (this.isFixedWidth(options)) {\n      const { value, unit: unit2 } = this.parseCssValue(options[resolve(\"fixedWidth\")]);\n      return [this.buildCssValue(orient(value / 2), unit2)];\n    }\n    const values = [];\n    const { perPage, gap } = options;\n    values.push(`${orient(50 / perPage)}%`);\n    if (gap) {\n      const { value, unit: unit2 } = this.parseCssValue(gap);\n      const gapOffset = (value / perPage - value) / 2;\n      values.push(this.buildCssValue(orient(gapOffset), unit2));\n    }\n    return values;\n  }\n  cssOffsetGaps(options) {\n    const cloneCount = this.getCloneCount();\n    if (cloneCount && options.gap) {\n      const { orient } = this.Direction;\n      const { value, unit: unit2 } = this.parseCssValue(options.gap);\n      if (this.isFixedWidth(options)) {\n        return this.buildCssValue(orient(value * cloneCount), unit2);\n      }\n      const { perPage } = options;\n      const gaps = cloneCount / perPage;\n      return this.buildCssValue(orient(gaps * value), unit2);\n    }\n    return \"\";\n  }\n  resolve(prop) {\n    return camelToKebab(this.Direction.resolve(prop));\n  }\n  cssPadding(options, right) {\n    const { padding } = options;\n    const prop = this.Direction.resolve(right ? \"right\" : \"left\", true);\n    return padding && unit(padding[prop] || (isObject(padding) ? 0 : padding)) || \"0px\";\n  }\n  cssTrackHeight(options) {\n    let height = \"\";\n    if (this.isVertical()) {\n      height = this.cssHeight(options);\n      assert(height, '\"height\" is missing.');\n      height = `calc(${height} - ${this.cssPadding(options, false)} - ${this.cssPadding(options, true)})`;\n    }\n    return height;\n  }\n  cssHeight(options) {\n    return unit(options.height);\n  }\n  cssSlideWidth(options) {\n    return options.autoWidth ? \"\" : unit(options.fixedWidth) || (this.isVertical() ? \"\" : this.cssSlideSize(options));\n  }\n  cssSlideHeight(options) {\n    return unit(options.fixedHeight) || (this.isVertical() ? options.autoHeight ? \"\" : this.cssSlideSize(options) : this.cssHeight(options));\n  }\n  cssSlideSize(options) {\n    const gap = unit(options.gap);\n    return `calc((100%${gap && ` + ${gap}`})/${options.perPage || 1}${gap && ` - ${gap}`})`;\n  }\n  cssAspectRatio(options) {\n    const { heightRatio } = options;\n    return heightRatio ? `${1 / heightRatio}` : \"\";\n  }\n  buildCssValue(value, unit2) {\n    return `${value}${unit2}`;\n  }\n  parseCssValue(value) {\n    if (isString(value)) {\n      const number = parseFloat(value) || 0;\n      const unit2 = value.replace(/\\d*(\\.\\d*)?/, \"\") || \"px\";\n      return { value: number, unit: unit2 };\n    }\n    return { value, unit: \"px\" };\n  }\n  parseBreakpoints() {\n    const { breakpoints } = this.options;\n    this.breakpoints.push([\"default\", this.options]);\n    if (breakpoints) {\n      forOwn(breakpoints, (options, width) => {\n        this.breakpoints.push([width, merge(merge({}, this.options), options)]);\n      });\n    }\n  }\n  isFixedWidth(options) {\n    return !!options[this.Direction.resolve(\"fixedWidth\")];\n  }\n  isLoop() {\n    return this.options.type === LOOP;\n  }\n  isCenter(options) {\n    if (options.focus === \"center\") {\n      if (this.isLoop()) {\n        return true;\n      }\n      if (this.options.type === SLIDE) {\n        return !this.options.trimSpace;\n      }\n    }\n    return false;\n  }\n  isVertical() {\n    return this.options.direction === TTB;\n  }\n  buildClasses() {\n    const { options } = this;\n    return [\n      CLASS_ROOT,\n      `${CLASS_ROOT}--${options.type}`,\n      `${CLASS_ROOT}--${options.direction}`,\n      options.drag && `${CLASS_ROOT}--draggable`,\n      options.isNavigation && `${CLASS_ROOT}--nav`,\n      CLASS_ACTIVE,\n      !this.config.hidden && CLASS_RENDERED\n    ].filter(Boolean).join(\" \");\n  }\n  buildAttrs(attrs) {\n    let attr = \"\";\n    forOwn(attrs, (value, key) => {\n      attr += value ? ` ${camelToKebab(key)}=\"${value}\"` : \"\";\n    });\n    return attr.trim();\n  }\n  buildStyles(styles) {\n    let style = \"\";\n    forOwn(styles, (value, key) => {\n      style += ` ${camelToKebab(key)}:${value};`;\n    });\n    return style.trim();\n  }\n  renderSlides() {\n    const { slideTag: tag } = this.config;\n    return this.slides.map((content) => {\n      return `<${tag} ${this.buildAttrs(content.attrs)}>${content.html || \"\"}</${tag}>`;\n    }).join(\"\");\n  }\n  cover(content) {\n    const { styles, html = \"\" } = content;\n    if (this.options.cover && !this.options.lazyLoad) {\n      const src = html.match(/<img.*?src\\s*=\\s*(['\"])(.+?)\\1.*?>/);\n      if (src && src[2]) {\n        styles.background = `center/cover no-repeat url('${src[2]}')`;\n      }\n    }\n  }\n  generateClones(contents) {\n    const { classes } = this.options;\n    const count = this.getCloneCount();\n    const slides = contents.slice();\n    while (slides.length < count) {\n      push(slides, slides);\n    }\n    push(slides.slice(-count).reverse(), slides.slice(0, count)).forEach((content, index) => {\n      const attrs = assign({}, content.attrs, { class: `${content.attrs.class} ${classes.clone}` });\n      const clone = assign({}, content, { attrs });\n      index < count ? contents.unshift(clone) : contents.push(clone);\n    });\n  }\n  getCloneCount() {\n    if (this.isLoop()) {\n      const { options } = this;\n      if (options.clones) {\n        return options.clones;\n      }\n      const perPage = max(...this.breakpoints.map(([, options2]) => options2.perPage));\n      return perPage * ((options.flickMaxPages || 1) + 1);\n    }\n    return 0;\n  }\n  renderArrows() {\n    let html = \"\";\n    html += `<div class=\"${this.options.classes.arrows}\">`;\n    html += this.renderArrow(true);\n    html += this.renderArrow(false);\n    html += `</div>`;\n    return html;\n  }\n  renderArrow(prev) {\n    const { classes, i18n } = this.options;\n    const attrs = {\n      class: `${classes.arrow} ${prev ? classes.prev : classes.next}`,\n      type: \"button\",\n      ariaLabel: prev ? i18n.prev : i18n.next\n    };\n    return `<button ${this.buildAttrs(attrs)}><svg xmlns=\"${XML_NAME_SPACE}\" viewBox=\"0 0 ${SIZE} ${SIZE}\" width=\"${SIZE}\" height=\"${SIZE}\"><path d=\"${this.options.arrowPath || PATH}\" /></svg></button>`;\n  }\n  html() {\n    const { rootClass, listTag, arrows, beforeTrack, afterTrack, slider, beforeSlider, afterSlider } = this.config;\n    let html = \"\";\n    html += `<div id=\"${this.id}\" class=\"${this.buildClasses()} ${rootClass || \"\"}\">`;\n    html += `<style>${this.Style.build()}</style>`;\n    if (slider) {\n      html += beforeSlider || \"\";\n      html += `<div class=\"splide__slider\">`;\n    }\n    html += beforeTrack || \"\";\n    if (arrows) {\n      html += this.renderArrows();\n    }\n    html += `<div class=\"splide__track\">`;\n    html += `<${listTag} class=\"splide__list\">`;\n    html += this.renderSlides();\n    html += `</${listTag}>`;\n    html += `</div>`;\n    html += afterTrack || \"\";\n    if (slider) {\n      html += `</div>`;\n      html += afterSlider || \"\";\n    }\n    html += `</div>`;\n    return html;\n  }\n}\n\nexport { CLASSES, CLASS_ACTIVE, CLASS_ARROW, CLASS_ARROWS, CLASS_ARROW_NEXT, CLASS_ARROW_PREV, CLASS_AUTOPLAY, CLASS_CLONE, CLASS_CONTAINER, CLASS_INITIALIZED, CLASS_LIST, CLASS_LOADING, CLASS_NEXT, CLASS_PAGINATION, CLASS_PAGINATION_PAGE, CLASS_PAUSE, CLASS_PLAY, CLASS_PREV, CLASS_PROGRESS, CLASS_PROGRESS_BAR, CLASS_ROOT, CLASS_SLIDE, CLASS_SLIDER, CLASS_SPINNER, CLASS_TRACK, CLASS_VISIBLE, EVENT_ACTIVE, EVENT_ARROWS_MOUNTED, EVENT_ARROWS_UPDATED, EVENT_AUTOPLAY_PAUSE, EVENT_AUTOPLAY_PLAY, EVENT_AUTOPLAY_PLAYING, EVENT_CLICK, EVENT_DESTROY, EVENT_DRAG, EVENT_DRAGGED, EVENT_DRAGGING, EVENT_HIDDEN, EVENT_INACTIVE, EVENT_LAZYLOAD_LOADED, EVENT_MOUNTED, EVENT_MOVE, EVENT_MOVED, EVENT_NAVIGATION_MOUNTED, EVENT_PAGINATION_MOUNTED, EVENT_PAGINATION_UPDATED, EVENT_READY, EVENT_REFRESH, EVENT_REPOSITIONED, EVENT_RESIZE, EVENT_RESIZED, EVENT_SCROLL, EVENT_SCROLLED, EVENT_SHIFTED, EVENT_SLIDE_KEYDOWN, EVENT_UPDATED, EVENT_VISIBLE, EventBus, EventInterface, RequestInterval, STATUS_CLASSES, Splide, SplideRenderer, State, Throttle, Splide as default };\n","/**\n * Check to see if an object is a plain object (created using \"{}\" or \"new Object\").\n * @param {*} obj Variable of any type\n * @returns {Boolean}\n */\nexport const isPlainObject = (obj) => {\n  return (\n    // separate from primitives\n    typeof obj === \"object\" &&\n    // is obvious\n    obj !== null &&\n    // separate instances (Array, DOM, ...)\n    obj.constructor === Object &&\n    // separate build-in like Math\n    Object.prototype.toString.call(obj) === \"[object Object]\"\n  );\n};\n","import { isPlainObject } from \"./isPlainObject.js\";\n\n/**\n * Merge the contents of two or more objects together into the first object.\n * If passing \"true\" for first argument, the merge becomes recursive (aka. deep copy).\n * @param  {...any} args\n * @returns {Object}\n */\nexport const extend = (...args) => {\n  let deep = false;\n\n  if (typeof args[0] == \"boolean\") {\n    deep = args.shift();\n  }\n\n  let result = args[0];\n\n  if (!result || typeof result !== \"object\") {\n    throw new Error(\"extendee must be an object\");\n  }\n\n  const extenders = args.slice(1);\n  const len = extenders.length;\n\n  for (let i = 0; i < len; i++) {\n    const extender = extenders[i];\n\n    for (let key in extender) {\n      if (extender.hasOwnProperty(key)) {\n        const value = extender[key];\n\n        if (deep && (Array.isArray(value) || isPlainObject(value))) {\n          const base = Array.isArray(value) ? [] : {};\n\n          result[key] = extend(true, result.hasOwnProperty(key) ? result[key] : base, value);\n        } else {\n          result[key] = value;\n        }\n      }\n    }\n  }\n\n  return result;\n};\n","/**\r\n * Detect if rendering from the client or the server\r\n */\r\nexport const canUseDOM = !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\r\n","/**\n * Access nested JavaScript objects by string path.\n * Example: `resolve(\"a.b.c\", {a:{b:{c:\"d\"}})` would return `d`\n * @param {String} path\n * @param {Object} obj\n * @returns {*}\n */\nexport const resolve = function (path, obj) {\n  return path.split(\".\").reduce(function (prev, curr) {\n    return prev && prev[curr];\n  }, obj);\n};\n","import { extend } from \"../utils/extend.js\";\nimport { resolve } from \"../utils/resolve.js\";\nimport { isPlainObject } from \"../utils/isPlainObject.js\";\n\n/**\n * Base class, all components inherit from this class\n */\nexport class Base {\n  /**\n   * Base constructor\n   * @param {Object} [options] - Options as `key: value` pairs\n   */\n  constructor(options = {}) {\n    this.options = extend(true, {}, options);\n\n    this.plugins = [];\n    this.events = {};\n\n    // * Prefill with initial events\n    for (const type of [\"on\", \"once\"]) {\n      for (const args of Object.entries(this.options[type] || {})) {\n        this[type](...args);\n      }\n    }\n  }\n\n  /**\n   * Retrieve option value by key, supports subkeys\n   * @param {String} key Option name\n   * @param {*} [fallback] Fallback value for non-existing key\n   * @returns {*}\n   */\n  option(key, fallback, ...rest) {\n    // Make sure it is string\n    key = String(key);\n\n    let value = resolve(key, this.options);\n\n    // Allow to have functions as options\n    if (typeof value === \"function\") {\n      value = value.call(this, this, ...rest);\n    }\n\n    return value === undefined ? fallback : value;\n  }\n\n  /**\n   * Simple l10n support - replaces object keys\n   * found in template with corresponding values\n   * @param {String} str String containing values to localize\n   * @param {Array} params Substitute parameters\n   * @returns {String}\n   */\n  localize(str, params = []) {\n    return String(str).replace(/\\{\\{(\\w+).?(\\w+)?\\}\\}/g, (match, key, subkey) => {\n      let rez = false;\n\n      // Plugins have `Plugin.l10n.KEY`\n      if (subkey) {\n        rez = this.option(`${key[0] + key.toLowerCase().substring(1)}.l10n.${subkey}`);\n      } else {\n        rez = this.option(`l10n.${key}`);\n      }\n\n      if (!rez) {\n        return key;\n      }\n\n      for (let index = 0; index < params.length; index++) {\n        rez = rez.split(params[index][0]).join(params[index][1]);\n      }\n\n      return rez;\n    });\n  }\n\n  /**\n   * Subscribe to an event\n   * @param {String} name\n   * @param {Function} callback\n   * @returns {Object}\n   */\n  on(name, callback) {\n    if (isPlainObject(name)) {\n      for (const args of Object.entries(name)) {\n        this.on(...args);\n      }\n\n      return this;\n    }\n\n    String(name)\n      .split(\" \")\n      .forEach((item) => {\n        const listeners = (this.events[item] = this.events[item] || []);\n\n        if (listeners.indexOf(callback) == -1) {\n          listeners.push(callback);\n        }\n      });\n\n    return this;\n  }\n\n  /**\n   * Subscribe to an event only once\n   * @param {String} name\n   * @param {Function} callback\n   * @returns {Object}\n   */\n  once(name, callback) {\n    if (isPlainObject(name)) {\n      for (const args of Object.entries(name)) {\n        this.once(...args);\n      }\n\n      return this;\n    }\n\n    String(name)\n      .split(\" \")\n      .forEach((item) => {\n        const listener = (...details) => {\n          this.off(item, listener);\n          callback.call(this, this, ...details);\n        };\n\n        listener._ = callback;\n\n        this.on(item, listener);\n      });\n\n    return this;\n  }\n\n  /**\n   * Unsubscribe event with name and callback\n   * @param {String} name\n   * @param {Function} callback\n   * @returns {Object}\n   */\n  off(name, callback) {\n    if (isPlainObject(name)) {\n      for (const args of Object.entries(name)) {\n        this.off(...args);\n      }\n\n      return;\n    }\n\n    name.split(\" \").forEach((item) => {\n      const listeners = this.events[item];\n\n      if (!listeners || !listeners.length) {\n        return this;\n      }\n\n      let index = -1;\n\n      for (let i = 0, len = listeners.length; i < len; i++) {\n        const listener = listeners[i];\n\n        if (listener && (listener === callback || listener._ === callback)) {\n          index = i;\n          break;\n        }\n      }\n\n      if (index != -1) {\n        listeners.splice(index, 1);\n      }\n    });\n\n    return this;\n  }\n\n  /**\n   * Emit an event.\n   * If present, `\"*\"` handlers are invoked after name-matched handlers.\n   * @param {String} name\n   * @param  {...any} details\n   * @returns {Boolean}\n   */\n  trigger(name, ...details) {\n    for (const listener of [...(this.events[name] || [])].slice()) {\n      if (listener && listener.call(this, this, ...details) === false) {\n        return false;\n      }\n    }\n\n    // A wildcard \"*\" event type\n    for (const listener of [...(this.events[\"*\"] || [])].slice()) {\n      if (listener && listener.call(this, name, this, ...details) === false) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  /**\n   * Add given plugins to this instance,\n   * this will end up calling `attach` method of each plugin\n   * @param {Object} Plugins\n   * @returns {Object}\n   */\n  attachPlugins(plugins) {\n    const newPlugins = {};\n\n    for (const [key, Plugin] of Object.entries(plugins || {})) {\n      // Check if this plugin is not disabled by option\n      if (this.options[key] !== false && !this.plugins[key]) {\n        // Populate options with defaults from the plugin\n        this.options[key] = extend({}, Plugin.defaults || {}, this.options[key]);\n\n        // Initialise plugin\n        newPlugins[key] = new Plugin(this);\n      }\n    }\n\n    for (const [key, plugin] of Object.entries(newPlugins)) {\n      plugin.attach(this);\n    }\n\n    this.plugins = Object.assign({}, this.plugins, newPlugins);\n\n    return this;\n  }\n\n  /**\n   * Remove all plugin instances from this instance,\n   * this will end up calling `detach` method of each plugin\n   * @returns {Object}\n   */\n  detachPlugins() {\n    for (const key in this.plugins) {\n      let plugin;\n\n      if ((plugin = this.plugins[key]) && typeof plugin.detach === \"function\") {\n        plugin.detach(this);\n      }\n    }\n\n    this.plugins = {};\n\n    return this;\n  }\n}\n","/**\n * Round half up; to be more specific and to ensure things like 1.005 round correctly\n * @param {Float} value\n * @param {Integer} precision\n * @returns {Float}\n */\nexport const round = (value, precision = 10000) => {\n  value = parseFloat(value) || 0;\n\n  return Math.round((value + Number.EPSILON) * precision) / precision;\n};\n","/**\n * ResizeObserver Polyfill\n */\nexport const ResizeObserver =\n  (typeof window !== \"undefined\" && window.ResizeObserver) ||\n  class {\n    constructor(callback) {\n      this.observables = [];\n      // Array of observed elements that looks like this:\n      // [{\n      //   el: domNode,\n      //   size: {height: x, width: y}\n      // }]\n      this.boundCheck = this.check.bind(this);\n      this.boundCheck();\n      this.callback = callback;\n    }\n\n    observe(el) {\n      if (this.observables.some((observable) => observable.el === el)) {\n        return;\n      }\n\n      const newObservable = {\n        el: el,\n        size: {\n          height: el.clientHeight,\n          width: el.clientWidth,\n        },\n      };\n\n      this.observables.push(newObservable);\n    }\n\n    unobserve(el) {\n      this.observables = this.observables.filter((obj) => obj.el !== el);\n    }\n\n    disconnect() {\n      this.observables = [];\n    }\n\n    check() {\n      const changedEntries = this.observables\n        .filter((obj) => {\n          const currentHeight = obj.el.clientHeight;\n          const currentWidth = obj.el.clientWidth;\n          if (obj.size.height !== currentHeight || obj.size.width !== currentWidth) {\n            obj.size.height = currentHeight;\n            obj.size.width = currentWidth;\n            return true;\n          }\n        })\n        .map((obj) => obj.el);\n\n      if (changedEntries.length > 0) {\n        this.callback(changedEntries);\n      }\n\n      window.requestAnimationFrame(this.boundCheck);\n    }\n  };\n","/**\n *  Deselect any text which may be selected on a page\n */\nexport const clearTextSelection = () => {\n  const selection = window.getSelection ? window.getSelection() : document.selection;\n\n  if (selection && selection.rangeCount && selection.getRangeAt(0).getClientRects().length) {\n    if (selection.removeAllRanges) {\n      selection.removeAllRanges();\n    } else if (selection.empty) {\n      selection.empty();\n    }\n  }\n};\n","import { clearTextSelection } from \"./clearTextSelection.js\";\r\n\r\nclass Pointer {\r\n  constructor(nativePointer) {\r\n    this.id = -1;\r\n\r\n    this.id = nativePointer.pointerId || nativePointer.identifier || -1;\r\n\r\n    this.pageX = nativePointer.pageX;\r\n    this.pageY = nativePointer.pageY;\r\n\r\n    this.clientX = nativePointer.clientX;\r\n    this.clientY = nativePointer.clientY;\r\n\r\n    this.nativePointer = nativePointer;\r\n  }\r\n}\r\n\r\nfunction getDistance(a, b) {\r\n  if (!b) {\r\n    return 0;\r\n  }\r\n\r\n  return Math.sqrt((b.clientX - a.clientX) ** 2 + (b.clientY - a.clientY) ** 2);\r\n}\r\n\r\nfunction getMidpoint(a, b) {\r\n  if (!b) {\r\n    return a;\r\n  }\r\n\r\n  return {\r\n    clientX: (a.clientX + b.clientX) / 2,\r\n    clientY: (a.clientY + b.clientY) / 2,\r\n  };\r\n}\r\n\r\nclass PointerTracker {\r\n  constructor(element, { start = () => true, move = () => {}, end = () => {} } = {}) {\r\n    this.element = element;\r\n\r\n    this.startPointers = [];\r\n    this.currentPointers = [];\r\n\r\n    this.startCallback = start;\r\n    this.moveCallback = move;\r\n    this.endCallback = end;\r\n\r\n    this.onStart = (event) => {\r\n      if (event.button && event.button !== 0) {\r\n        return;\r\n      }\r\n\r\n      const pointer = new Pointer(event);\r\n\r\n      if (this.startCallback(pointer, event) === false) {\r\n        return false;\r\n      }\r\n\r\n      event.preventDefault();\r\n\r\n      clearTextSelection();\r\n\r\n      this.currentPointers.push(pointer);\r\n      this.startPointers.push(pointer);\r\n\r\n      const capturingElement = event.target && \"setPointerCapture\" in event.target ? event.target : this.element;\r\n\r\n      capturingElement.setPointerCapture(event.pointerId);\r\n\r\n      this.element.addEventListener(\"pointermove\", this.onMove);\r\n      this.element.addEventListener(\"pointerup\", this.onEnd);\r\n      this.element.addEventListener(\"pointercancel\", this.onEnd);\r\n    };\r\n\r\n    this.onMove = (event) => {\r\n      const previousPointers = this.currentPointers.slice();\r\n      const trackedChangedPointers = [];\r\n\r\n      for (const pointer of [new Pointer(event)]) {\r\n        const index = this.currentPointers.findIndex((p) => p.id === pointer.id);\r\n\r\n        if (index < 0) {\r\n          continue;\r\n        }\r\n\r\n        trackedChangedPointers.push(pointer);\r\n\r\n        this.currentPointers[index] = pointer;\r\n      }\r\n\r\n      if (trackedChangedPointers.length) {\r\n        this.moveCallback(previousPointers, this.currentPointers, event);\r\n      }\r\n    };\r\n\r\n    this.onEnd = (event) => {\r\n      const pointer = new Pointer(event);\r\n      const index = this.currentPointers.findIndex((p) => p.id === pointer.id);\r\n\r\n      if (index === -1) {\r\n        return false;\r\n      }\r\n\r\n      this.currentPointers.splice(index, 1);\r\n      this.startPointers.splice(index, 1);\r\n\r\n      this.endCallback(pointer, event);\r\n\r\n      if (!this.currentPointers.length) {\r\n        this.element.removeEventListener(\"pointermove\", this.onMove);\r\n        this.element.removeEventListener(\"pointerup\", this.onEnd);\r\n        this.element.removeEventListener(\"pointercancel\", this.onEnd);\r\n      }\r\n    };\r\n\r\n    this.element.addEventListener(\"pointerdown\", this.onStart);\r\n  }\r\n\r\n  stop() {\r\n    this.element.removeEventListener(\"pointerdown\", this.onStart);\r\n    this.element.removeEventListener(\"pointermove\", this.onMove);\r\n    this.element.removeEventListener(\"pointerup\", this.onEnd);\r\n    this.element.removeEventListener(\"pointercancel\", this.onEnd);\r\n  }\r\n}\r\n\r\nexport { PointerTracker, getDistance, getMidpoint };\r\n","/**\n * Check if  element has scrollable content\n * @param {Node} node\n * @returns {Boolean}\n */\nexport const hasScrollbars = function (node) {\n  const overflowY = getComputedStyle(node)[\"overflow-y\"],\n    overflowX = getComputedStyle(node)[\"overflow-x\"],\n    vertical = (overflowY === \"scroll\" || overflowY === \"auto\") && Math.abs(node.scrollHeight - node.clientHeight) > 1,\n    horizontal = (overflowX === \"scroll\" || overflowX === \"auto\") && Math.abs(node.scrollWidth - node.clientWidth) > 1;\n\n  return vertical || horizontal;\n};\n\n/**\n * Check if element or one of the parents is scrollable\n * @param {Node} node  DOM Node element\n * @returns {Boolean}\n */\nexport const isScrollable = function (node) {\n  if (!node || !(typeof node === \"object\" && node instanceof Element) || node === document.body) {\n    return false;\n  }\n\n  if (hasScrollbars(node)) {\n    return node;\n  }\n\n  return isScrollable(node.parentNode);\n};\n","/**\n * Get element child node at the given coordinates\n * @param {Element} HTML element\n * @param {Float|Integer} x\n * @param {Float|Integer} y\n * @returns {Node|Boolean}}\n */\nexport const getTextNodeFromPoint = (element, x, y) => {\n  const nodes = element.childNodes;\n  const range = document.createRange();\n\n  for (let i = 0; i < nodes.length; i++) {\n    const node = nodes[i];\n\n    if (node.nodeType !== Node.TEXT_NODE) {\n      continue;\n    }\n\n    range.selectNodeContents(node);\n\n    const rect = range.getBoundingClientRect();\n\n    if (x >= rect.left && y >= rect.top && x <= rect.right && y <= rect.bottom) {\n      return node;\n    }\n  }\n\n  return false;\n};\n","/**\n * Get actual width of the element, regardless of how much of content is currently visible\n * @param {Element} elem\n * @returns {Integer}\n */\nexport const getFullWidth = (elem) => {\n  return Math.max(\n    parseFloat(elem.naturalWidth || 0),\n    parseFloat((elem.width && elem.width.baseVal && elem.width.baseVal.value) || 0),\n    parseFloat(elem.offsetWidth || 0),\n    parseFloat(elem.scrollWidth || 0)\n  );\n};\n\n/**\n * Get actual height of the element, regardless of how much of content is currently visible\n * @param {Element} elem\n * @returns {Integer}\n */\nexport const getFullHeight = (elem) => {\n  return Math.max(\n    parseFloat(elem.naturalHeight || 0),\n    parseFloat((elem.height && elem.height.baseVal && elem.height.baseVal.value) || 0),\n    parseFloat(elem.offsetHeight || 0),\n    parseFloat(elem.scrollHeight || 0)\n  );\n};\n\n/**\n * Calculate bounding size to fit dimensions while preserving aspect ratio\n * @param {Number} srcWidth\n * @param {Number} srcHeight\n * @param {Number} maxWidth\n * @param {Number} maxHeight\n * @returns {Object}\n */\nexport const calculateAspectRatioFit = (srcWidth, srcHeight, maxWidth, maxHeight) => {\n  const ratio = Math.min(maxWidth / srcWidth || 0, maxHeight / srcHeight);\n\n  return { width: srcWidth * ratio || 0, height: srcHeight * ratio || 0 };\n};\n","export const Plugins = {};\n","import { extend } from \"../shared/utils/extend.js\";\nimport { round } from \"../shared/utils/round.js\";\n\nimport { ResizeObserver } from \"../shared/utils/ResizeObserver.js\";\nimport { PointerTracker, getMidpoint, getDistance } from \"../shared/utils/PointerTracker.js\";\n\nimport { isScrollable } from \"../shared/utils/isScrollable.js\";\nimport { getTextNodeFromPoint } from \"../shared/utils/getTextNodeFromPoint.js\";\n\nimport { getFullWidth, getFullHeight, calculateAspectRatioFit } from \"../shared/utils/getDimensions.js\";\n\nimport { Base } from \"../shared/Base/Base.js\";\n\nimport { Plugins } from \"./plugins/index.js\";\n\nconst defaults = {\n  // Enable touch guestures\n  touch: true,\n\n  // Enable zooming\n  zoom: true,\n\n  // Enable pinch gesture to zoom in/out using two fingers\n  pinchToZoom: true,\n\n  // Disable dragging if scale level is equal to value of `baseScale` option\n  panOnlyZoomed: false,\n\n  // Lock axis while dragging,\n  // possible values: false | \"x\" | \"y\" | \"xy\"\n  lockAxis: false,\n\n  // * All friction values are inside [0, 1) interval,\n  // * where 0 would change instantly, but 0.99 would update extremely slowly\n\n  // Friction while panning/dragging\n  friction: 0.64,\n\n  // Friction while decelerating after drag end\n  decelFriction: 0.88,\n\n  // Friction while scaling\n  zoomFriction: 0.74,\n\n  // Bounciness after hitting the edge\n  bounceForce: 0.2,\n\n  // Initial scale level\n  baseScale: 1,\n\n  // Minimum scale level\n  minScale: 1,\n\n  // Maximum scale level\n  maxScale: 2,\n\n  // Default scale step while zooming\n  step: 0.5,\n\n  // Allow to select text,\n  // if enabled, dragging will be disabled when text selection is detected\n  textSelection: false,\n\n  // Add `click` event listener,\n  // possible values: true | false | function | \"toggleZoom\"\n  click: \"toggleZoom\",\n\n  // Add `wheel` event listener,\n  // possible values: true | false | function |  \"zoom\"\n  wheel: \"zoom\",\n\n  // Value for zoom on mouse wheel\n  wheelFactor: 42,\n\n  // Number of wheel events after which it should stop preventing default behaviour of mouse wheel\n  wheelLimit: 5,\n\n  // Class name added to `$viewport` element to indicate if content is draggable\n  draggableClass: \"is-draggable\",\n\n  // Class name added to `$viewport` element to indicate that user is currently dragging\n  draggingClass: \"is-dragging\",\n\n  // Content will be scaled by this number,\n  // this can also be a function which should return a number, for example:\n  // ratio: function() { return 1 / (window.devicePixelRatio || 1) }\n  ratio: 1,\n};\n\nexport class Panzoom extends Base {\n  /**\n   * Panzoom constructor\n   * @constructs Panzoom\n   * @param {HTMLElement} $viewport Panzoom container\n   * @param {Object} [options] Options for Panzoom\n   */\n  constructor($container, options = {}) {\n    super(extend(true, {}, defaults, options));\n\n    this.state = \"init\";\n\n    this.$container = $container;\n\n    // Bind event handlers for referencability\n    for (const methodName of [\"onLoad\", \"onWheel\", \"onClick\"]) {\n      this[methodName] = this[methodName].bind(this);\n    }\n\n    this.initLayout();\n\n    this.resetValues();\n\n    this.attachPlugins(Panzoom.Plugins);\n\n    this.trigger(\"init\");\n\n    this.updateMetrics();\n\n    this.attachEvents();\n\n    this.trigger(\"ready\");\n\n    if (this.option(\"centerOnStart\") === false) {\n      this.state = \"ready\";\n    } else {\n      this.panTo({\n        friction: 0,\n      });\n    }\n  }\n\n  /**\n   * Create references to container, viewport and content elements\n   */\n  initLayout() {\n    const $container = this.$container;\n\n    // Make sure content element exists\n    if (!($container instanceof HTMLElement)) {\n      throw new Error(\"Panzoom: Container not found\");\n    }\n\n    const $content = this.option(\"content\") || $container.querySelector(\".panzoom__content\");\n\n    // Make sure content element exists\n    if (!$content) {\n      throw new Error(\"Panzoom: Content not found\");\n    }\n\n    this.$content = $content;\n\n    let $viewport = this.option(\"viewport\") || $container.querySelector(\".panzoom__viewport\");\n\n    if (!$viewport && this.option(\"wrapInner\") !== false) {\n      $viewport = document.createElement(\"div\");\n      $viewport.classList.add(\"panzoom__viewport\");\n\n      $viewport.append(...$container.childNodes);\n\n      $container.appendChild($viewport);\n    }\n\n    this.$viewport = $viewport || $content.parentNode;\n  }\n\n  /**\n   * Restore instance variables to default values\n   */\n  resetValues() {\n    this.updateRate = this.option(\"updateRate\", /iPhone|iPad|iPod|Android/i.test(navigator.userAgent) ? 250 : 24);\n\n    this.container = {\n      width: 0,\n      height: 0,\n    };\n\n    this.viewport = {\n      width: 0,\n      height: 0,\n    };\n\n    this.content = {\n      // Full content dimensions (naturalWidth/naturalHeight for images)\n      origHeight: 0,\n      origWidth: 0,\n\n      // Current dimensions of the content\n      width: 0,\n      height: 0,\n\n      // Current position; these values reflect CSS `transform` value\n      x: this.option(\"x\", 0),\n      y: this.option(\"y\", 0),\n\n      // Current scale; does not reflect CSS `transform` value\n      scale: this.option(\"baseScale\"),\n    };\n\n    // End values of current pan / zoom animation\n    this.transform = {\n      x: 0,\n      y: 0,\n      scale: 1,\n    };\n\n    this.resetDragPosition();\n  }\n\n  /**\n   * Handle `load` event\n   * @param {Event} event\n   */\n  onLoad(event) {\n    this.updateMetrics();\n\n    this.panTo({ scale: this.option(\"baseScale\"), friction: 0 });\n\n    this.trigger(\"load\", event);\n  }\n\n  /**\n   * Handle `click` event\n   * @param {Event} event\n   */\n  onClick(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    // Skip if text is selected\n    if (this.option(\"textSelection\") && window.getSelection().toString().length) {\n      event.stopPropagation();\n      return;\n    }\n\n    const rect = this.$content.getClientRects()[0];\n\n    // Check if container has changed position (for example, when current instance is inside another one)\n    if (this.state !== \"ready\") {\n      if (\n        this.dragPosition.midPoint ||\n        Math.abs(rect.top - this.dragStart.rect.top) > 1 ||\n        Math.abs(rect.left - this.dragStart.rect.left) > 1\n      ) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        return;\n      }\n    }\n\n    if (this.trigger(\"click\", event) === false) {\n      return;\n    }\n\n    if (this.option(\"zoom\") && this.option(\"click\") === \"toggleZoom\") {\n      event.preventDefault();\n      event.stopPropagation();\n\n      this.zoomWithClick(event);\n    }\n  }\n\n  /**\n   * Handle `wheel` event\n   * @param {Event} event\n   */\n  onWheel(event) {\n    if (this.trigger(\"wheel\", event) === false) {\n      return;\n    }\n\n    if (this.option(\"zoom\") && this.option(\"wheel\")) {\n      this.zoomWithWheel(event);\n    }\n  }\n\n  /**\n   * Change zoom level depending on scroll direction\n   * @param {Event} event `wheel` event\n   */\n  zoomWithWheel(event) {\n    if (this.changedDelta === undefined) {\n      this.changedDelta = 0;\n    }\n\n    const delta = Math.max(-1, Math.min(1, -event.deltaY || -event.deltaX || event.wheelDelta || -event.detail));\n    const scale = this.content.scale;\n\n    let newScale = (scale * (100 + delta * this.option(\"wheelFactor\"))) / 100;\n\n    if (\n      (delta < 0 && Math.abs(scale - this.option(\"minScale\")) < 0.01) ||\n      (delta > 0 && Math.abs(scale - this.option(\"maxScale\")) < 0.01)\n    ) {\n      this.changedDelta += Math.abs(delta);\n      newScale = scale;\n    } else {\n      this.changedDelta = 0;\n      newScale = Math.max(Math.min(newScale, this.option(\"maxScale\")), this.option(\"minScale\"));\n    }\n\n    if (this.changedDelta > this.option(\"wheelLimit\")) {\n      return;\n    }\n\n    event.preventDefault();\n\n    if (newScale === scale) {\n      return;\n    }\n\n    const rect = this.$content.getBoundingClientRect();\n\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n\n    this.zoomTo(newScale, { x, y });\n  }\n\n  /**\n   * Change zoom level depending on click coordinates\n   * @param {Event} event `click` event\n   */\n  zoomWithClick(event) {\n    const rect = this.$content.getClientRects()[0];\n\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n\n    this.toggleZoom({ x, y });\n  }\n\n  /**\n   * Attach load, wheel and click event listeners, initialize `resizeObserver` and `PointerTracker`\n   */\n  attachEvents() {\n    this.$content.addEventListener(\"load\", this.onLoad);\n\n    this.$container.addEventListener(\"wheel\", this.onWheel, { passive: false });\n    this.$container.addEventListener(\"click\", this.onClick, { passive: false });\n\n    this.initObserver();\n\n    const pointerTracker = new PointerTracker(this.$container, {\n      start: (pointer, event) => {\n        if (!this.option(\"touch\")) {\n          return false;\n        }\n\n        if (this.velocity.scale < 0) {\n          return;\n        }\n\n        if (!pointerTracker.currentPointers.length) {\n          const ignoreClickedElement =\n            [\"BUTTON\", \"TEXTAREA\", \"OPTION\", \"INPUT\", \"SELECT\", \"VIDEO\"].indexOf(event.target.nodeName) !== -1;\n\n          if (ignoreClickedElement) {\n            return false;\n          }\n\n          // Allow text selection\n          if (this.option(\"textSelection\") && getTextNodeFromPoint(event.target, event.clientX, event.clientY)) {\n            return false;\n          }\n          // Allow scrolling\n          if (isScrollable(event.target)) {\n            return false;\n          }\n        }\n\n        if (this.trigger(\"touchStart\", event) === false) {\n          return false;\n        }\n\n        this.state = \"pointerdown\";\n\n        this.resetDragPosition();\n\n        this.dragPosition.midPoint = null;\n        this.dragPosition.time = Date.now();\n\n        return true;\n      },\n      move: (previousPointers, currentPointers, event) => {\n        if (this.state !== \"pointerdown\") {\n          return;\n        }\n\n        if (this.trigger(\"touchMove\", event) == false) {\n          event.preventDefault();\n          return;\n        }\n\n        // Disable touch action if current zoom level is below base level\n        if (\n          currentPointers.length < 2 &&\n          this.option(\"panOnlyZoomed\") == true &&\n          this.content.width <= this.viewport.width &&\n          this.content.height <= this.viewport.height &&\n          this.transform.scale <= this.option(\"baseScale\")\n        ) {\n          return;\n        }\n\n        if (currentPointers.length > 1 && (!this.option(\"zoom\") || this.option(\"pinchToZoom\") === false)) {\n          return;\n        }\n\n        event.preventDefault();\n        event.stopPropagation();\n\n        const prevMidpoint = getMidpoint(previousPointers[0], previousPointers[1]);\n        const newMidpoint = getMidpoint(currentPointers[0], currentPointers[1]);\n\n        const panX = newMidpoint.clientX - prevMidpoint.clientX;\n        const panY = newMidpoint.clientY - prevMidpoint.clientY;\n\n        const prevDistance = getDistance(previousPointers[0], previousPointers[1]);\n        const newDistance = getDistance(currentPointers[0], currentPointers[1]);\n\n        const scaleDiff = prevDistance ? newDistance / prevDistance : 1;\n\n        this.dragOffset.x += panX;\n        this.dragOffset.y += panY;\n\n        this.dragOffset.scale *= scaleDiff;\n\n        this.dragOffset.time = Date.now() - this.dragPosition.time;\n\n        const axisToLock = this.dragStart.scale === 1 && this.option(\"lockAxis\");\n\n        if (axisToLock && !this.lockAxis) {\n          if (Math.abs(this.dragOffset.x) < 6 && Math.abs(this.dragOffset.y) < 6) {\n            return;\n          }\n\n          if (axisToLock === \"xy\") {\n            const angle = Math.abs((Math.atan2(this.dragOffset.y, this.dragOffset.x) * 180) / Math.PI);\n\n            this.lockAxis = angle > 45 && angle < 135 ? \"y\" : \"x\";\n          } else {\n            this.lockAxis = axisToLock;\n          }\n        }\n\n        if (this.lockAxis) {\n          this.dragOffset[this.lockAxis === \"x\" ? \"y\" : \"x\"] = 0;\n        }\n\n        this.$container.classList.add(this.option(\"draggingClass\"));\n\n        if (!(this.transform.scale === this.option(\"baseScale\") && this.lockAxis === \"y\")) {\n          this.dragPosition.x = this.dragStart.x + this.dragOffset.x;\n        }\n\n        if (!(this.transform.scale === this.option(\"baseScale\") && this.lockAxis === \"x\")) {\n          this.dragPosition.y = this.dragStart.y + this.dragOffset.y;\n        }\n\n        this.dragPosition.scale = this.dragStart.scale * this.dragOffset.scale;\n\n        if (currentPointers.length > 1) {\n          const startPoint = getMidpoint(pointerTracker.startPointers[0], pointerTracker.startPointers[1]);\n\n          const xPos = startPoint.clientX - this.dragStart.rect.x;\n          const yPos = startPoint.clientY - this.dragStart.rect.y;\n\n          const { deltaX, deltaY } = this.getZoomDelta(this.content.scale * this.dragOffset.scale, xPos, yPos);\n\n          this.dragPosition.x -= deltaX;\n          this.dragPosition.y -= deltaY;\n\n          this.dragPosition.midPoint = newMidpoint;\n        } else {\n          this.setDragResistance();\n        }\n\n        // Update final position\n        this.transform = {\n          x: this.dragPosition.x,\n          y: this.dragPosition.y,\n          scale: this.dragPosition.scale,\n        };\n\n        this.startAnimation();\n      },\n      end: (pointer, event) => {\n        if (this.state !== \"pointerdown\") {\n          return;\n        }\n\n        this._dragOffset = { ...this.dragOffset };\n\n        if (pointerTracker.currentPointers.length) {\n          this.resetDragPosition();\n\n          return;\n        }\n\n        this.state = \"decel\";\n        this.friction = this.option(\"decelFriction\");\n\n        this.recalculateTransform();\n\n        this.$container.classList.remove(this.option(\"draggingClass\"));\n\n        if (this.trigger(\"touchEnd\", event) === false) {\n          return;\n        }\n\n        if (this.state !== \"decel\") {\n          return;\n        }\n\n        // * Check if scaled content past limits\n\n        // Below minimum\n        const minScale = this.option(\"minScale\");\n\n        if (this.transform.scale < minScale) {\n          this.zoomTo(minScale, { friction: 0.64 });\n\n          return;\n        }\n\n        // Exceed maximum\n        const maxScale = this.option(\"maxScale\");\n\n        if (this.transform.scale - maxScale > 0.01) {\n          const last = this.dragPosition.midPoint || pointer;\n          const rect = this.$content.getClientRects()[0];\n\n          this.zoomTo(maxScale, {\n            friction: 0.64,\n            x: last.clientX - rect.left,\n            y: last.clientY - rect.top,\n          });\n\n          return;\n        }\n      },\n    });\n\n    this.pointerTracker = pointerTracker;\n  }\n\n  initObserver() {\n    if (this.resizeObserver) {\n      return;\n    }\n\n    this.resizeObserver = new ResizeObserver(() => {\n      if (this.updateTimer) {\n        return;\n      }\n\n      this.updateTimer = setTimeout(() => {\n        const rect = this.$container.getBoundingClientRect();\n\n        if (!(rect.width && rect.height)) {\n          this.updateTimer = null;\n          return;\n        }\n\n        // Check to see if there are any changes\n        if (Math.abs(rect.width - this.container.width) > 1 || Math.abs(rect.height - this.container.height) > 1) {\n          if (this.isAnimating()) {\n            this.endAnimation(true);\n          }\n\n          this.updateMetrics();\n\n          this.panTo({\n            x: this.content.x,\n            y: this.content.y,\n            scale: this.option(\"baseScale\"),\n            friction: 0,\n          });\n        }\n\n        this.updateTimer = null;\n      }, this.updateRate);\n    });\n\n    this.resizeObserver.observe(this.$container);\n  }\n\n  /**\n   * Restore drag related variables to default values\n   */\n  resetDragPosition() {\n    this.lockAxis = null;\n    this.friction = this.option(\"friction\");\n\n    this.velocity = {\n      x: 0,\n      y: 0,\n      scale: 0,\n    };\n\n    const { x, y, scale } = this.content;\n\n    this.dragStart = {\n      rect: this.$content.getBoundingClientRect(),\n      x,\n      y,\n      scale,\n    };\n\n    this.dragPosition = {\n      ...this.dragPosition,\n      x,\n      y,\n      scale,\n    };\n\n    this.dragOffset = {\n      x: 0,\n      y: 0,\n      scale: 1,\n      time: 0,\n    };\n  }\n\n  /**\n   * Trigger update events before/after resizing content and viewport\n   */\n  updateMetrics(silently) {\n    if (silently !== true) {\n      this.trigger(\"beforeUpdate\");\n    }\n\n    const $container = this.$container;\n    const $content = this.$content;\n    const $viewport = this.$viewport;\n\n    const contentIsImage = this.$content instanceof HTMLImageElement;\n    const contentIsZoomable = this.option(\"zoom\");\n    const shouldResizeParent = this.option(\"resizeParent\", contentIsZoomable);\n\n    let origWidth = getFullWidth(this.$content);\n    let origHeight = getFullHeight(this.$content);\n\n    Object.assign($content.style, {\n      width: \"\",\n      height: \"\",\n      maxWidth: \"\",\n      maxHeight: \"\",\n    });\n\n    if (shouldResizeParent) {\n      Object.assign($viewport.style, { width: \"\", height: \"\" });\n    }\n\n    const ratio = this.option(\"ratio\");\n\n    origWidth = round(origWidth * ratio);\n    origHeight = round(origHeight * ratio);\n\n    let width = origWidth;\n    let height = origHeight;\n\n    const contentRect = $content.getBoundingClientRect();\n    const viewportRect = $viewport.getBoundingClientRect();\n\n    const containerRect = $viewport == $container ? viewportRect : $container.getBoundingClientRect();\n\n    let viewportWidth = Math.max($viewport.offsetWidth, round(viewportRect.width));\n    let viewportHeight = Math.max($viewport.offsetHeight, round(viewportRect.height));\n\n    let viewportStyles = window.getComputedStyle($viewport);\n    viewportWidth -= parseFloat(viewportStyles.paddingLeft) + parseFloat(viewportStyles.paddingRight);\n    viewportHeight -= parseFloat(viewportStyles.paddingTop) + parseFloat(viewportStyles.paddingBottom);\n\n    this.viewport.width = viewportWidth;\n    this.viewport.height = viewportHeight;\n\n    if (contentIsZoomable) {\n      if (Math.abs(origWidth - contentRect.width) > 0.1 || Math.abs(origHeight - contentRect.height) > 0.1) {\n        const rez = calculateAspectRatioFit(\n          origWidth,\n          origHeight,\n          Math.min(origWidth, contentRect.width),\n          Math.min(origHeight, contentRect.height)\n        );\n\n        width = round(rez.width);\n        height = round(rez.height);\n      }\n\n      Object.assign($content.style, {\n        width: `${width}px`,\n        height: `${height}px`,\n        transform: \"\",\n      });\n    }\n\n    if (shouldResizeParent) {\n      Object.assign($viewport.style, { width: `${width}px`, height: `${height}px` });\n\n      this.viewport = { ...this.viewport, width, height };\n    }\n\n    if (contentIsImage && contentIsZoomable && typeof this.options.maxScale !== \"function\") {\n      const maxScale = this.option(\"maxScale\");\n\n      this.options.maxScale = function () {\n        return this.content.origWidth > 0 && this.content.fitWidth > 0\n          ? this.content.origWidth / this.content.fitWidth\n          : maxScale;\n      };\n    }\n\n    this.content = {\n      ...this.content,\n      origWidth,\n      origHeight,\n      fitWidth: width,\n      fitHeight: height,\n      width,\n      height,\n      scale: 1,\n      isZoomable: contentIsZoomable,\n    };\n\n    this.container = { width: containerRect.width, height: containerRect.height };\n\n    if (silently !== true) {\n      this.trigger(\"afterUpdate\");\n    }\n  }\n\n  /**\n   * Increase zoom level\n   * @param {Number} [step] Zoom ratio; `0.5` would increase scale from 1 to 1.5\n   */\n  zoomIn(step) {\n    this.zoomTo(this.content.scale + (step || this.option(\"step\")));\n  }\n\n  /**\n   * Decrease zoom level\n   * @param {Number} [step] Zoom ratio; `0.5` would decrease scale from 1.5 to 1\n   */\n  zoomOut(step) {\n    this.zoomTo(this.content.scale - (step || this.option(\"step\")));\n  }\n\n  /**\n   * Toggles zoom level between max and base levels\n   * @param {Object} [options] Additional options\n   */\n  toggleZoom(props = {}) {\n    const maxScale = this.option(\"maxScale\");\n    const baseScale = this.option(\"baseScale\");\n\n    const scale = this.content.scale > baseScale + (maxScale - baseScale) * 0.5 ? baseScale : maxScale;\n\n    this.zoomTo(scale, props);\n  }\n\n  /**\n   * Animate to given zoom level\n   * @param {Number} scale New zoom level\n   * @param {Object} [options] Additional options\n   */\n  zoomTo(scale = this.option(\"baseScale\"), { x = null, y = null } = {}) {\n    scale = Math.max(Math.min(scale, this.option(\"maxScale\")), this.option(\"minScale\"));\n\n    // Adjust zoom position\n    const currentScale = round(this.content.scale / (this.content.width / this.content.fitWidth), 10000000);\n\n    if (x === null) {\n      x = this.content.width * currentScale * 0.5;\n    }\n\n    if (y === null) {\n      y = this.content.height * currentScale * 0.5;\n    }\n\n    const { deltaX, deltaY } = this.getZoomDelta(scale, x, y);\n\n    x = this.content.x - deltaX;\n    y = this.content.y - deltaY;\n\n    this.panTo({ x, y, scale, friction: this.option(\"zoomFriction\") });\n  }\n\n  /**\n   * Calculate difference for top/left values if content would scale at given coordinates\n   * @param {Number} scale\n   * @param {Number} x\n   * @param {Number} y\n   * @returns {Object}\n   */\n  getZoomDelta(scale, x = 0, y = 0) {\n    const currentWidth = this.content.fitWidth * this.content.scale;\n    const currentHeight = this.content.fitHeight * this.content.scale;\n\n    const percentXInCurrentBox = x > 0 && currentWidth ? x / currentWidth : 0;\n    const percentYInCurrentBox = y > 0 && currentHeight ? y / currentHeight : 0;\n\n    const nextWidth = this.content.fitWidth * scale;\n    const nextHeight = this.content.fitHeight * scale;\n\n    const deltaX = (nextWidth - currentWidth) * percentXInCurrentBox;\n    const deltaY = (nextHeight - currentHeight) * percentYInCurrentBox;\n\n    return { deltaX, deltaY };\n  }\n\n  /**\n   * Animate to given positon and/or zoom level\n   * @param {Object} [options] Additional options\n   */\n  panTo({\n    x = this.content.x,\n    y = this.content.y,\n    scale,\n    friction = this.option(\"friction\"),\n    ignoreBounds = false,\n  } = {}) {\n    scale = scale || this.content.scale || 1;\n\n    if (!ignoreBounds) {\n      const { boundX, boundY } = this.getBounds(scale);\n\n      if (boundX) {\n        x = Math.max(Math.min(x, boundX.to), boundX.from);\n      }\n\n      if (boundY) {\n        y = Math.max(Math.min(y, boundY.to), boundY.from);\n      }\n    }\n\n    this.friction = friction;\n\n    this.transform = {\n      ...this.transform,\n      x,\n      y,\n      scale,\n    };\n\n    if (friction) {\n      this.state = \"panning\";\n\n      this.velocity = {\n        x: (1 / this.friction - 1) * (x - this.content.x),\n        y: (1 / this.friction - 1) * (y - this.content.y),\n        scale: (1 / this.friction - 1) * (scale - this.content.scale),\n      };\n\n      this.startAnimation();\n    } else {\n      this.endAnimation();\n    }\n  }\n\n  /**\n   * Start animation loop\n   */\n  startAnimation() {\n    if (!this.rAF) {\n      this.trigger(\"startAnimation\");\n    } else {\n      cancelAnimationFrame(this.rAF);\n    }\n\n    this.rAF = requestAnimationFrame(() => this.animate());\n  }\n\n  /**\n   * Process animation frame\n   */\n  animate() {\n    this.setEdgeForce();\n    this.setDragForce();\n\n    this.velocity.x *= this.friction;\n    this.velocity.y *= this.friction;\n\n    this.velocity.scale *= this.friction;\n\n    this.content.x += this.velocity.x;\n    this.content.y += this.velocity.y;\n\n    this.content.scale += this.velocity.scale;\n\n    if (this.isAnimating()) {\n      this.setTransform();\n    } else if (this.state !== \"pointerdown\") {\n      this.endAnimation();\n\n      return;\n    }\n\n    this.rAF = requestAnimationFrame(() => this.animate());\n  }\n\n  /**\n   * Calculate boundaries\n   */\n  getBounds(scale) {\n    let boundX = this.boundX;\n    let boundY = this.boundY;\n\n    if (boundX !== undefined && boundY !== undefined) {\n      return { boundX, boundY };\n    }\n\n    boundX = { from: 0, to: 0 };\n    boundY = { from: 0, to: 0 };\n\n    scale = scale || this.transform.scale;\n\n    const fitWidth = this.content.fitWidth;\n    const fitHeight = this.content.fitHeight;\n\n    const width = fitWidth * scale;\n    const height = fitHeight * scale;\n\n    const viewportWidth = this.viewport.width;\n    const viewportHeight = this.viewport.height;\n\n    if (fitWidth <= viewportWidth) {\n      const deltaX1 = (viewportWidth - width) * 0.5;\n      const deltaX2 = (width - fitWidth) * 0.5;\n\n      boundX.from = round(deltaX1 - deltaX2);\n      boundX.to = round(deltaX1 + deltaX2);\n    } else {\n      boundX.from = round(viewportWidth - width);\n    }\n\n    if (fitHeight <= viewportHeight) {\n      const deltaY1 = (viewportHeight - height) * 0.5;\n      const deltaY2 = (height - fitHeight) * 0.5;\n\n      boundY.from = round(deltaY1 - deltaY2);\n      boundY.to = round(deltaY1 + deltaY2);\n    } else {\n      boundY.from = round(viewportHeight - width);\n    }\n\n    return { boundX, boundY };\n  }\n\n  /**\n   * Change animation velocity if boundary is reached\n   */\n  setEdgeForce() {\n    if (this.state !== \"decel\") {\n      return;\n    }\n\n    const bounceForce = this.option(\"bounceForce\");\n\n    const { boundX, boundY } = this.getBounds(Math.max(this.transform.scale, this.content.scale));\n\n    let pastLeft, pastRight, pastTop, pastBottom;\n\n    if (boundX) {\n      pastLeft = this.content.x < boundX.from;\n      pastRight = this.content.x > boundX.to;\n    }\n\n    if (boundY) {\n      pastTop = this.content.y < boundY.from;\n      pastBottom = this.content.y > boundY.to;\n    }\n\n    if (pastLeft || pastRight) {\n      const bound = pastLeft ? boundX.from : boundX.to;\n      const distance = bound - this.content.x;\n\n      let force = distance * bounceForce;\n\n      const restX = this.content.x + (this.velocity.x + force) / this.friction;\n\n      if (restX >= boundX.from && restX <= boundX.to) {\n        force += this.velocity.x;\n      }\n\n      this.velocity.x = force;\n\n      this.recalculateTransform();\n    }\n\n    if (pastTop || pastBottom) {\n      const bound = pastTop ? boundY.from : boundY.to;\n      const distance = bound - this.content.y;\n\n      let force = distance * bounceForce;\n\n      const restY = this.content.y + (force + this.velocity.y) / this.friction;\n\n      if (restY >= boundY.from && restY <= boundY.to) {\n        force += this.velocity.y;\n      }\n\n      this.velocity.y = force;\n\n      this.recalculateTransform();\n    }\n  }\n\n  /**\n   * Change dragging position if boundary is reached\n   */\n  setDragResistance() {\n    if (this.state !== \"pointerdown\") {\n      return;\n    }\n\n    const { boundX, boundY } = this.getBounds(this.dragPosition.scale);\n\n    let pastLeft, pastRight, pastTop, pastBottom;\n\n    if (boundX) {\n      pastLeft = this.dragPosition.x < boundX.from;\n      pastRight = this.dragPosition.x > boundX.to;\n    }\n\n    if (boundY) {\n      pastTop = this.dragPosition.y < boundY.from;\n      pastBottom = this.dragPosition.y > boundY.to;\n    }\n\n    if ((pastLeft || pastRight) && !(pastLeft && pastRight)) {\n      const bound = pastLeft ? boundX.from : boundX.to;\n      const distance = bound - this.dragPosition.x;\n\n      this.dragPosition.x = bound - distance * 0.3;\n    }\n\n    if ((pastTop || pastBottom) && !(pastTop && pastBottom)) {\n      const bound = pastTop ? boundY.from : boundY.to;\n      const distance = bound - this.dragPosition.y;\n\n      this.dragPosition.y = bound - distance * 0.3;\n    }\n  }\n\n  /**\n   * Set velocity to move content to drag position\n   */\n  setDragForce() {\n    if (this.state === \"pointerdown\") {\n      this.velocity.x = this.dragPosition.x - this.content.x;\n      this.velocity.y = this.dragPosition.y - this.content.y;\n      this.velocity.scale = this.dragPosition.scale - this.content.scale;\n    }\n  }\n\n  /**\n   * Update end values based on current velocity and friction;\n   */\n  recalculateTransform() {\n    this.transform.x = this.content.x + this.velocity.x / (1 / this.friction - 1);\n    this.transform.y = this.content.y + this.velocity.y / (1 / this.friction - 1);\n    this.transform.scale = this.content.scale + this.velocity.scale / (1 / this.friction - 1);\n  }\n\n  /**\n   * Check if content is currently animating\n   * @returns {Boolean}\n   */\n  isAnimating() {\n    return !!(\n      this.friction &&\n      (Math.abs(this.velocity.x) > 0.05 || Math.abs(this.velocity.y) > 0.05 || Math.abs(this.velocity.scale) > 0.05)\n    );\n  }\n\n  /**\n   * Set content `style.transform` value based on current animation frame\n   */\n  setTransform(final) {\n    let x, y, scale;\n\n    if (final) {\n      x = round(this.transform.x);\n      y = round(this.transform.y);\n\n      scale = this.transform.scale;\n\n      this.content = { ...this.content, x, y, scale };\n    } else {\n      x = round(this.content.x);\n      y = round(this.content.y);\n\n      scale = this.content.scale / (this.content.width / this.content.fitWidth);\n\n      this.content = { ...this.content, x, y };\n    }\n\n    this.trigger(\"beforeTransform\");\n\n    x = round(this.content.x);\n    y = round(this.content.y);\n\n    if (final && this.option(\"zoom\")) {\n      let width;\n      let height;\n\n      width = round(this.content.fitWidth * scale);\n      height = round(this.content.fitHeight * scale);\n\n      this.content.width = width;\n      this.content.height = height;\n\n      this.transform = { ...this.transform, width, height, scale };\n\n      Object.assign(this.$content.style, {\n        width: `${width}px`,\n        height: `${height}px`,\n        maxWidth: \"none\",\n        maxHeight: \"none\",\n        transform: `translate3d(${x}px, ${y}px, 0) scale(1)`,\n      });\n    } else {\n      this.$content.style.transform = `translate3d(${x}px, ${y}px, 0) scale(${scale})`;\n    }\n\n    this.trigger(\"afterTransform\");\n  }\n\n  /**\n   * Stop animation loop\n   */\n  endAnimation(silently) {\n    cancelAnimationFrame(this.rAF);\n    this.rAF = null;\n\n    this.velocity = {\n      x: 0,\n      y: 0,\n      scale: 0,\n    };\n\n    this.setTransform(true);\n\n    this.state = \"ready\";\n\n    this.handleCursor();\n\n    if (silently !== true) {\n      this.trigger(\"endAnimation\");\n    }\n  }\n\n  /**\n   * Update the class name depending on whether the content is scaled\n   */\n  handleCursor() {\n    const draggableClass = this.option(\"draggableClass\");\n\n    if (!draggableClass || !this.option(\"touch\")) {\n      return;\n    }\n\n    if (\n      this.option(\"panOnlyZoomed\") == true &&\n      this.content.width <= this.viewport.width &&\n      this.content.height <= this.viewport.height &&\n      this.transform.scale <= this.option(\"baseScale\")\n    ) {\n      this.$container.classList.remove(draggableClass);\n    } else {\n      this.$container.classList.add(draggableClass);\n    }\n  }\n\n  /**\n   * Remove observation and detach event listeners\n   */\n  detachEvents() {\n    this.$content.removeEventListener(\"load\", this.onLoad);\n\n    this.$container.removeEventListener(\"wheel\", this.onWheel, { passive: false });\n    this.$container.removeEventListener(\"click\", this.onClick, { passive: false });\n\n    if (this.pointerTracker) {\n      this.pointerTracker.stop();\n      this.pointerTracker = null;\n    }\n\n    if (this.resizeObserver) {\n      this.resizeObserver.disconnect();\n      this.resizeObserver = null;\n    }\n  }\n\n  /**\n   * Clean up\n   */\n  destroy() {\n    if (this.state === \"destroy\") {\n      return;\n    }\n\n    this.state = \"destroy\";\n\n    clearTimeout(this.updateTimer);\n    this.updateTimer = null;\n\n    cancelAnimationFrame(this.rAF);\n    this.rAF = null;\n\n    this.detachEvents();\n\n    this.detachPlugins();\n\n    this.resetDragPosition();\n  }\n}\n\n// Expose version\nPanzoom.version = \"__VERSION__\";\n\n// Static properties are a recent addition that dont work in all browsers yet\nPanzoom.Plugins = Plugins;\n","/**\n * Throttling enforces a maximum number of times a function can be called over time\n * @param {Function} func Callback function\n * @param {Integer} limit Milliseconds\n * @returns {Function}\n */\nexport const throttle = (func, limit) => {\n  let lastCall = 0;\n\n  return function (...args) {\n    const now = new Date().getTime();\n\n    if (now - lastCall < limit) {\n      return;\n    }\n\n    lastCall = now;\n\n    return func(...args);\n  };\n};\n","const defaults = {\n  prevTpl: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" tabindex=\"-1\"><path d=\"M15 3l-9 9 9 9\"/></svg>',\n  nextTpl: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" tabindex=\"-1\"><path d=\"M9 3l9 9-9 9\"/></svg>',\n\n  classNames: {\n    main: \"carousel__nav\",\n    button: \"carousel__button\",\n\n    next: \"is-next\",\n    prev: \"is-prev\",\n  },\n};\n\nexport class Navigation {\n  constructor(carousel) {\n    this.$container = null;\n\n    this.$prev = null;\n    this.$next = null;\n\n    this.carousel = carousel;\n\n    this.onRefresh = this.onRefresh.bind(this);\n  }\n\n  /**\n   * Shortcut to get option for this plugin\n   * @param {String} name option name\n   * @returns option value\n   */\n  option(name) {\n    return this.carousel.option(`Navigation.${name}`);\n  }\n\n  /**\n   * Creates and returns new button element with default class names and click event\n   * @param {String} type\n   */\n  createButton(type) {\n    const $btn = document.createElement(\"button\");\n\n    $btn.setAttribute(\"title\", this.carousel.localize(`{{${type.toUpperCase()}}}`));\n\n    const classNames = this.option(\"classNames.button\") + \" \" + this.option(`classNames.${type}`);\n\n    $btn.classList.add(...classNames.split(\" \"));\n    $btn.setAttribute(\"tabindex\", \"0\");\n    $btn.innerHTML = this.carousel.localize(this.option(`${type}Tpl`));\n\n    $btn.addEventListener(\"click\", (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n\n      this.carousel[`slide${type === \"next\" ? \"Next\" : \"Prev\"}`]();\n    });\n\n    return $btn;\n  }\n\n  /**\n   * Build necessary DOM elements\n   */\n  build() {\n    if (!this.$container) {\n      this.$container = document.createElement(\"div\");\n      this.$container.classList.add(this.option(\"classNames.main\"));\n\n      this.carousel.$container.appendChild(this.$container);\n    }\n\n    if (!this.$next) {\n      this.$next = this.createButton(\"next\");\n\n      this.$container.appendChild(this.$next);\n    }\n\n    if (!this.$prev) {\n      this.$prev = this.createButton(\"prev\");\n\n      this.$container.appendChild(this.$prev);\n    }\n  }\n\n  /**\n   *  Process carousel `refresh` and `change` events to enable/disable buttons if needed\n   */\n  onRefresh() {\n    const pageCount = this.carousel.pages.length;\n\n    if (\n      pageCount <= 1 ||\n      (pageCount > 1 &&\n        this.carousel.elemDimWidth < this.carousel.wrapDimWidth &&\n        !Number.isInteger(this.carousel.option(\"slidesPerPage\")))\n    ) {\n      this.cleanup();\n\n      return;\n    }\n\n    this.build();\n\n    this.$prev.removeAttribute(\"disabled\");\n    this.$next.removeAttribute(\"disabled\");\n\n    if (this.carousel.option(\"infiniteX\", this.carousel.option(\"infinite\"))) {\n      return;\n    }\n\n    if (this.carousel.page <= 0) {\n      this.$prev.setAttribute(\"disabled\", \"\");\n    }\n\n    if (this.carousel.page >= pageCount - 1) {\n      this.$next.setAttribute(\"disabled\", \"\");\n    }\n  }\n\n  cleanup() {\n    if (this.$prev) {\n      this.$prev.remove();\n    }\n\n    this.$prev = null;\n\n    if (this.$next) {\n      this.$next.remove();\n    }\n\n    this.$next = null;\n\n    if (this.$container) {\n      this.$container.remove();\n    }\n\n    this.$container = null;\n  }\n\n  attach() {\n    this.carousel.on(\"refresh change\", this.onRefresh);\n  }\n\n  detach() {\n    this.carousel.off(\"refresh change\", this.onRefresh);\n\n    this.cleanup();\n  }\n}\n\n// Expose defaults\nNavigation.defaults = defaults;\n","const defaults = {\n  // The minimum number of slides to display dots\n  minSlideCount: 2,\n};\n\nexport class Dots {\n  constructor(carousel) {\n    this.carousel = carousel;\n\n    this.$list = null;\n\n    this.events = {\n      change: this.onChange.bind(this),\n      refresh: this.onRefresh.bind(this),\n    };\n  }\n\n  /**\n   * Build wrapping DOM element containing all dots\n   */\n  buildList() {\n    if (this.carousel.pages.length < this.carousel.option(\"Dots.minSlideCount\")) {\n      return;\n    }\n\n    const $list = document.createElement(\"ol\");\n\n    $list.classList.add(\"carousel__dots\");\n\n    $list.addEventListener(\"click\", (e) => {\n      if (!(\"page\" in e.target.dataset)) {\n        return;\n      }\n\n      e.preventDefault();\n      e.stopPropagation();\n\n      const page = parseInt(e.target.dataset.page, 10);\n      const carousel = this.carousel;\n\n      if (page === carousel.page) {\n        return;\n      }\n\n      if (carousel.pages.length < 3 && carousel.option(\"infinite\")) {\n        carousel[page == 0 ? \"slidePrev\" : \"slideNext\"]();\n      } else {\n        carousel.slideTo(page);\n      }\n    });\n\n    this.$list = $list;\n\n    this.carousel.$container.appendChild($list);\n    this.carousel.$container.classList.add(\"has-dots\");\n\n    return $list;\n  }\n\n  /**\n   * Remove wrapping DOM element\n   */\n  removeList() {\n    if (this.$list) {\n      this.$list.parentNode.removeChild(this.$list);\n      this.$list = null;\n    }\n\n    this.carousel.$container.classList.remove(\"has-dots\");\n  }\n\n  /**\n   * Remove existing dots and create fresh ones\n   */\n  rebuildDots() {\n    let $list = this.$list;\n\n    const listExists = !!$list;\n    const pagesCount = this.carousel.pages.length;\n\n    if (pagesCount < 2) {\n      if (listExists) {\n        this.removeList();\n      }\n\n      return;\n    }\n\n    if (!listExists) {\n      $list = this.buildList();\n    }\n\n    // Remove existing dots\n    const dotCount = this.$list.children.length;\n\n    if (dotCount > pagesCount) {\n      for (let i = pagesCount; i < dotCount; i++) {\n        this.$list.removeChild(this.$list.lastChild);\n      }\n\n      return;\n    }\n\n    // Create fresh DOM elements (dots) for each page\n    for (let index = dotCount; index < pagesCount; index++) {\n      const $dot = document.createElement(\"li\");\n\n      $dot.classList.add(\"carousel__dot\");\n      $dot.dataset.page = index;\n\n      $dot.setAttribute(\"role\", \"button\");\n      $dot.setAttribute(\"tabindex\", \"0\");\n      $dot.setAttribute(\"title\", this.carousel.localize(\"{{GOTO}}\", [[\"%d\", index + 1]]));\n\n      $dot.addEventListener(\"keydown\", (event) => {\n        const code = event.code;\n\n        let $el;\n\n        if (code === \"Enter\" || code === \"NumpadEnter\") {\n          $el = $dot;\n        } else if (code === \"ArrowRight\") {\n          $el = $dot.nextSibling;\n        } else if (code === \"ArrowLeft\") {\n          $el = $dot.previousSibling;\n        }\n\n        $el && $el.click();\n      });\n\n      this.$list.appendChild($dot);\n    }\n\n    this.setActiveDot();\n  }\n\n  /**\n   * Mark active dot by toggling class name\n   */\n  setActiveDot() {\n    if (!this.$list) {\n      return;\n    }\n\n    this.$list.childNodes.forEach(($dot) => {\n      $dot.classList.remove(\"is-selected\");\n    });\n\n    const $activeDot = this.$list.childNodes[this.carousel.page];\n\n    if ($activeDot) {\n      $activeDot.classList.add(\"is-selected\");\n    }\n  }\n\n  /**\n   * Process carousel `change` event\n   */\n  onChange() {\n    this.setActiveDot();\n  }\n\n  /**\n   * Process carousel `refresh` event\n   */\n  onRefresh() {\n    this.rebuildDots();\n  }\n\n  attach() {\n    this.carousel.on(this.events);\n  }\n\n  detach() {\n    this.removeList();\n\n    this.carousel.off(this.events);\n    this.carousel = null;\n  }\n}\n","const defaults = {\n  friction: 0.92,\n};\n\nexport class Sync {\n  constructor(carousel) {\n    this.carousel = carousel;\n\n    this.selectedIndex = null;\n    this.friction = 0;\n\n    this.onNavReady = this.onNavReady.bind(this);\n    this.onNavClick = this.onNavClick.bind(this);\n    this.onNavCreateSlide = this.onNavCreateSlide.bind(this);\n\n    this.onTargetChange = this.onTargetChange.bind(this);\n  }\n\n  /**\n   * Make this one as main carousel and selected carousel as navigation\n   * @param {Object} nav Carousel\n   */\n  addAsTargetFor(nav) {\n    this.target = this.carousel;\n    this.nav = nav;\n\n    this.attachEvents();\n  }\n\n  /**\n   * Make this one as navigation carousel for selected carousel\n   * @param {Object} target\n   */\n  addAsNavFor(target) {\n    this.target = target;\n    this.nav = this.carousel;\n\n    this.attachEvents();\n  }\n\n  /**\n   * Attach event listeners on both carousels\n   */\n  attachEvents() {\n    this.nav.options.initialSlide = this.target.options.initialPage;\n\n    this.nav.on(\"ready\", this.onNavReady);\n    this.nav.on(\"createSlide\", this.onNavCreateSlide);\n    this.nav.on(\"Panzoom.click\", this.onNavClick);\n\n    this.target.on(\"change\", this.onTargetChange);\n    this.target.on(\"Panzoom.afterUpdate\", this.onTargetChange);\n  }\n\n  /**\n   * Process main carousel `ready` event; bind events and set initial page\n   */\n  onNavReady() {\n    this.onTargetChange(true);\n  }\n\n  /**\n   * Process main carousel `click` event\n   * @param {Object} panzoom\n   * @param {Object} event\n   */\n  onNavClick(carousel, panzoom, event) {\n    const clickedNavSlide = event.target.closest(\".carousel__slide\");\n\n    if (!clickedNavSlide) {\n      return;\n    }\n\n    event.stopPropagation();\n\n    const selectedNavIndex = parseInt(clickedNavSlide.dataset.index, 10);\n    const selectedSyncPage = this.target.findPageForSlide(selectedNavIndex);\n\n    if (this.target.page !== selectedSyncPage) {\n      this.target.slideTo(selectedSyncPage, { friction: this.friction });\n    }\n\n    this.markSelectedSlide(selectedNavIndex);\n  }\n\n  /**\n   * Process main carousel `createSlide` event\n   * @param {Object} carousel\n   * @param {Object} slide\n   */\n  onNavCreateSlide(carousel, slide) {\n    if (slide.index === this.selectedIndex) {\n      this.markSelectedSlide(slide.index);\n    }\n  }\n\n  /**\n   * Process target carousel `change` event\n   * @param {Object} target\n   */\n  onTargetChange() {\n    const targetIndex = this.target.pages[this.target.page].indexes[0];\n    const selectedNavPage = this.nav.findPageForSlide(targetIndex);\n\n    this.nav.slideTo(selectedNavPage);\n\n    this.markSelectedSlide(targetIndex);\n  }\n\n  /**\n   * Toggle classname for slides that marks currently selected slides\n   * @param {Number} selectedIndex\n   */\n  markSelectedSlide(selectedIndex) {\n    this.selectedIndex = selectedIndex;\n\n    [...this.nav.slides].filter((slide) => slide.$el && slide.$el.classList.remove(\"is-nav-selected\"));\n\n    const slide = this.nav.slides[selectedIndex];\n\n    if (slide && slide.$el) slide.$el.classList.add(\"is-nav-selected\");\n  }\n\n  attach(carousel) {\n    const sync = carousel.options.Sync;\n\n    if (!sync.target && !sync.nav) {\n      return;\n    }\n\n    if (sync.target) {\n      this.addAsNavFor(sync.target);\n    } else if (sync.nav) {\n      this.addAsTargetFor(sync.nav);\n    }\n\n    this.friction = sync.friction;\n  }\n\n  detach() {\n    if (this.nav) {\n      this.nav.off(\"ready\", this.onNavReady);\n      this.nav.off(\"Panzoom.click\", this.onNavClick);\n      this.nav.off(\"createSlide\", this.onNavCreateSlide);\n    }\n\n    if (this.target) {\n      this.target.off(\"Panzoom.afterUpdate\", this.onTargetChange);\n      this.target.off(\"change\", this.onTargetChange);\n    }\n  }\n}\n\n// Expose defaults\nSync.defaults = defaults;\n","import { Navigation } from \"./Navigation/Navigation.js\";\nimport { Dots } from \"./Dots/Dots.js\";\nimport { Sync } from \"./Sync/Sync.js\";\n\nexport const Plugins = { Navigation, Dots, Sync };\n","export default {\r\n  NEXT: \"Next slide\",\r\n  PREV: \"Previous slide\",\r\n  GOTO: \"Go to slide #%d\",\r\n};\r\n","import { Base } from \"../shared/Base/Base.js\";\r\nimport { Panzoom } from \"../Panzoom/Panzoom.js\";\r\n\r\nimport { extend } from \"../shared/utils/extend.js\";\r\nimport { round } from \"../shared/utils/round.js\";\r\nimport { throttle } from \"../shared/utils/throttle.js\";\r\n\r\nimport { Plugins } from \"./plugins/index.js\";\r\n\r\n// Default language\r\nimport en from \"./l10n/en.js\";\r\n\r\nconst defaults = {\r\n  // Virtual slides. Each object should have at least `html` property that will be used to set content,\r\n  // example: `slides: [{html: 'First slide'}, {html: 'Second slide'}]`\r\n  slides: [],\r\n\r\n  // Number of slides to preload before/after visible slides\r\n  preload: 0,\r\n\r\n  // Number of slides to group into the page,\r\n  // if `auto` - group all slides that fit into the viewport\r\n  slidesPerPage: \"auto\",\r\n\r\n  // Index of initial page\r\n  initialPage: null,\r\n\r\n  // Index of initial slide\r\n  initialSlide: null,\r\n\r\n  // Panzoom friction while changing page\r\n  friction: 0.92,\r\n\r\n  // Should center active page\r\n  center: true,\r\n\r\n  // Should carousel scroll infinitely\r\n  infinite: true,\r\n\r\n  // Should the gap be filled before first and after last slide if `infinite: false`\r\n  fill: true,\r\n\r\n  // Should Carousel settle at any position after a swipe.\r\n  dragFree: false,\r\n\r\n  // Prefix for CSS classes, must be the same as the  SCSS `$carousel-prefix` variable\r\n  prefix: \"\",\r\n\r\n  // Class names for DOM elements (without prefix)\r\n  classNames: {\r\n    viewport: \"carousel__viewport\",\r\n    track: \"carousel__track\",\r\n    slide: \"carousel__slide\",\r\n\r\n    // Classname toggled for slides inside current page\r\n    slideSelected: \"is-selected\",\r\n  },\r\n\r\n  // Localization of strings\r\n  l10n: en,\r\n};\r\n\r\nexport class Carousel extends Base {\r\n  /**\r\n   * Carousel constructor\r\n   * @constructs Carousel\r\n   * @param {HTMLElement} $container - Carousel container\r\n   * @param {Object} [options] - Options for Carousel\r\n   */\r\n  constructor($container, options = {}) {\r\n    options = extend(true, {}, defaults, options);\r\n\r\n    super(options);\r\n\r\n    this.state = \"init\";\r\n\r\n    this.$container = $container;\r\n\r\n    if (!(this.$container instanceof HTMLElement)) {\r\n      throw new Error(\"No root element provided\");\r\n    }\r\n\r\n    this.slideNext = throttle(this.slideNext.bind(this), 250, true);\r\n    this.slidePrev = throttle(this.slidePrev.bind(this), 250, true);\r\n\r\n    this.init();\r\n  }\r\n\r\n  /**\r\n   * Perform initialization\r\n   */\r\n  init() {\r\n    this.pages = [];\r\n    this.page = this.pageIndex = null;\r\n    this.prevPage = this.prevPageIndex = null;\r\n\r\n    this.attachPlugins(Carousel.Plugins);\r\n\r\n    this.trigger(\"init\");\r\n\r\n    this.initLayout();\r\n\r\n    this.initSlides();\r\n\r\n    this.updateMetrics();\r\n\r\n    if (this.$track && this.pages.length) {\r\n      this.$track.style.transform = `translate3d(${this.pages[this.page].left * -1}px, 0px, 0) scale(1)`;\r\n    }\r\n\r\n    this.manageSlideVisiblity();\r\n\r\n    this.initPanzoom();\r\n\r\n    this.state = \"ready\";\r\n\r\n    this.trigger(\"ready\");\r\n  }\r\n\r\n  /**\r\n   * Initialize layout; create necessary elements\r\n   */\r\n  initLayout() {\r\n    const prefix = this.option(\"prefix\");\r\n    const classNames = this.option(\"classNames\");\r\n\r\n    this.$viewport = this.option(\"viewport\") || this.$container.querySelector(`.${prefix}${classNames.viewport}`);\r\n\r\n    if (!this.$viewport) {\r\n      this.$viewport = document.createElement(\"div\");\r\n      this.$viewport.classList.add(prefix + classNames.viewport);\r\n\r\n      this.$viewport.append(...this.$container.childNodes);\r\n\r\n      this.$container.appendChild(this.$viewport);\r\n    }\r\n\r\n    this.$track = this.option(\"track\") || this.$container.querySelector(`.${prefix}${classNames.track}`);\r\n\r\n    if (!this.$track) {\r\n      this.$track = document.createElement(\"div\");\r\n      this.$track.classList.add(prefix + classNames.track);\r\n\r\n      this.$track.append(...this.$viewport.childNodes);\r\n\r\n      this.$viewport.appendChild(this.$track);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Fill `slides` array with objects from existing nodes and/or `slides` option\r\n   */\r\n  initSlides() {\r\n    this.slides = [];\r\n\r\n    // Get existing slides from the DOM\r\n    const elems = this.$viewport.querySelectorAll(`.${this.option(\"prefix\")}${this.option(\"classNames.slide\")}`);\r\n\r\n    elems.forEach((el) => {\r\n      const slide = {\r\n        $el: el,\r\n        isDom: true,\r\n      };\r\n\r\n      this.slides.push(slide);\r\n\r\n      this.trigger(\"createSlide\", slide, this.slides.length);\r\n    });\r\n\r\n    // Add virtual slides, but do not create DOM elements yet,\r\n    // because they will be created dynamically based on current carousel position\r\n    if (Array.isArray(this.options.slides)) {\r\n      this.slides = extend(true, [...this.slides], this.options.slides);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Do all calculations related to slide size and paging\r\n   */\r\n  updateMetrics() {\r\n    // Calculate content width, viewport width\r\n    // ===\r\n    let contentWidth = 0;\r\n    let indexes = [];\r\n    let lastSlideWidth;\r\n\r\n    this.slides.forEach((slide, index) => {\r\n      const $el = slide.$el;\r\n      const slideWidth = slide.isDom || !lastSlideWidth ? this.getSlideMetrics($el) : lastSlideWidth;\r\n\r\n      slide.index = index;\r\n      slide.width = slideWidth;\r\n      slide.left = contentWidth;\r\n\r\n      lastSlideWidth = slideWidth;\r\n      contentWidth += slideWidth;\r\n\r\n      indexes.push(index);\r\n    });\r\n\r\n    let viewportWidth = Math.max(this.$track.offsetWidth, round(this.$track.getBoundingClientRect().width));\r\n\r\n    let viewportStyles = getComputedStyle(this.$track);\r\n    viewportWidth = viewportWidth - (parseFloat(viewportStyles.paddingLeft) + parseFloat(viewportStyles.paddingRight));\r\n\r\n    this.contentWidth = contentWidth;\r\n    this.viewportWidth = viewportWidth;\r\n\r\n    // Split slides into pages\r\n    // ===\r\n    const pages = [];\r\n    const slidesPerPage = this.option(\"slidesPerPage\");\r\n\r\n    if (Number.isInteger(slidesPerPage) && contentWidth > viewportWidth) {\r\n      // Fixed number of slides in the page\r\n      for (let i = 0; i < this.slides.length; i += slidesPerPage) {\r\n        pages.push({\r\n          indexes: indexes.slice(i, i + slidesPerPage),\r\n          slides: this.slides.slice(i, i + slidesPerPage),\r\n        });\r\n      }\r\n    } else {\r\n      // Slides that fit inside viewport\r\n      let currentPage = 0;\r\n      let currentWidth = 0;\r\n\r\n      for (let i = 0; i < this.slides.length; i += 1) {\r\n        let slide = this.slides[i];\r\n\r\n        // Add next page\r\n        if (!pages.length || currentWidth + slide.width > viewportWidth) {\r\n          pages.push({\r\n            indexes: [],\r\n            slides: [],\r\n          });\r\n\r\n          currentPage = pages.length - 1;\r\n          currentWidth = 0;\r\n        }\r\n\r\n        currentWidth += slide.width;\r\n\r\n        pages[currentPage].indexes.push(i);\r\n        pages[currentPage].slides.push(slide);\r\n      }\r\n    }\r\n\r\n    const shouldCenter = this.option(\"center\");\r\n    const shouldFill = this.option(\"fill\");\r\n\r\n    // Calculate width and start position for each page\r\n    // ===\r\n    pages.forEach((page, index) => {\r\n      page.index = index;\r\n      page.width = page.slides.reduce((sum, slide) => sum + slide.width, 0);\r\n\r\n      page.left = page.slides[0].left;\r\n\r\n      if (shouldCenter) {\r\n        page.left += (viewportWidth - page.width) * 0.5 * -1;\r\n      }\r\n\r\n      if (shouldFill && !this.option(\"infiniteX\", this.option(\"infinite\")) && contentWidth > viewportWidth) {\r\n        page.left = Math.max(page.left, 0);\r\n        page.left = Math.min(page.left, contentWidth - viewportWidth);\r\n      }\r\n    });\r\n\r\n    // Merge pages\r\n    // ===\r\n    const rez = [];\r\n    let prevPage;\r\n\r\n    pages.forEach((page2) => {\r\n      const page = { ...page2 };\r\n\r\n      if (prevPage && page.left === prevPage.left) {\r\n        prevPage.width += page.width;\r\n\r\n        prevPage.slides = [...prevPage.slides, ...page.slides];\r\n        prevPage.indexes = [...prevPage.indexes, ...page.indexes];\r\n      } else {\r\n        page.index = rez.length;\r\n\r\n        prevPage = page;\r\n\r\n        rez.push(page);\r\n      }\r\n    });\r\n\r\n    this.pages = rez;\r\n\r\n    let page = this.page;\r\n\r\n    if (page === null) {\r\n      const initialSlide = this.option(\"initialSlide\");\r\n\r\n      if (initialSlide !== null) {\r\n        page = this.findPageForSlide(initialSlide);\r\n      } else {\r\n        page = this.option(\"initialPage\", 0);\r\n      }\r\n\r\n      if (!rez[page]) {\r\n        page = rez.length && page > rez.length ? rez[rez.length - 1].index : 0;\r\n      }\r\n\r\n      this.page = page;\r\n      this.pageIndex = page;\r\n    }\r\n\r\n    this.updatePanzoom();\r\n\r\n    this.trigger(\"refresh\");\r\n  }\r\n\r\n  /**\r\n   * Calculate slide element width (including left, right margins)\r\n   * @param {Object} node\r\n   * @returns {Number} Width in px\r\n   */\r\n  getSlideMetrics(node) {\r\n    if (!node) {\r\n      const firstSlide = this.slides[0];\r\n\r\n      node = document.createElement(\"div\");\r\n\r\n      node.dataset.isTestEl = 1;\r\n      node.style.visibility = \"hidden\";\r\n      node.classList.add(this.option(\"prefix\") + this.option(\"classNames.slide\"));\r\n\r\n      // Assume all slides have the same custom class, if any\r\n      if (firstSlide.customClass) {\r\n        node.classList.add(...firstSlide.customClass.split(\" \"));\r\n      }\r\n\r\n      this.$track.prepend(node);\r\n    }\r\n\r\n    let width = Math.max(node.offsetWidth, round(node.getBoundingClientRect().width));\r\n\r\n    // Add left/right margin\r\n    const style = node.currentStyle || window.getComputedStyle(node);\r\n    width = width + (parseFloat(style.marginLeft) || 0) + (parseFloat(style.marginRight) || 0);\r\n\r\n    if (node.dataset.isTestEl) {\r\n      node.remove();\r\n    }\r\n\r\n    return width;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Integer} index Index of the slide\r\n   * @returns {Integer|null} Index of the page if found, or null\r\n   */\r\n  findPageForSlide(index) {\r\n    const page = this.pages.find((page) => {\r\n      return page.indexes.indexOf(index) > -1;\r\n    });\r\n\r\n    return page ? page.index : null;\r\n  }\r\n\r\n  /**\r\n   * Slide to next page, if possible\r\n   */\r\n  slideNext() {\r\n    this.slideTo(this.pageIndex + 1);\r\n  }\r\n\r\n  /**\r\n   * Slide to previous page, if possible\r\n   */\r\n  slidePrev() {\r\n    this.slideTo(this.pageIndex - 1);\r\n  }\r\n\r\n  /**\r\n   * Slides carousel to given page\r\n   * @param {Number} page - New index of active page\r\n   * @param {Object} [params] - Additional options\r\n   */\r\n  slideTo(page, params = {}) {\r\n    const { x = this.setPage(page, true) * -1, y = 0, friction = this.option(\"friction\") } = params;\r\n\r\n    if (this.Panzoom.content.x === x && !this.Panzoom.velocity.x && friction) {\r\n      return;\r\n    }\r\n\r\n    this.Panzoom.panTo({\r\n      x,\r\n      y,\r\n      friction,\r\n      ignoreBounds: true,\r\n    });\r\n\r\n    if (this.state === \"ready\" && this.Panzoom.state === \"ready\") {\r\n      this.trigger(\"settle\");\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Initialise main Panzoom instance\r\n   */\r\n  initPanzoom() {\r\n    if (this.Panzoom) {\r\n      this.Panzoom.destroy();\r\n    }\r\n\r\n    // Create fresh object containing options for Pazoom instance\r\n    const options = extend(\r\n      true,\r\n      {},\r\n      {\r\n        // Track element will be set as Panzoom $content\r\n        content: this.$track,\r\n        wrapInner: false,\r\n        resizeParent: false,\r\n\r\n        // Disable any user interaction\r\n        zoom: false,\r\n        click: false,\r\n\r\n        // Right now, only horizontal navigation is supported\r\n        lockAxis: \"x\",\r\n\r\n        x: this.pages.length ? this.pages[this.page].left * -1 : 0,\r\n        centerOnStart: false,\r\n\r\n        // Make `textSelection` option more easy to customize\r\n        textSelection: () => this.option(\"textSelection\", false),\r\n\r\n        // Disable dragging if content (e.g. all slides) fits inside viewport\r\n        panOnlyZoomed: function () {\r\n          return this.content.width <= this.viewport.width;\r\n        },\r\n      },\r\n      this.option(\"Panzoom\")\r\n    );\r\n\r\n    // Create new Panzoom instance\r\n    this.Panzoom = new Panzoom(this.$container, options);\r\n\r\n    this.Panzoom.on({\r\n      // Bubble events\r\n      \"*\": (name, ...details) => this.trigger(`Panzoom.${name}`, ...details),\r\n      // The rest of events to be processed\r\n      afterUpdate: () => {\r\n        this.updatePage();\r\n      },\r\n      beforeTransform: this.onBeforeTransform.bind(this),\r\n      touchEnd: this.onTouchEnd.bind(this),\r\n      endAnimation: () => {\r\n        this.trigger(\"settle\");\r\n      },\r\n    });\r\n\r\n    // The contents of the slides may cause the page scroll bar to appear, so the carousel width may change\r\n    // and slides have to be repositioned\r\n    this.updateMetrics();\r\n    this.manageSlideVisiblity();\r\n  }\r\n\r\n  updatePanzoom() {\r\n    if (!this.Panzoom) {\r\n      return;\r\n    }\r\n\r\n    this.Panzoom.content = {\r\n      ...this.Panzoom.content,\r\n      fitWidth: this.contentWidth,\r\n      origWidth: this.contentWidth,\r\n      width: this.contentWidth,\r\n    };\r\n\r\n    if (this.pages.length > 1 && this.option(\"infiniteX\", this.option(\"infinite\"))) {\r\n      this.Panzoom.boundX = null;\r\n    } else if (this.pages.length) {\r\n      this.Panzoom.boundX = {\r\n        from: this.pages[this.pages.length - 1].left * -1,\r\n        to: this.pages[0].left * -1,\r\n      };\r\n    }\r\n\r\n    if (this.option(\"infiniteY\", this.option(\"infinite\"))) {\r\n      this.Panzoom.boundY = null;\r\n    } else {\r\n      this.Panzoom.boundY = {\r\n        from: 0,\r\n        to: 0,\r\n      };\r\n    }\r\n\r\n    this.Panzoom.handleCursor();\r\n  }\r\n\r\n  manageSlideVisiblity() {\r\n    const contentWidth = this.contentWidth;\r\n    const viewportWidth = this.viewportWidth;\r\n\r\n    let currentX = this.Panzoom ? this.Panzoom.content.x * -1 : this.pages.length ? this.pages[this.page].left : 0;\r\n\r\n    const preload = this.option(\"preload\");\r\n    const infinite = this.option(\"infiniteX\", this.option(\"infinite\"));\r\n\r\n    const paddingLeft = parseFloat(getComputedStyle(this.$viewport, null).getPropertyValue(\"padding-left\"));\r\n    const paddingRight = parseFloat(getComputedStyle(this.$viewport, null).getPropertyValue(\"padding-right\"));\r\n\r\n    // Check visibility of each slide\r\n    this.slides.forEach((slide) => {\r\n      let leftBoundary, rightBoundary;\r\n\r\n      let hasDiff = 0;\r\n\r\n      // #1 - slides in current viewport; this does not include infinite items\r\n      leftBoundary = currentX - paddingLeft;\r\n      rightBoundary = currentX + viewportWidth + paddingRight;\r\n\r\n      leftBoundary -= preload * (viewportWidth + paddingLeft + paddingRight);\r\n      rightBoundary += preload * (viewportWidth + paddingLeft + paddingRight);\r\n\r\n      const insideCurrentInterval = slide.left + slide.width > leftBoundary && slide.left < rightBoundary;\r\n\r\n      // #2 - infinite items inside current viewport; from previous interval\r\n      leftBoundary = currentX + contentWidth - paddingLeft;\r\n      rightBoundary = currentX + contentWidth + viewportWidth + paddingRight;\r\n\r\n      // Include slides that have to be preloaded\r\n      leftBoundary -= preload * (viewportWidth + paddingLeft + paddingRight);\r\n\r\n      const insidePrevInterval = infinite && slide.left + slide.width > leftBoundary && slide.left < rightBoundary;\r\n\r\n      // #2 - infinite items inside current viewport; from next interval\r\n      leftBoundary = currentX - contentWidth - paddingLeft;\r\n      rightBoundary = currentX - contentWidth + viewportWidth + paddingRight;\r\n\r\n      // Include slides that have to be preloaded\r\n      leftBoundary -= preload * (viewportWidth + paddingLeft + paddingRight);\r\n\r\n      const insideNextInterval = infinite && slide.left + slide.width > leftBoundary && slide.left < rightBoundary;\r\n\r\n      // Create virtual slides that should be visible or preloaded, remove others\r\n      if (insidePrevInterval || insideCurrentInterval || insideNextInterval) {\r\n        this.createSlideEl(slide);\r\n\r\n        if (insideCurrentInterval) {\r\n          hasDiff = 0;\r\n        }\r\n\r\n        if (insidePrevInterval) {\r\n          hasDiff = -1;\r\n        }\r\n\r\n        if (insideNextInterval) {\r\n          hasDiff = 1;\r\n        }\r\n\r\n        // Bring preloaded slides back to viewport, if needed\r\n        if (slide.left + slide.width > currentX && slide.left <= currentX + viewportWidth + paddingRight) {\r\n          hasDiff = 0;\r\n        }\r\n      } else {\r\n        this.removeSlideEl(slide);\r\n      }\r\n\r\n      slide.hasDiff = hasDiff;\r\n    });\r\n\r\n    // Reposition slides for continuity\r\n    let nextIndex = 0;\r\n    let nextPos = 0;\r\n\r\n    this.slides.forEach((slide, index) => {\r\n      let updatedX = 0;\r\n\r\n      if (slide.$el) {\r\n        if (index !== nextIndex || slide.hasDiff) {\r\n          updatedX = nextPos + slide.hasDiff * contentWidth;\r\n        } else {\r\n          nextPos = 0;\r\n        }\r\n\r\n        slide.$el.style.left = Math.abs(updatedX) > 0.1 ? `${nextPos + slide.hasDiff * contentWidth}px` : \"\";\r\n\r\n        nextIndex++;\r\n      } else {\r\n        nextPos += slide.width;\r\n      }\r\n    });\r\n\r\n    this.markSelectedSlides();\r\n  }\r\n\r\n  /**\r\n   * Creates main DOM element for virtual slides,\r\n   * lazy loads images inside regular slides\r\n   * @param {Object} slide\r\n   */\r\n  createSlideEl(slide) {\r\n    if (!slide) {\r\n      return;\r\n    }\r\n\r\n    if (slide.$el) {\r\n      let curentIndex = parseInt(slide.$el.dataset.index, 10);\r\n\r\n      if (curentIndex !== slide.index) {\r\n        slide.$el.dataset.index = slide.index;\r\n\r\n        // Lazy load images\r\n        const $lazyNodes = slide.$el.querySelectorAll(\"[data-lazy-src]\");\r\n\r\n        $lazyNodes.forEach((node) => {\r\n          let lazySrc = node.dataset.lazySrc;\r\n\r\n          if (node instanceof HTMLImageElement) {\r\n            node.src = lazySrc;\r\n          } else {\r\n            node.style.backgroundImage = `url('${lazySrc}')`;\r\n          }\r\n        });\r\n\r\n        let lazySrc;\r\n\r\n        if ((lazySrc = slide.$el.dataset.lazySrc)) {\r\n          slide.$el.style.backgroundImage = `url('${lazySrc}')`;\r\n        }\r\n\r\n        slide.state = \"ready\";\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    const div = document.createElement(\"div\");\r\n\r\n    div.dataset.index = slide.index;\r\n    div.classList.add(this.option(\"prefix\") + this.option(\"classNames.slide\"));\r\n\r\n    if (slide.customClass) {\r\n      div.classList.add(...slide.customClass.split(\" \"));\r\n    }\r\n\r\n    if (slide.html) {\r\n      div.innerHTML = slide.html;\r\n    }\r\n\r\n    const allElelements = [];\r\n\r\n    this.slides.forEach((slide, index) => {\r\n      if (slide.$el) {\r\n        allElelements.push(index);\r\n      }\r\n    });\r\n\r\n    // Find a place in DOM to insert an element\r\n    const goal = slide.index;\r\n    let refSlide = null;\r\n\r\n    if (allElelements.length) {\r\n      let refIndex = allElelements.reduce((prev, curr) =>\r\n        Math.abs(curr - goal) < Math.abs(prev - goal) ? curr : prev\r\n      );\r\n      refSlide = this.slides[refIndex];\r\n    }\r\n\r\n    this.$track.insertBefore(\r\n      div,\r\n      refSlide && refSlide.$el ? (refSlide.index < slide.index ? refSlide.$el.nextSibling : refSlide.$el) : null\r\n    );\r\n\r\n    slide.$el = div;\r\n\r\n    this.trigger(\"createSlide\", slide, goal);\r\n\r\n    return slide;\r\n  }\r\n\r\n  /**\r\n   * Removes main DOM element of given slide\r\n   * @param {Object} slide\r\n   */\r\n  removeSlideEl(slide) {\r\n    if (slide.$el && !slide.isDom) {\r\n      this.trigger(\"removeSlide\", slide);\r\n\r\n      slide.$el.remove();\r\n      slide.$el = null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggles selected class name and aria-hidden attribute for slides based on visibility\r\n   */\r\n  markSelectedSlides() {\r\n    const selectedClass = this.option(\"classNames.slideSelected\");\r\n    const attr = \"aria-hidden\";\r\n\r\n    this.slides.forEach((slide, index) => {\r\n      const $el = slide.$el;\r\n\r\n      if (!$el) {\r\n        return;\r\n      }\r\n\r\n      const page = this.pages[this.page];\r\n\r\n      if (page && page.indexes && page.indexes.indexOf(index) > -1) {\r\n        if (selectedClass && !$el.classList.contains(selectedClass)) {\r\n          $el.classList.add(selectedClass);\r\n          this.trigger(\"selectSlide\", slide);\r\n        }\r\n\r\n        $el.removeAttribute(attr);\r\n      } else {\r\n        if (selectedClass && $el.classList.contains(selectedClass)) {\r\n          $el.classList.remove(selectedClass);\r\n          this.trigger(\"unselectSlide\", slide);\r\n        }\r\n\r\n        $el.setAttribute(attr, true);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Perform all calculations and center current page\r\n   */\r\n  updatePage() {\r\n    this.updateMetrics();\r\n\r\n    this.slideTo(this.page, { friction: 0 });\r\n  }\r\n\r\n  /**\r\n   * Process `Panzoom.beforeTransform` event to remove slides moved out of viewport and\r\n   * to create necessary ones\r\n   */\r\n  onBeforeTransform() {\r\n    if (this.option(\"infiniteX\", this.option(\"infinite\"))) {\r\n      this.manageInfiniteTrack();\r\n    }\r\n\r\n    this.manageSlideVisiblity();\r\n  }\r\n\r\n  /**\r\n   * Seamlessly flip position of infinite carousel, if needed; this way x position stays low\r\n   */\r\n  manageInfiniteTrack() {\r\n    const contentWidth = this.contentWidth;\r\n    const viewportWidth = this.viewportWidth;\r\n\r\n    if (!this.option(\"infiniteX\", this.option(\"infinite\")) || this.pages.length < 2 || contentWidth < viewportWidth) {\r\n      return;\r\n    }\r\n\r\n    const panzoom = this.Panzoom;\r\n\r\n    let isFlipped = false;\r\n\r\n    if (panzoom.content.x < (contentWidth - viewportWidth) * -1) {\r\n      panzoom.content.x += contentWidth;\r\n\r\n      this.pageIndex = this.pageIndex - this.pages.length;\r\n\r\n      isFlipped = true;\r\n    }\r\n\r\n    if (panzoom.content.x > viewportWidth) {\r\n      panzoom.content.x -= contentWidth;\r\n\r\n      this.pageIndex = this.pageIndex + this.pages.length;\r\n\r\n      isFlipped = true;\r\n    }\r\n\r\n    if (isFlipped && panzoom.state === \"pointerdown\") {\r\n      panzoom.resetDragPosition();\r\n    }\r\n\r\n    return isFlipped;\r\n  }\r\n\r\n  /**\r\n   * Process `Panzoom.touchEnd` event; slide to next/prev page if needed\r\n   * @param {object} panzoom\r\n   */\r\n  onTouchEnd(panzoom, event) {\r\n    const dragFree = this.option(\"dragFree\");\r\n\r\n    // If this is a quick horizontal flick, slide to next/prev slide\r\n    if (\r\n      !dragFree &&\r\n      this.pages.length > 1 &&\r\n      panzoom.dragOffset.time < 350 &&\r\n      Math.abs(panzoom.dragOffset.y) < 1 &&\r\n      Math.abs(panzoom.dragOffset.x) > 5\r\n    ) {\r\n      this[panzoom.dragOffset.x < 0 ? \"slideNext\" : \"slidePrev\"]();\r\n      return;\r\n    }\r\n\r\n    // Set the slide at the end of the animation as the current one,\r\n    // or slide to closest page\r\n    if (dragFree) {\r\n      const [, nextPageIndex] = this.getPageFromPosition(panzoom.transform.x * -1);\r\n      this.setPage(nextPageIndex);\r\n    } else {\r\n      this.slideToClosest();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Slides to the closest page (useful, if carousel is changed manually)\r\n   * @param {Object} [params] - Object containing additional options\r\n   */\r\n  slideToClosest(params = {}) {\r\n    let [, nextPageIndex] = this.getPageFromPosition(this.Panzoom.content.x * -1);\r\n\r\n    this.slideTo(nextPageIndex, params);\r\n  }\r\n\r\n  /**\r\n   * Returns index of closest page to given x position\r\n   * @param {Number} xPos\r\n   */\r\n  getPageFromPosition(xPos) {\r\n    const pageCount = this.pages.length;\r\n    const center = this.option(\"center\");\r\n\r\n    if (center) {\r\n      xPos += this.viewportWidth * 0.5;\r\n    }\r\n\r\n    const interval = Math.floor(xPos / this.contentWidth);\r\n\r\n    xPos -= interval * this.contentWidth;\r\n\r\n    let slide = this.slides.find((slide) => slide.left <= xPos && slide.left + slide.width > xPos);\r\n\r\n    if (slide) {\r\n      let pageIndex = this.findPageForSlide(slide.index);\r\n\r\n      return [pageIndex, pageIndex + interval * pageCount];\r\n    }\r\n\r\n    return [0, 0];\r\n  }\r\n\r\n  /**\r\n   * Changes active page\r\n   * @param {Number} page - New index of active page\r\n   * @param {Boolean} toClosest - to closest page based on scroll distance (for infinite navigation)\r\n   */\r\n  setPage(page, toClosest) {\r\n    let nextPosition = 0;\r\n    let pageIndex = parseInt(page, 10) || 0;\r\n\r\n    const prevPage = this.page,\r\n      prevPageIndex = this.pageIndex,\r\n      pageCount = this.pages.length;\r\n\r\n    const contentWidth = this.contentWidth;\r\n    const viewportWidth = this.viewportWidth;\r\n\r\n    page = ((pageIndex % pageCount) + pageCount) % pageCount;\r\n\r\n    if (this.option(\"infiniteX\", this.option(\"infinite\")) && contentWidth > viewportWidth) {\r\n      const nextInterval = Math.floor(pageIndex / pageCount) || 0,\r\n        elemDimWidth = contentWidth;\r\n\r\n      nextPosition = this.pages[page].left + nextInterval * elemDimWidth;\r\n\r\n      if (toClosest === true && pageCount > 2) {\r\n        let currPosition = this.Panzoom.content.x * -1;\r\n\r\n        // * Find closest interval\r\n        const decreasedPosition = nextPosition - elemDimWidth,\r\n          increasedPosition = nextPosition + elemDimWidth,\r\n          diff1 = Math.abs(currPosition - nextPosition),\r\n          diff2 = Math.abs(currPosition - decreasedPosition),\r\n          diff3 = Math.abs(currPosition - increasedPosition);\r\n\r\n        if (diff3 < diff1 && diff3 <= diff2) {\r\n          nextPosition = increasedPosition;\r\n          pageIndex += pageCount;\r\n        } else if (diff2 < diff1 && diff2 < diff3) {\r\n          nextPosition = decreasedPosition;\r\n          pageIndex -= pageCount;\r\n        }\r\n      }\r\n    } else {\r\n      page = pageIndex = Math.max(0, Math.min(pageIndex, pageCount - 1));\r\n\r\n      nextPosition = this.pages.length ? this.pages[page].left : 0;\r\n    }\r\n\r\n    this.page = page;\r\n    this.pageIndex = pageIndex;\r\n\r\n    if (prevPage !== null && page !== prevPage) {\r\n      this.prevPage = prevPage;\r\n      this.prevPageIndex = prevPageIndex;\r\n\r\n      this.trigger(\"change\", page, prevPage);\r\n    }\r\n\r\n    return nextPosition;\r\n  }\r\n\r\n  /**\r\n   * Clean up\r\n   */\r\n  destroy() {\r\n    this.state = \"destroy\";\r\n\r\n    this.slides.forEach((slide) => {\r\n      this.removeSlideEl(slide);\r\n    });\r\n\r\n    this.slides = [];\r\n\r\n    this.Panzoom.destroy();\r\n\r\n    this.detachPlugins();\r\n  }\r\n}\r\n\r\n// Expose version\r\nCarousel.version = \"__VERSION__\";\r\n\r\n// Static properties are a recent addition that dont work in all browsers yet\r\nCarousel.Plugins = Plugins;\r\n","import { isScrollable } from \"../../../../src/shared/utils/isScrollable.js\";\n\nexport class ScrollLock {\n  constructor(fancybox) {\n    this.fancybox = fancybox;\n    this.viewport = null;\n\n    this.pendingUpdate = null;\n\n    for (const methodName of [\"onReady\", \"onResize\", \"onTouchstart\", \"onTouchmove\"]) {\n      this[methodName] = this[methodName].bind(this);\n    }\n  }\n\n  /**\n   * Process `initLayout` event to attach event listeners and resize viewport if needed\n   */\n  onReady() {\n    //* Support Visual Viewport API\n    // https://developer.mozilla.org/en-US/docs/Web/API/Visual_Viewport_API\n    const viewport = window.visualViewport;\n\n    if (viewport) {\n      this.viewport = viewport;\n      this.startY = 0;\n\n      viewport.addEventListener(\"resize\", this.onResize);\n\n      this.updateViewport();\n    }\n\n    //* Prevent bouncing while scrolling on mobile devices\n    window.addEventListener(\"touchstart\", this.onTouchstart, { passive: false });\n    window.addEventListener(\"touchmove\", this.onTouchmove, { passive: false });\n  }\n\n  /**\n   * Handle `resize` event to call `updateViewport`\n   */\n  onResize() {\n    this.updateViewport();\n  }\n\n  /**\n   * Scale $container proportionally to actually fit inside browser,\n   * e.g., disable viewport zooming\n   */\n  updateViewport() {\n    const fancybox = this.fancybox,\n      viewport = this.viewport,\n      scale = viewport.scale || 1,\n      $container = fancybox.$container;\n\n    if (!$container) {\n      return;\n    }\n\n    let width = \"\",\n      height = \"\",\n      transform = \"\";\n\n    if (scale - 1 > 0.1) {\n      width = `${viewport.width * scale}px`;\n      height = `${viewport.height * scale}px`;\n      transform = `translate3d(${viewport.offsetLeft}px, ${viewport.offsetTop}px, 0) scale(${1 / scale})`;\n    }\n\n    $container.style.width = width;\n    $container.style.height = height;\n    $container.style.transform = transform;\n  }\n\n  /**\n   * Handle `touchstart` event to mark drag start position\n   * @param {Object} event\n   */\n  onTouchstart(event) {\n    this.startY = event.touches ? event.touches[0].screenY : event.screenY;\n  }\n\n  /**\n   * Handle `touchmove` event to fix scrolling on mobile devices (iOS)\n   * @param {Object} event\n   */\n  onTouchmove(event) {\n    const startY = this.startY;\n    const zoom = window.innerWidth / window.document.documentElement.clientWidth;\n\n    if (!event.cancelable) {\n      return;\n    }\n\n    if (event.touches.length > 1 || zoom !== 1) {\n      return;\n    }\n\n    const target = event.target;\n    const el = isScrollable(target);\n\n    if (!el) {\n      event.preventDefault();\n      return;\n    }\n\n    const style = window.getComputedStyle(el);\n    const height = parseInt(style.getPropertyValue(\"height\"), 10);\n\n    const curY = event.touches ? event.touches[0].screenY : event.screenY;\n\n    const isAtTop = startY <= curY && el.scrollTop === 0;\n    const isAtBottom = startY >= curY && el.scrollHeight - el.scrollTop === height;\n\n    if (isAtTop || isAtBottom) {\n      event.preventDefault();\n    }\n  }\n\n  /**\n   * Clean everything up\n   */\n  cleanup() {\n    if (this.pendingUpdate) {\n      cancelAnimationFrame(this.pendingUpdate);\n      this.pendingUpdate = null;\n    }\n\n    const viewport = this.viewport;\n\n    if (viewport) {\n      viewport.removeEventListener(\"resize\", this.onResize);\n      this.viewport = null;\n    }\n\n    window.removeEventListener(\"touchstart\", this.onTouchstart, false);\n    window.removeEventListener(\"touchmove\", this.onTouchmove, false);\n  }\n\n  attach() {\n    this.fancybox.on(\"initLayout\", this.onReady);\n  }\n\n  detach() {\n    this.fancybox.off(\"initLayout\", this.onReady);\n\n    this.cleanup();\n  }\n}\n","import { extend } from \"../../../shared/utils/extend.js\";\nimport { Carousel } from \"../../../Carousel/Carousel.js\";\n\nconst defaults = {\n  // The minimum number of images in the gallery to display thumbnails\n  minSlideCount: 2,\n\n  // Minimum screen height to display thumbnails\n  minScreenHeight: 500,\n\n  // Automatically show thumbnails when opened\n  autoStart: true,\n\n  // Keyboard shortcut to toggle thumbnail container\n  key: \"t\",\n\n  // Customize Carousel instance\n  Carousel: {},\n};\n\nexport class Thumbs {\n  constructor(fancybox) {\n    this.fancybox = fancybox;\n\n    this.$container = null;\n    this.state = \"init\";\n\n    for (const methodName of [\"onPrepare\", \"onClosing\", \"onKeydown\"]) {\n      this[methodName] = this[methodName].bind(this);\n    }\n\n    this.events = {\n      prepare: this.onPrepare,\n      closing: this.onClosing,\n      keydown: this.onKeydown,\n    };\n  }\n\n  /**\n   * Process `prepare` event to build the layout\n   */\n  onPrepare() {\n    // Get slides, skip if the total number is less than the minimum\n    const slides = this.getSlides();\n\n    if (slides.length < this.fancybox.option(\"Thumbs.minSlideCount\")) {\n      this.state = \"disabled\";\n      return;\n    }\n\n    if (\n      this.fancybox.option(\"Thumbs.autoStart\") === true &&\n      this.fancybox.Carousel.Panzoom.content.height >= this.fancybox.option(\"Thumbs.minScreenHeight\")\n    ) {\n      this.build();\n    }\n  }\n\n  /**\n   * Process `closing` event to disable all events\n   */\n  onClosing() {\n    if (this.Carousel) {\n      this.Carousel.Panzoom.detachEvents();\n    }\n  }\n\n  /**\n   * Process `keydown` event to enable thumbnail list toggling using keyboard key\n   * @param {Object} fancybox\n   * @param {String} key\n   */\n  onKeydown(fancybox, key) {\n    if (key === fancybox.option(\"Thumbs.key\")) {\n      this.toggle();\n    }\n  }\n\n  /**\n   * Build layout and init thumbnail Carousel\n   */\n  build() {\n    if (this.$container) {\n      return;\n    }\n\n    // Create wrapping element and append to layout\n    const $container = document.createElement(\"div\");\n\n    $container.classList.add(\"fancybox__thumbs\");\n\n    this.fancybox.$carousel.parentNode.insertBefore($container, this.fancybox.$carousel.nextSibling);\n\n    // Initialise thumbnail carousel with all slides\n    this.Carousel = new Carousel(\n      $container,\n      extend(\n        true,\n        {\n          Dots: false,\n          Navigation: false,\n          Sync: {\n            friction: 0,\n          },\n          infinite: false,\n          center: true,\n          fill: true,\n          dragFree: true,\n          slidesPerPage: 1,\n          preload: 1,\n        },\n        this.fancybox.option(\"Thumbs.Carousel\"),\n        {\n          Sync: {\n            target: this.fancybox.Carousel,\n          },\n          slides: this.getSlides(),\n        }\n      )\n    );\n\n    // Slide carousel on wheel event\n    this.Carousel.Panzoom.on(\"wheel\", (panzoom, event) => {\n      event.preventDefault();\n\n      this.fancybox[event.deltaY < 0 ? \"prev\" : \"next\"]();\n    });\n\n    this.$container = $container;\n\n    this.state = \"visible\";\n  }\n\n  /**\n   * Process all fancybox slides to get all thumbnail images\n   */\n  getSlides() {\n    const slides = [];\n\n    for (const slide of this.fancybox.items) {\n      const thumb = slide.thumb;\n\n      if (thumb) {\n        slides.push({\n          html: `<div class=\"fancybox__thumb\" style=\"background-image:url('${thumb}')\"></div>`,\n          customClass: `has-thumb has-${slide.type || \"image\"}`,\n        });\n      }\n    }\n\n    return slides;\n  }\n\n  /**\n   * Toggle visibility of thumbnail list\n   * Tip: you can use `Fancybox.getInstance().plugins.Thumbs.toggle()` from anywhere in your code\n   */\n  toggle() {\n    if (this.state === \"visible\") {\n      this.hide();\n    } else if (this.state === \"hidden\") {\n      this.show();\n    } else {\n      this.build();\n    }\n  }\n\n  /**\n   * Show thumbnail list\n   */\n  show() {\n    if (this.state === \"hidden\") {\n      this.$container.style.display = \"\";\n\n      this.Carousel.Panzoom.attachEvents();\n\n      this.state = \"visible\";\n    }\n  }\n\n  /**\n   * Hide thumbnail list\n   */\n  hide() {\n    if (this.state === \"visible\") {\n      this.Carousel.Panzoom.detachEvents();\n\n      this.$container.style.display = \"none\";\n\n      this.state = \"hidden\";\n    }\n  }\n\n  /**\n   * Reset the state\n   */\n  cleanup() {\n    if (this.Carousel) {\n      this.Carousel.destroy();\n      this.Carousel = null;\n    }\n\n    if (this.$container) {\n      this.$container.remove();\n      this.$container = null;\n    }\n\n    this.state = \"init\";\n  }\n\n  attach() {\n    this.fancybox.on(this.events);\n  }\n\n  detach() {\n    this.fancybox.off(this.events);\n\n    this.cleanup();\n  }\n}\n\n// Expose defaults\nThumbs.defaults = defaults;\n","import { extend } from \"../../../shared/utils/extend.js\";\n\nconst buildURLQuery = (obj) => {\n  return Object.entries(obj)\n    .map((pair) => pair.map(encodeURIComponent).join(\"=\"))\n    .join(\"&\");\n};\n\nconst defaults = {\n  // General options for any video content (Youtube, Vimeo, HTML5 video)\n  video: {\n    autoplay: true,\n    ratio: 16 / 9,\n  },\n  // Youtube embed parameters\n  youtube: {\n    autohide: 1,\n    fs: 1,\n    rel: 0,\n    hd: 1,\n    wmode: \"transparent\",\n    enablejsapi: 1,\n    html5: 1,\n  },\n  // Vimeo embed parameters\n  vimeo: {\n    hd: 1,\n    show_title: 1,\n    show_byline: 1,\n    show_portrait: 0,\n    fullscreen: 1,\n  },\n  // HTML5 video parameters\n  html5video: {\n    tpl: `<video class=\"fancybox__html5video\" playsinline controls controlsList=\"nodownload\" poster=\"{{poster}}\">\n  <source src=\"{{src}}\" type=\"{{format}}\" />Sorry, your browser doesn't support embedded videos.</video>`,\n    format: \"\",\n  },\n};\n\nexport class Html {\n  constructor(fancybox) {\n    this.fancybox = fancybox;\n\n    for (const methodName of [\n      \"onInit\",\n      \"onReady\",\n\n      \"onCreateSlide\",\n      \"onRemoveSlide\",\n\n      \"onSelectSlide\",\n      \"onUnselectSlide\",\n\n      \"onRefresh\",\n\n      // For communication with iframed video (youtube/vimeo)\n      \"onMessage\",\n    ]) {\n      this[methodName] = this[methodName].bind(this);\n    }\n\n    this.events = {\n      init: this.onInit,\n      ready: this.onReady,\n\n      \"Carousel.createSlide\": this.onCreateSlide,\n      \"Carousel.removeSlide\": this.onRemoveSlide,\n\n      \"Carousel.selectSlide\": this.onSelectSlide,\n      \"Carousel.unselectSlide\": this.onUnselectSlide,\n\n      \"Carousel.refresh\": this.onRefresh,\n    };\n  }\n\n  /**\n   * Check if each gallery item has type when fancybox starts\n   */\n  onInit() {\n    for (const slide of this.fancybox.items) {\n      this.processType(slide);\n    }\n  }\n\n  /**\n   * Set content type for the slide\n   * @param {Object} slide\n   */\n  processType(slide) {\n    // Add support for `new Fancybox({items : [{html : 'smth'}]});`\n    if (slide.html) {\n      slide.src = slide.html;\n      slide.type = \"html\";\n\n      delete slide.html;\n\n      return;\n    }\n\n    const src = slide.src || \"\";\n\n    let type = slide.type || this.fancybox.options.type,\n      rez = null;\n\n    if (src && typeof src !== \"string\") {\n      return;\n    }\n\n    if (\n      (rez = src.match(\n        /(?:youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(?:watch\\?(?:.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(?:.*)|[\\w-]{11}|\\?listType=(?:.*)&list=(?:.*))(?:.*)/i\n      ))\n    ) {\n      const params = buildURLQuery(this.fancybox.option(\"Html.youtube\"));\n      const videoId = encodeURIComponent(rez[1]);\n\n      slide.videoId = videoId;\n      slide.src = `https://www.youtube-nocookie.com/embed/${videoId}?${params}`;\n      slide.thumb = slide.thumb || `https://i.ytimg.com/vi/${videoId}/mqdefault.jpg`;\n      slide.vendor = \"youtube\";\n\n      type = \"video\";\n    } else if ((rez = src.match(/^.+vimeo.com\\/(?:\\/)?([\\d]+)(.*)?/))) {\n      const params = buildURLQuery(this.fancybox.option(\"Html.vimeo\"));\n      const videoId = encodeURIComponent(rez[1]);\n\n      slide.videoId = videoId;\n      slide.src = `https://player.vimeo.com/video/${videoId}?${params}`;\n      slide.vendor = \"vimeo\";\n\n      type = \"video\";\n    } else if (\n      (rez = src.match(\n        /(?:maps\\.)?google\\.([a-z]{2,3}(?:\\.[a-z]{2})?)\\/(?:(?:(?:maps\\/(?:place\\/(?:.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(?:\\?ll=))(.*)?/i\n      ))\n    ) {\n      slide.src = `//maps.google.${rez[1]}/?ll=${(rez[2]\n        ? rez[2] + \"&z=\" + Math.floor(rez[3]) + (rez[4] ? rez[4].replace(/^\\//, \"&\") : \"\")\n        : rez[4] + \"\"\n      ).replace(/\\?/, \"&\")}&output=${rez[4] && rez[4].indexOf(\"layer=c\") > 0 ? \"svembed\" : \"embed\"}`;\n\n      type = \"map\";\n    } else if ((rez = src.match(/(?:maps\\.)?google\\.([a-z]{2,3}(?:\\.[a-z]{2})?)\\/(?:maps\\/search\\/)(.*)/i))) {\n      slide.src = `//maps.google.${rez[1]}/maps?q=${rez[2].replace(\"query=\", \"q=\").replace(\"api=1\", \"\")}&output=embed`;\n\n      type = \"map\";\n    }\n\n    // Guess content type\n    if (!type) {\n      if (src.charAt(0) === \"#\") {\n        type = \"inline\";\n      } else if ((rez = src.match(/\\.(mp4|mov|ogv|webm)((\\?|#).*)?$/i))) {\n        type = \"html5video\";\n\n        slide.format = slide.format || \"video/\" + (rez[1] === \"ogv\" ? \"ogg\" : rez[1]);\n      } else if (src.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i)) {\n        type = \"image\";\n      } else if (src.match(/\\.(pdf)((\\?|#).*)?$/i)) {\n        type = \"pdf\";\n      }\n    }\n\n    slide.type = type || this.fancybox.option(\"defaultType\", \"image\");\n\n    if (type === \"html5video\" || type === \"video\") {\n      slide.video = extend({}, this.fancybox.option(\"Html.video\"), slide.video);\n\n      if (slide._width && slide._height) {\n        slide.ratio = parseFloat(slide._width) / parseFloat(slide._height);\n      } else {\n        slide.ratio = slide.ratio || slide.video.ratio || defaults.video.ratio;\n      }\n    }\n  }\n\n  /**\n   * Start loading content when Fancybox is ready\n   */\n  onReady() {\n    this.fancybox.Carousel.slides.forEach((slide) => {\n      if (slide.$el) {\n        this.setContent(slide);\n\n        if (slide.index === this.fancybox.getSlide().index) {\n          this.playVideo(slide);\n        }\n      }\n    });\n  }\n\n  /**\n   * Process `Carousel.createSlide` event to create image content\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   * @param {Object} slide\n   */\n  onCreateSlide(fancybox, carousel, slide) {\n    if (this.fancybox.state !== \"ready\") {\n      return;\n    }\n\n    this.setContent(slide);\n  }\n\n  /**\n   * Retrieve and set slide content\n   * @param {Object} slide\n   */\n  loadInlineContent(slide) {\n    let $content;\n\n    if (slide.src instanceof HTMLElement) {\n      $content = slide.src;\n    } else if (typeof slide.src === \"string\") {\n      const tmp = slide.src.split(\"#\", 2);\n      const id = tmp.length === 2 && tmp[0] === \"\" ? tmp[1] : tmp[0];\n\n      $content = document.getElementById(id);\n    }\n\n    if ($content) {\n      if (slide.type === \"clone\" || $content.$placeHolder) {\n        $content = $content.cloneNode(true);\n        let attrId = $content.getAttribute(\"id\");\n\n        attrId = attrId ? `${attrId}--clone` : `clone-${this.fancybox.id}-${slide.index}`;\n\n        $content.setAttribute(\"id\", attrId);\n      } else {\n        const $placeHolder = document.createElement(\"div\");\n        $placeHolder.classList.add(\"fancybox-placeholder\");\n        $content.parentNode.insertBefore($placeHolder, $content);\n        $content.$placeHolder = $placeHolder;\n      }\n\n      this.fancybox.setContent(slide, $content);\n    } else {\n      this.fancybox.setError(slide, \"{{ELEMENT_NOT_FOUND}}\");\n    }\n  }\n\n  /**\n   * Makes AJAX request and sets response as slide content\n   * @param {Object} slide\n   */\n  loadAjaxContent(slide) {\n    const fancybox = this.fancybox;\n    const xhr = new XMLHttpRequest();\n\n    fancybox.showLoading(slide);\n\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState === XMLHttpRequest.DONE) {\n        if (fancybox.state === \"ready\") {\n          fancybox.hideLoading(slide);\n\n          if (xhr.status === 200) {\n            fancybox.setContent(slide, xhr.responseText);\n          } else {\n            fancybox.setError(slide, xhr.status === 404 ? \"{{AJAX_NOT_FOUND}}\" : \"{{AJAX_FORBIDDEN}}\");\n          }\n        }\n      }\n    };\n\n    xhr.open(\"GET\", slide.src);\n    xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n    xhr.send(slide.ajax || null);\n\n    slide.xhr = xhr;\n  }\n\n  /**\n   * Creates iframe as slide content, preloads if needed before displaying\n   * @param {Object} slide\n   */\n  loadIframeContent(slide) {\n    const fancybox = this.fancybox;\n    const $iframe = document.createElement(\"iframe\");\n\n    $iframe.className = \"fancybox__iframe\";\n\n    $iframe.setAttribute(\"id\", `fancybox__iframe_${fancybox.id}_${slide.index}`);\n\n    $iframe.setAttribute(\"allow\", \"autoplay; fullscreen\");\n    $iframe.setAttribute(\"scrolling\", \"auto\");\n\n    slide.$iframe = $iframe;\n\n    if (slide.type !== \"iframe\" || slide.preload === false) {\n      $iframe.setAttribute(\"src\", slide.src);\n\n      this.fancybox.setContent(slide, $iframe);\n\n      this.resizeIframe(slide);\n\n      return;\n    }\n\n    fancybox.showLoading(slide);\n\n    const $content = document.createElement(\"div\");\n    $content.style.visibility = \"hidden\";\n\n    this.fancybox.setContent(slide, $content);\n\n    $content.appendChild($iframe);\n\n    $iframe.onerror = () => {\n      fancybox.setError(slide, \"{{IFRAME_ERROR}}\");\n    };\n\n    $iframe.onload = () => {\n      fancybox.hideLoading(slide);\n\n      let isFirstLoad = false;\n\n      if (!$iframe.isReady) {\n        $iframe.isReady = true;\n        isFirstLoad = true;\n      }\n\n      if (!$iframe.src.length) {\n        return;\n      }\n\n      $iframe.parentNode.style.visibility = \"\";\n\n      this.resizeIframe(slide);\n\n      if (isFirstLoad) {\n        fancybox.revealContent(slide);\n      }\n    };\n\n    $iframe.setAttribute(\"src\", slide.src);\n  }\n\n  /**\n   * Set CSS max/min width/height properties of the content to have the correct aspect ratio\n   * @param {Object} slide\n   */\n  setAspectRatio(slide) {\n    const $content = slide.$content;\n    const ratio = slide.ratio;\n\n    if (!$content) {\n      return;\n    }\n\n    let width = slide._width;\n    let height = slide._height;\n\n    if (ratio || (width && height)) {\n      Object.assign($content.style, {\n        width: width && height ? \"100%\" : \"\",\n        height: width && height ? \"100%\" : \"\",\n        maxWidth: \"\",\n        maxHeight: \"\",\n      });\n\n      let maxWidth = $content.offsetWidth;\n      let maxHeight = $content.offsetHeight;\n\n      width = width || maxWidth;\n      height = height || maxHeight;\n\n      // Resize to fit\n      if (width > maxWidth || height > maxHeight) {\n        let maxRatio = Math.min(maxWidth / width, maxHeight / height);\n\n        width = width * maxRatio;\n        height = height * maxRatio;\n      }\n\n      // Recheck ratio\n      if (Math.abs(width / height - ratio) > 0.01) {\n        if (ratio < width / height) {\n          width = height * ratio;\n        } else {\n          height = width / ratio;\n        }\n      }\n\n      Object.assign($content.style, {\n        width: `${width}px`,\n        height: `${height}px`,\n      });\n    }\n  }\n\n  /**\n   * Adjust the width and height of the iframe according to the content dimensions, or defined sizes\n   * @param {Object} slide\n   */\n  resizeIframe(slide) {\n    const $iframe = slide.$iframe;\n\n    if (!$iframe) {\n      return;\n    }\n\n    let width_ = slide._width || 0;\n    let height_ = slide._height || 0;\n\n    if (width_ && height_) {\n      slide.autoSize = false;\n    }\n\n    const $parent = $iframe.parentNode;\n    const parentStyle = $parent.style;\n\n    if (slide.preload !== false && slide.autoSize !== false) {\n      try {\n        const compStyles = window.getComputedStyle($parent),\n          paddingX = parseFloat(compStyles.paddingLeft) + parseFloat(compStyles.paddingRight),\n          paddingY = parseFloat(compStyles.paddingTop) + parseFloat(compStyles.paddingBottom);\n\n        const document = $iframe.contentWindow.document,\n          $html = document.getElementsByTagName(\"html\")[0],\n          $body = document.body;\n\n        // Get rid of vertical scrollbar\n        $body.style.overflow = \"hidden\";\n\n        width_ = width_ || $html.scrollWidth + paddingX;\n\n        parentStyle.width = `${width_}px`;\n\n        $body.style.overflow = \"\";\n\n        parentStyle.flex = \"0 0 auto\";\n        parentStyle.height = `${$body.scrollHeight}px`;\n\n        height_ = $html.scrollHeight + paddingY;\n      } catch (error) {\n        //\n      }\n    }\n\n    if (width_ || height_) {\n      const newStyle = {\n        flex: \"0 1 auto\",\n      };\n\n      if (width_) {\n        newStyle.width = `${width_}px`;\n      }\n\n      if (height_) {\n        newStyle.height = `${height_}px`;\n      }\n\n      Object.assign(parentStyle, newStyle);\n    }\n  }\n\n  /**\n   * Process `Carousel.onRefresh` event,\n   * trigger iframe autosizing and set content aspect ratio for each slide\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   */\n  onRefresh(fancybox, carousel) {\n    carousel.slides.forEach((slide) => {\n      if (!slide.$el) {\n        return;\n      }\n\n      if (slide.$iframe) {\n        this.resizeIframe(slide);\n      }\n\n      if (slide.ratio) {\n        this.setAspectRatio(slide);\n      }\n    });\n  }\n\n  /**\n   * Process `Carousel.onCreateSlide` event to set content\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   * @param {Object} slide\n   */\n  setContent(slide) {\n    if (!slide || slide.isDom) {\n      return;\n    }\n\n    switch (slide.type) {\n      case \"html\":\n        this.fancybox.setContent(slide, slide.src);\n        break;\n\n      case \"html5video\":\n        this.fancybox.setContent(\n          slide,\n          this.fancybox\n            .option(\"Html.html5video.tpl\")\n            .replace(/\\{\\{src\\}\\}/gi, slide.src)\n            .replace(\"{{format}}\", slide.format || (slide.html5video && slide.html5video.format) || \"\")\n            .replace(\"{{poster}}\", slide.poster || slide.thumb || \"\")\n        );\n\n        break;\n\n      case \"inline\":\n      case \"clone\":\n        this.loadInlineContent(slide);\n        break;\n\n      case \"ajax\":\n        this.loadAjaxContent(slide);\n        break;\n\n      case \"iframe\":\n      case \"pdf\":\n      case \"video\":\n      case \"map\":\n        this.loadIframeContent(slide);\n\n        break;\n    }\n\n    if (slide.ratio) {\n      this.setAspectRatio(slide);\n    }\n  }\n\n  /**\n   * Process `Carousel.onSelectSlide` event to start video\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   * @param {Object} slide\n   */\n  onSelectSlide(fancybox, carousel, slide) {\n    if (fancybox.state === \"ready\") {\n      this.playVideo(slide);\n    }\n  }\n\n  /**\n   * Attempts to begin playback of the media\n   * @param {Object} slide\n   */\n  playVideo(slide) {\n    if (slide.type === \"html5video\" && slide.video.autoplay) {\n      try {\n        const $video = slide.$el.querySelector(\"video\");\n\n        if ($video) {\n          const promise = $video.play();\n\n          if (promise !== undefined) {\n            promise\n              .then(() => {\n                // Autoplay started\n              })\n              .catch((error) => {\n                // Autoplay was prevented.\n                $video.muted = true;\n                $video.play();\n              });\n          }\n        }\n      } catch (err) {}\n    }\n\n    if (slide.type !== \"video\" || !(slide.$iframe && slide.$iframe.contentWindow)) {\n      return;\n    }\n\n    // This function will be repeatedly called to check\n    // if video iframe has been loaded to send message to start the video\n    const poller = () => {\n      if (slide.state === \"done\" && slide.$iframe && slide.$iframe.contentWindow) {\n        let command;\n\n        if (slide.$iframe.isReady) {\n          if (slide.video && slide.video.autoplay) {\n            if (slide.vendor == \"youtube\") {\n              command = {\n                event: \"command\",\n                func: \"playVideo\",\n              };\n            } else {\n              command = {\n                method: \"play\",\n                value: \"true\",\n              };\n            }\n          }\n\n          if (command) {\n            slide.$iframe.contentWindow.postMessage(JSON.stringify(command), \"*\");\n          }\n\n          return;\n        }\n\n        if (slide.vendor === \"youtube\") {\n          command = {\n            event: \"listening\",\n            id: slide.$iframe.getAttribute(\"id\"),\n          };\n\n          slide.$iframe.contentWindow.postMessage(JSON.stringify(command), \"*\");\n        }\n      }\n\n      slide.poller = setTimeout(poller, 250);\n    };\n\n    poller();\n  }\n\n  /**\n   * Process `Carousel.onUnselectSlide` event to pause video\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   * @param {Object} slide\n   */\n  onUnselectSlide(fancybox, carousel, slide) {\n    if (slide.type === \"html5video\") {\n      try {\n        slide.$el.querySelector(\"video\").pause();\n      } catch (error) {}\n\n      return;\n    }\n\n    let command = false;\n\n    if (slide.vendor == \"vimeo\") {\n      command = {\n        method: \"pause\",\n        value: \"true\",\n      };\n    } else if (slide.vendor === \"youtube\") {\n      command = {\n        event: \"command\",\n        func: \"pauseVideo\",\n      };\n    }\n\n    if (command && slide.$iframe && slide.$iframe.contentWindow) {\n      slide.$iframe.contentWindow.postMessage(JSON.stringify(command), \"*\");\n    }\n\n    clearTimeout(slide.poller);\n  }\n\n  /**\n   * Process `Carousel.onRemoveSlide` event to do clean up\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   * @param {Object} slide\n   */\n  onRemoveSlide(fancybox, carousel, slide) {\n    // Abort ajax request if exists\n    if (slide.xhr) {\n      slide.xhr.abort();\n      slide.xhr = null;\n    }\n\n    // Unload iframe content if exists\n    if (slide.$iframe) {\n      slide.$iframe.onload = slide.$iframe.onerror = null;\n\n      slide.$iframe.src = \"//about:blank\";\n      slide.$iframe = null;\n    }\n\n    // Clear inline content\n    const $content = slide.$content;\n\n    if (slide.type === \"inline\" && $content) {\n      $content.classList.remove(\"fancybox__content\");\n\n      if ($content.style.display !== \"none\") {\n        $content.style.display = \"none\";\n      }\n    }\n\n    if (slide.$closeButton) {\n      slide.$closeButton.remove();\n      slide.$closeButton = null;\n    }\n\n    const $placeHolder = $content && $content.$placeHolder;\n\n    if ($placeHolder) {\n      $placeHolder.parentNode.insertBefore($content, $placeHolder);\n      $placeHolder.remove();\n      $content.$placeHolder = null;\n    }\n  }\n\n  /**\n   * Process `window.message` event to mark video iframe element as `ready`\n   * @param {Object} e - Event\n   */\n  onMessage(e) {\n    try {\n      let data = JSON.parse(e.data);\n\n      if (e.origin === \"https://player.vimeo.com\") {\n        if (data.event === \"ready\") {\n          for (let $iframe of document.getElementsByClassName(\"fancybox__iframe\")) {\n            if ($iframe.contentWindow === e.source) {\n              $iframe.isReady = 1;\n            }\n          }\n        }\n      } else if (e.origin === \"https://www.youtube-nocookie.com\") {\n        if (data.event === \"onReady\") {\n          document.getElementById(data.id).isReady = 1;\n        }\n      }\n    } catch (ex) {}\n  }\n\n  attach() {\n    this.fancybox.on(this.events);\n\n    window.addEventListener(\"message\", this.onMessage, false);\n  }\n\n  detach() {\n    this.fancybox.off(this.events);\n\n    window.removeEventListener(\"message\", this.onMessage, false);\n  }\n}\n\n// Expose defaults\nHtml.defaults = defaults;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import { extend } from \"../../../shared/utils/extend.js\";\r\n\r\nimport { Panzoom } from \"../../../Panzoom/Panzoom.js\";\r\n\r\nconst defaults = {\r\n  // Class name for slide element indicating that content can be zoomed in\r\n  canZoomInClass: \"can-zoom_in\",\r\n\r\n  // Class name for slide element indicating that content can be zoomed out\r\n  canZoomOutClass: \"can-zoom_out\",\r\n\r\n  // Do zoom animation from thumbnail image when starting or closing fancybox\r\n  zoom: true,\r\n\r\n  // Animate opacity while zooming\r\n  zoomOpacity: \"auto\", // \"auto\" | true | false,\r\n\r\n  // Zoom animation friction\r\n  zoomFriction: 0.82,\r\n\r\n  // Disable zoom animation if thumbnail is visible only partly\r\n  ignoreCoveredThumbnail: false,\r\n\r\n  // Enable guestures\r\n  touch: true,\r\n\r\n  // Action to be performed when user clicks on the image\r\n  click: \"toggleZoom\", // \"toggleZoom\" | \"next\" | \"close\" | null\r\n\r\n  // Action to be performed when double-click event is detected on the image\r\n  doubleClick: null, // \"toggleZoom\" | null\r\n\r\n  // Action to be performed when user rotates a wheel button on a pointing device\r\n  wheel: \"zoom\", // \"zoom\" | \"slide\" | \"close\" | null\r\n\r\n  // How image should be resized to fit its container\r\n  fit: \"contain\", // \"contain\" | \"contain-w\" | \"cover\"\r\n\r\n  // Should create wrapping element around the image\r\n  wrap: false,\r\n\r\n  // Custom Panzoom options\r\n  Panzoom: {\r\n    ratio: 1,\r\n  },\r\n};\r\n\r\nexport class Image {\r\n  constructor(fancybox) {\r\n    this.fancybox = fancybox;\r\n\r\n    for (const methodName of [\r\n      // Fancybox\r\n      \"onReady\",\r\n      \"onClosing\",\r\n      \"onDone\",\r\n\r\n      // Fancybox.Carousel\r\n      \"onPageChange\",\r\n      \"onCreateSlide\",\r\n      \"onRemoveSlide\",\r\n\r\n      // Image load/error\r\n      \"onImageStatusChange\",\r\n    ]) {\r\n      this[methodName] = this[methodName].bind(this);\r\n    }\r\n\r\n    this.events = {\r\n      ready: this.onReady,\r\n      closing: this.onClosing,\r\n      done: this.onDone,\r\n\r\n      \"Carousel.change\": this.onPageChange,\r\n      \"Carousel.createSlide\": this.onCreateSlide,\r\n      \"Carousel.removeSlide\": this.onRemoveSlide,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Handle `ready` event to start loading content\r\n   */\r\n  onReady() {\r\n    this.fancybox.Carousel.slides.forEach((slide) => {\r\n      if (slide.$el) {\r\n        this.setContent(slide);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Handle `done` event to update cursor\r\n   * @param {Object} fancybox\r\n   * @param {Object} slide\r\n   */\r\n  onDone(fancybox, slide) {\r\n    this.handleCursor(slide);\r\n  }\r\n\r\n  /**\r\n   * Handle `closing` event to clean up all slides and to start zoom-out animation\r\n   * @param {Object} fancybox\r\n   */\r\n  onClosing(fancybox) {\r\n    clearTimeout(this.clickTimer);\r\n    this.clickTimer = null;\r\n\r\n    // Remove events\r\n    fancybox.Carousel.slides.forEach((slide) => {\r\n      if (slide.$image) {\r\n        slide.state = \"destroy\";\r\n      }\r\n\r\n      if (slide.Panzoom) {\r\n        slide.Panzoom.detachEvents();\r\n      }\r\n    });\r\n\r\n    // If possible, start the zoom animation, it will interrupt the default closing process\r\n    if (this.fancybox.state === \"closing\" && this.canZoom(fancybox.getSlide())) {\r\n      this.zoomOut();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Process `Carousel.createSlide` event to create image content\r\n   * @param {Object} fancybox\r\n   * @param {Object} carousel\r\n   * @param {Object} slide\r\n   */\r\n  onCreateSlide(fancybox, carousel, slide) {\r\n    if (this.fancybox.state !== \"ready\") {\r\n      return;\r\n    }\r\n\r\n    this.setContent(slide);\r\n  }\r\n\r\n  /**\r\n   * Handle `Carousel.removeSlide` event to do clean up the slide\r\n   * @param {Object} fancybox\r\n   * @param {Object} carousel\r\n   * @param {Object} slide\r\n   */\r\n  onRemoveSlide(fancybox, carousel, slide) {\r\n    if (slide.$image) {\r\n      slide.$el.classList.remove(fancybox.option(\"Image.canZoomInClass\"));\r\n\r\n      slide.$image.remove();\r\n      slide.$image = null;\r\n    }\r\n\r\n    if (slide.Panzoom) {\r\n      slide.Panzoom.destroy();\r\n      slide.Panzoom = null;\r\n    }\r\n\r\n    if (slide.$el && slide.$el.dataset) {\r\n      delete slide.$el.dataset.imageFit;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Build DOM elements and add event listeners\r\n   * @param {Object} slide\r\n   */\r\n  setContent(slide) {\r\n    // Check if this slide should contain an image\r\n    if (slide.isDom || slide.html || (slide.type && slide.type !== \"image\")) {\r\n      return;\r\n    }\r\n\r\n    if (slide.$image) {\r\n      return;\r\n    }\r\n\r\n    slide.type = \"image\";\r\n    slide.state = \"loading\";\r\n\r\n    // * Build layout\r\n    // Container\r\n    const $content = document.createElement(\"div\");\r\n    $content.style.visibility = \"hidden\";\r\n\r\n    // Image element\r\n    const $image = document.createElement(\"img\");\r\n\r\n    $image.addEventListener(\"load\", (event) => {\r\n      event.stopImmediatePropagation();\r\n\r\n      this.onImageStatusChange(slide);\r\n    });\r\n\r\n    $image.addEventListener(\"error\", () => {\r\n      this.onImageStatusChange(slide);\r\n    });\r\n\r\n    $image.src = slide.src;\r\n    $image.alt = \"\";\r\n    $image.draggable = false;\r\n\r\n    $image.classList.add(\"fancybox__image\");\r\n\r\n    if (slide.srcset) {\r\n      $image.setAttribute(\"srcset\", slide.srcset);\r\n    }\r\n\r\n    if (slide.sizes) {\r\n      $image.setAttribute(\"sizes\", slide.sizes);\r\n    }\r\n\r\n    slide.$image = $image;\r\n\r\n    const shouldWrap = this.fancybox.option(\"Image.wrap\");\r\n\r\n    if (shouldWrap) {\r\n      const $wrap = document.createElement(\"div\");\r\n      $wrap.classList.add(typeof shouldWrap === \"string\" ? shouldWrap : \"fancybox__image-wrap\");\r\n\r\n      $wrap.appendChild($image);\r\n\r\n      $content.appendChild($wrap);\r\n\r\n      slide.$wrap = $wrap;\r\n    } else {\r\n      $content.appendChild($image);\r\n    }\r\n\r\n    // Set data attribute if other that default\r\n    // for example, set `[data-image-fit=\"contain-w\"]`\r\n    slide.$el.dataset.imageFit = this.fancybox.option(\"Image.fit\");\r\n\r\n    // Append content\r\n    this.fancybox.setContent(slide, $content);\r\n\r\n    // Display loading icon\r\n    if ($image.complete || $image.error) {\r\n      this.onImageStatusChange(slide);\r\n    } else {\r\n      this.fancybox.showLoading(slide);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle image state change, display error or start revealing image\r\n   * @param {Object} slide\r\n   */\r\n  onImageStatusChange(slide) {\r\n    const $image = slide.$image;\r\n\r\n    if (!$image || slide.state !== \"loading\") {\r\n      return;\r\n    }\r\n\r\n    if (!($image.complete && $image.naturalWidth && $image.naturalHeight)) {\r\n      this.fancybox.setError(slide, \"{{IMAGE_ERROR}}\");\r\n\r\n      return;\r\n    }\r\n\r\n    this.fancybox.hideLoading(slide);\r\n\r\n    if (this.fancybox.option(\"Image.fit\") === \"contain\") {\r\n      this.initSlidePanzoom(slide);\r\n    }\r\n\r\n    // Add `wheel` and `click` event handler\r\n    slide.$el.addEventListener(\"wheel\", (event) => this.onWheel(slide, event), { passive: false });\r\n    slide.$content.addEventListener(\"click\", (event) => this.onClick(slide, event), { passive: false });\r\n\r\n    this.revealContent(slide);\r\n  }\r\n\r\n  /**\r\n   * Make image zoomable and draggable using Panzoom\r\n   * @param {Object} slide\r\n   */\r\n  initSlidePanzoom(slide) {\r\n    if (slide.Panzoom) {\r\n      return;\r\n    }\r\n\r\n    //* Initialize Panzoom\r\n    slide.Panzoom = new Panzoom(\r\n      slide.$el,\r\n      extend(true, this.fancybox.option(\"Image.Panzoom\", {}), {\r\n        viewport: slide.$wrap,\r\n        content: slide.$image,\r\n\r\n        wrapInner: false,\r\n\r\n        // Allow to select caption text\r\n        textSelection: true,\r\n\r\n        // Toggle gestures\r\n        touch: this.fancybox.option(\"Image.touch\"),\r\n\r\n        // This will prevent click conflict with fancybox main carousel\r\n        panOnlyZoomed: true,\r\n\r\n        // Disable default click / wheel events as custom event listeners will replace them,\r\n        // because click and wheel events should work without Panzoom\r\n        click: false,\r\n        wheel: false,\r\n      })\r\n    );\r\n\r\n    slide.Panzoom.on(\"startAnimation\", () => {\r\n      this.fancybox.trigger(\"Image.startAnimation\", slide);\r\n    });\r\n\r\n    slide.Panzoom.on(\"endAnimation\", () => {\r\n      if (slide.state === \"zoomIn\") {\r\n        this.fancybox.done(slide);\r\n      }\r\n\r\n      this.handleCursor(slide);\r\n\r\n      this.fancybox.trigger(\"Image.endAnimation\", slide);\r\n    });\r\n\r\n    slide.Panzoom.on(\"afterUpdate\", () => {\r\n      this.handleCursor(slide);\r\n\r\n      this.fancybox.trigger(\"Image.afterUpdate\", slide);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Start zoom-in animation if possible, or simply reveal content\r\n   * @param {Object} slide\r\n   */\r\n  revealContent(slide) {\r\n    // Animate only on first run\r\n    if (\r\n      this.fancybox.Carousel.prevPage === null &&\r\n      slide.index === this.fancybox.options.startIndex &&\r\n      this.canZoom(slide)\r\n    ) {\r\n      this.zoomIn();\r\n    } else {\r\n      this.fancybox.revealContent(slide);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get zoom info for selected slide\r\n   * @param {Object} slide\r\n   */\r\n  getZoomInfo(slide) {\r\n    const $thumb = slide.$thumb,\r\n      thumbRect = $thumb.getBoundingClientRect(),\r\n      thumbWidth = thumbRect.width,\r\n      thumbHeight = thumbRect.height,\r\n      //\r\n      contentRect = slide.$content.getBoundingClientRect(),\r\n      contentWidth = contentRect.width,\r\n      contentHeight = contentRect.height,\r\n      //\r\n      shiftedTop = contentRect.top - thumbRect.top,\r\n      shiftedLeft = contentRect.left - thumbRect.left;\r\n\r\n    // Check if need to update opacity\r\n    let opacity = this.fancybox.option(\"Image.zoomOpacity\");\r\n\r\n    if (opacity === \"auto\") {\r\n      opacity = Math.abs(thumbWidth / thumbHeight - contentWidth / contentHeight) > 0.1;\r\n    }\r\n\r\n    return {\r\n      top: shiftedTop,\r\n      left: shiftedLeft,\r\n      scale: thumbRect.width / contentWidth,\r\n      opacity: opacity,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Determine if it is possible to do zoom-in animation\r\n   */\r\n  canZoom(slide) {\r\n    const fancybox = this.fancybox,\r\n      $container = fancybox.$container;\r\n\r\n    if (window.visualViewport && window.visualViewport.scale !== 1) {\r\n      return false;\r\n    }\r\n\r\n    if (!fancybox.option(\"Image.zoom\") || fancybox.option(\"Image.fit\") !== \"contain\") {\r\n      return false;\r\n    }\r\n\r\n    const $thumb = slide.$thumb;\r\n\r\n    if (!$thumb || slide.state === \"loading\") {\r\n      return false;\r\n    }\r\n\r\n    // * Check if thumbnail image is really visible\r\n    $container.classList.add(\"fancybox__no-click\");\r\n\r\n    const rect = $thumb.getBoundingClientRect();\r\n\r\n    let rez;\r\n\r\n    // Check if thumbnail image is actually visible on the screen\r\n    if (this.fancybox.option(\"Image.ignoreCoveredThumbnail\")) {\r\n      const visibleTopLeft = document.elementFromPoint(rect.left + 1, rect.top + 1) === $thumb;\r\n      const visibleBottomRight = document.elementFromPoint(rect.right - 1, rect.bottom - 1) === $thumb;\r\n\r\n      rez = visibleTopLeft && visibleBottomRight;\r\n    } else {\r\n      rez = document.elementFromPoint(rect.left + rect.width * 0.5, rect.top + rect.height * 0.5) === $thumb;\r\n    }\r\n\r\n    $container.classList.remove(\"fancybox__no-click\");\r\n\r\n    return rez;\r\n  }\r\n\r\n  /**\r\n   * Perform zoom-in animation\r\n   */\r\n  zoomIn() {\r\n    const fancybox = this.fancybox,\r\n      slide = fancybox.getSlide(),\r\n      Panzoom = slide.Panzoom;\r\n\r\n    const { top, left, scale, opacity } = this.getZoomInfo(slide);\r\n\r\n    slide.state = \"zoomIn\";\r\n\r\n    fancybox.trigger(\"reveal\", slide);\r\n\r\n    // Scale and move to start position\r\n    Panzoom.panTo({\r\n      x: left * -1,\r\n      y: top * -1,\r\n      scale: scale,\r\n      friction: 0,\r\n      ignoreBounds: true,\r\n    });\r\n\r\n    slide.$content.style.visibility = \"\";\r\n\r\n    if (opacity === true) {\r\n      Panzoom.on(\"afterTransform\", (panzoom) => {\r\n        if (slide.state === \"zoomIn\" || slide.state === \"zoomOut\") {\r\n          panzoom.$content.style.opacity = Math.min(1, 1 - (1 - panzoom.content.scale) / (1 - scale));\r\n        }\r\n      });\r\n    }\r\n\r\n    // Animate back to original position\r\n    Panzoom.panTo({\r\n      x: 0,\r\n      y: 0,\r\n      scale: 1,\r\n      friction: this.fancybox.option(\"Image.zoomFriction\"),\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Perform zoom-out animation\r\n   */\r\n  zoomOut() {\r\n    const fancybox = this.fancybox,\r\n      slide = fancybox.getSlide(),\r\n      Panzoom = slide.Panzoom;\r\n\r\n    if (!Panzoom) {\r\n      return;\r\n    }\r\n\r\n    slide.state = \"zoomOut\";\r\n    fancybox.state = \"customClosing\";\r\n\r\n    if (slide.$caption) {\r\n      slide.$caption.style.visibility = \"hidden\";\r\n    }\r\n\r\n    let friction = this.fancybox.option(\"Image.zoomFriction\");\r\n\r\n    const animatePosition = (event) => {\r\n      const { top, left, scale, opacity } = this.getZoomInfo(slide);\r\n\r\n      // Increase speed on the first run if opacity is not animated\r\n      if (!event && !opacity) {\r\n        friction *= 0.82;\r\n      }\r\n\r\n      Panzoom.panTo({\r\n        x: left * -1,\r\n        y: top * -1,\r\n        scale,\r\n        friction,\r\n        ignoreBounds: true,\r\n      });\r\n\r\n      // Gradually increase speed\r\n      friction *= 0.98;\r\n    };\r\n\r\n    // Page scrolling will cause thumbnail to change position on the display,\r\n    // therefore animation end position has to be recalculated after each page scroll\r\n    window.addEventListener(\"scroll\", animatePosition);\r\n\r\n    Panzoom.once(\"endAnimation\", () => {\r\n      window.removeEventListener(\"scroll\", animatePosition);\r\n      fancybox.destroy();\r\n    });\r\n\r\n    animatePosition();\r\n  }\r\n\r\n  /**\r\n   * Set the type of mouse cursor to indicate if content is zoomable\r\n   * @param {Object} slide\r\n   */\r\n  handleCursor(slide) {\r\n    if (slide.type !== \"image\" || !slide.$el) {\r\n      return;\r\n    }\r\n\r\n    const panzoom = slide.Panzoom;\r\n    const clickAction = this.fancybox.option(\"Image.click\", false, slide);\r\n    const touchIsEnabled = this.fancybox.option(\"Image.touch\");\r\n\r\n    const classList = slide.$el.classList;\r\n\r\n    const zoomInClass = this.fancybox.option(\"Image.canZoomInClass\");\r\n    const zoomOutClass = this.fancybox.option(\"Image.canZoomOutClass\");\r\n\r\n    if (panzoom && clickAction === \"toggleZoom\") {\r\n      const canZoomIn =\r\n        panzoom && panzoom.content.scale === 1 && panzoom.option(\"maxScale\") - panzoom.content.scale > 0.01;\r\n\r\n      if (canZoomIn) {\r\n        classList.remove(zoomOutClass);\r\n        classList.add(zoomInClass);\r\n      } else if (panzoom.content.scale > 1 && !touchIsEnabled) {\r\n        classList.add(zoomOutClass);\r\n      }\r\n    } else if (clickAction === \"close\") {\r\n      classList.add(zoomOutClass);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle `wheel` event\r\n   * @param {Object} slide\r\n   * @param {Object} event\r\n   */\r\n  onWheel(slide, event) {\r\n    if (this.fancybox.state !== \"ready\") {\r\n      return;\r\n    }\r\n\r\n    if (this.fancybox.trigger(\"Image.wheel\", event) === false) {\r\n      return;\r\n    }\r\n\r\n    switch (this.fancybox.option(\"Image.wheel\")) {\r\n      case \"zoom\":\r\n        slide.Panzoom && slide.Panzoom.zoomWithWheel(event);\r\n\r\n        break;\r\n\r\n      case \"close\":\r\n        this.fancybox.close();\r\n\r\n        break;\r\n\r\n      case \"slide\":\r\n        this.fancybox[event.deltaY < 0 ? \"prev\" : \"next\"]();\r\n\r\n        break;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle `click` and `dblclick` events\r\n   * @param {Object} slide\r\n   * @param {Object} event\r\n   */\r\n  onClick(slide, event) {\r\n    // Check that clicks should be allowed\r\n    if (this.fancybox.state !== \"ready\") {\r\n      return;\r\n    }\r\n\r\n    const panzoom = slide.Panzoom;\r\n\r\n    if (\r\n      panzoom &&\r\n      (panzoom.dragPosition.midPoint ||\r\n        panzoom.dragOffset.x !== 0 ||\r\n        panzoom.dragOffset.y !== 0 ||\r\n        panzoom.dragOffset.scale !== 1)\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    if (this.fancybox.Carousel.Panzoom.lockAxis) {\r\n      return false;\r\n    }\r\n\r\n    const process = (action) => {\r\n      switch (action) {\r\n        case \"toggleZoom\":\r\n          event.stopPropagation();\r\n\r\n          slide.Panzoom && slide.Panzoom.zoomWithClick(event);\r\n\r\n          break;\r\n\r\n        case \"close\":\r\n          this.fancybox.close();\r\n\r\n          break;\r\n\r\n        case \"next\":\r\n          event.stopPropagation();\r\n\r\n          this.fancybox.next();\r\n\r\n          break;\r\n      }\r\n    };\r\n\r\n    const clickAction = this.fancybox.option(\"Image.click\");\r\n    const dblclickAction = this.fancybox.option(\"Image.doubleClick\");\r\n\r\n    if (dblclickAction) {\r\n      if (this.clickTimer) {\r\n        clearTimeout(this.clickTimer);\r\n        this.clickTimer = null;\r\n\r\n        process(dblclickAction);\r\n      } else {\r\n        this.clickTimer = setTimeout(() => {\r\n          this.clickTimer = null;\r\n          process(clickAction);\r\n        }, 300);\r\n      }\r\n    } else {\r\n      process(clickAction);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle `Carousel.change` event to reset zoom level for any zoomed in/out content\r\n   * and to revel content of the current page\r\n   * @param {Object} fancybox\r\n   * @param {Object} carousel\r\n   */\r\n  onPageChange(fancybox, carousel) {\r\n    const currSlide = fancybox.getSlide();\r\n\r\n    carousel.slides.forEach((slide) => {\r\n      if (!slide.Panzoom || slide.state !== \"done\") {\r\n        return;\r\n      }\r\n\r\n      if (slide.index !== currSlide.index) {\r\n        slide.Panzoom.panTo({\r\n          x: 0,\r\n          y: 0,\r\n          scale: 1,\r\n          friction: 0.8,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  attach() {\r\n    this.fancybox.on(this.events);\r\n  }\r\n\r\n  detach() {\r\n    this.fancybox.off(this.events);\r\n  }\r\n}\r\n\r\n// Expose defaults\r\nImage.defaults = defaults;\r\n","import { canUseDOM } from \"../../../shared/utils/canUseDOM.js\";\n\n/**\n * Helper method to split URL hash into useful pieces\n */\nconst getParsedURL = function () {\n  const hash = window.location.hash.substr(1),\n    tmp = hash.split(\"-\"),\n    index = tmp.length > 1 && /^\\+?\\d+$/.test(tmp[tmp.length - 1]) ? parseInt(tmp.pop(-1), 10) || null : null,\n    slug = tmp.join(\"-\");\n\n  return {\n    hash,\n    slug,\n    index,\n  };\n};\n\nexport class Hash {\n  constructor(fancybox) {\n    this.fancybox = fancybox;\n\n    for (const methodName of [\"onChange\", \"onClosing\"]) {\n      this[methodName] = this[methodName].bind(this);\n    }\n\n    this.events = {\n      initCarousel: this.onChange,\n      \"Carousel.change\": this.onChange,\n      closing: this.onClosing,\n    };\n\n    this.hasCreatedHistory = false;\n    this.origHash = \"\";\n    this.timer = null;\n  }\n\n  /**\n   * Process `Carousel.ready` and `Carousel.change` events to update URL hash\n   * @param {Object} fancybox\n   * @param {Object} carousel\n   */\n  onChange() {\n    const fancybox = this.fancybox;\n    const carousel = fancybox.Carousel;\n\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n\n    const firstRun = carousel.prevPage === null;\n\n    const slide = fancybox.getSlide();\n\n    const dataset = slide.$trigger && slide.$trigger.dataset;\n\n    const currentHash = window.location.hash.substr(1);\n\n    let newHash = false;\n\n    if (slide.slug) {\n      newHash = slide.slug;\n    } else {\n      let dataAttribute = dataset && dataset.fancybox;\n\n      if (dataAttribute && dataAttribute.length && dataAttribute !== \"true\") {\n        newHash = dataAttribute + (carousel.slides.length > 1 ? \"-\" + (slide.index + 1) : \"\");\n      }\n    }\n\n    if (firstRun) {\n      this.origHash = currentHash !== newHash ? this.origHash : \"\";\n    }\n\n    if (newHash && currentHash !== newHash) {\n      this.timer = setTimeout(() => {\n        try {\n          window.history[firstRun ? \"pushState\" : \"replaceState\"](\n            {},\n            document.title,\n            window.location.pathname + window.location.search + \"#\" + newHash\n          );\n\n          if (firstRun) {\n            this.hasCreatedHistory = true;\n          }\n        } catch (e) {}\n      }, 300);\n    }\n  }\n\n  /**\n   * Process `closing` event to clean up\n   */\n  onClosing() {\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n\n    // Skip if closing is triggered by pressing  browser back button or by changing hash manually\n    if (this.hasSilentClose === true) {\n      return;\n    }\n\n    // Simply make browser to move back one page in the session history,\n    // if new history entry is successfully created\n    if (!this.hasCreatedHistory) {\n      try {\n        window.history.replaceState(\n          {},\n          document.title,\n          window.location.pathname + window.location.search + (this.origHash ? \"#\" + this.origHash : \"\")\n        );\n\n        return;\n      } catch (e) {}\n    }\n\n    window.history.back();\n  }\n\n  attach(fancybox) {\n    fancybox.on(this.events);\n  }\n\n  detach(fancybox) {\n    fancybox.off(this.events);\n  }\n\n  /**\n   * Start fancybox from current URL hash,\n   * this will be called on page load OR/AND after changing URL hash\n   * @param {Class} Fancybox\n   */\n  static startFromUrl() {\n    if (!Hash.Fancybox || Hash.Fancybox.getInstance()) {\n      return;\n    }\n\n    const { hash, slug, index } = getParsedURL();\n\n    if (!slug) {\n      return;\n    }\n\n    // Support custom slug\n    // ===\n    let selectedElem = document.querySelector(`[data-slug=\"${hash}\"]`);\n\n    if (selectedElem) {\n      selectedElem.dispatchEvent(new CustomEvent(\"click\", { bubbles: true, cancelable: true }));\n    }\n\n    if (Hash.Fancybox.getInstance()) {\n      return;\n    }\n\n    // If elements are not found by custom slug, Use URL hash value as group name\n    // ===\n    const groupElems = document.querySelectorAll(`[data-fancybox=\"${slug}\"]`);\n\n    if (!groupElems.length) {\n      return;\n    }\n\n    if (index === null && groupElems.length === 1) {\n      selectedElem = groupElems[0];\n    } else if (index) {\n      selectedElem = groupElems[index - 1];\n    }\n\n    if (selectedElem) {\n      selectedElem.dispatchEvent(new CustomEvent(\"click\", { bubbles: true, cancelable: true }));\n    }\n  }\n\n  /**\n   * Handle `hash` change, change gallery item to current index or start/close current instance\n   */\n  static onHashChange() {\n    const { slug, index } = getParsedURL();\n\n    const instance = Hash.Fancybox.getInstance();\n\n    if (instance) {\n      // Look if this is inside currently active gallery\n      if (slug) {\n        const carousel = instance.Carousel;\n        /**\n         * Check if URL hash matches `data-slug` value of active element\n         */\n        for (let slide of carousel.slides) {\n          if (slide.slug && slide.slug === slug) {\n            return carousel.slideTo(slide.index);\n          }\n        }\n\n        /**\n         * Check if URL hash matches `data-fancybox` value of active element\n         */\n        const slide = instance.getSlide();\n        const dataset = slide.$trigger && slide.$trigger.dataset;\n\n        if (dataset && dataset.fancybox === slug) {\n          return carousel.slideTo(index - 1);\n        }\n      }\n\n      /**\n       * Close if no matching element found\n       */\n      instance.plugins.Hash.hasSilentClose = true;\n\n      instance.close();\n    }\n\n    /**\n     * Attempt to start\n     */\n\n    Hash.startFromUrl();\n  }\n\n  /**\n   * Add event bindings that will start new Fancybox instance based in the current URL\n   */\n  static create(Fancybox) {\n    Hash.Fancybox = Fancybox;\n\n    function proceed() {\n      window.addEventListener(\"hashchange\", Hash.onHashChange, false);\n\n      Hash.startFromUrl();\n    }\n\n    if (canUseDOM) {\n      window.requestAnimationFrame(() => {\n        if (/complete|interactive|loaded/.test(document.readyState)) {\n          proceed();\n        } else {\n          document.addEventListener(\"DOMContentLoaded\", proceed);\n        }\n      });\n    }\n  }\n\n  static destroy() {\n    window.removeEventListener(\"hashchange\", Hash.onHashChange, false);\n  }\n}\n","export const Fullscreen = {\r\n  pageXOffset: 0,\r\n  pageYOffset: 0,\r\n\r\n  element() {\r\n    return document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement;\r\n  },\r\n\r\n  activate(element) {\r\n    Fullscreen.pageXOffset = window.pageXOffset;\r\n    Fullscreen.pageYOffset = window.pageYOffset;\r\n\r\n    if (element.requestFullscreen) {\r\n      element.requestFullscreen(); // W3C spec\r\n    } else if (element.mozRequestFullScreen) {\r\n      element.mozRequestFullScreen(); // Firefox\r\n    } else if (element.webkitRequestFullscreen) {\r\n      element.webkitRequestFullscreen(); // Safari\r\n    } else if (element.msRequestFullscreen) {\r\n      element.msRequestFullscreen(); // IE/Edge\r\n    }\r\n  },\r\n\r\n  deactivate() {\r\n    if (document.exitFullscreen) {\r\n      document.exitFullscreen();\r\n    } else if (document.mozCancelFullScreen) {\r\n      document.mozCancelFullScreen();\r\n    } else if (document.webkitExitFullscreen) {\r\n      document.webkitExitFullscreen();\r\n    }\r\n  },\r\n};\r\n","export class Slideshow {\r\n  constructor(fancybox) {\r\n    this.fancybox = fancybox;\r\n    this.active = false;\r\n\r\n    this.handleVisibilityChange = this.handleVisibilityChange.bind(this);\r\n  }\r\n\r\n  isActive() {\r\n    return this.active;\r\n  }\r\n\r\n  setTimer() {\r\n    if (!this.active || this.timer) {\r\n      return;\r\n    }\r\n\r\n    const delay = this.fancybox.option(\"slideshow.delay\", 3000);\r\n\r\n    this.timer = setTimeout(() => {\r\n      this.timer = null;\r\n\r\n      if (\r\n        !this.fancybox.option(\"infinite\") &&\r\n        this.fancybox.getSlide().index === this.fancybox.Carousel.slides.length - 1\r\n      ) {\r\n        this.fancybox.jumpTo(0, { friction: 0 });\r\n      } else {\r\n        this.fancybox.next();\r\n      }\r\n    }, delay);\r\n\r\n    let $progress = this.$progress;\r\n\r\n    if (!$progress) {\r\n      $progress = document.createElement(\"div\");\r\n      $progress.classList.add(\"fancybox__progress\");\r\n\r\n      this.fancybox.$carousel.parentNode.insertBefore($progress, this.fancybox.$carousel);\r\n\r\n      this.$progress = $progress;\r\n\r\n      $progress.offsetHeight; /* trigger reflow */\r\n    }\r\n\r\n    $progress.style.transitionDuration = `${delay}ms`;\r\n    $progress.style.transform = \"scaleX(1)\";\r\n  }\r\n\r\n  clearTimer() {\r\n    clearTimeout(this.timer);\r\n    this.timer = null;\r\n\r\n    if (this.$progress) {\r\n      this.$progress.style.transitionDuration = \"\";\r\n      this.$progress.style.transform = \"\";\r\n\r\n      this.$progress.offsetHeight; /* trigger reflow */\r\n    }\r\n  }\r\n\r\n  activate() {\r\n    if (this.active) {\r\n      return;\r\n    }\r\n\r\n    this.active = true;\r\n    this.fancybox.$container.classList.add(\"has-slideshow\");\r\n\r\n    if (this.fancybox.getSlide().state === \"done\") {\r\n      this.setTimer();\r\n    }\r\n\r\n    document.addEventListener(\"visibilitychange\", this.handleVisibilityChange, false);\r\n  }\r\n\r\n  handleVisibilityChange() {\r\n    this.deactivate();\r\n  }\r\n\r\n  deactivate() {\r\n    this.active = false;\r\n\r\n    this.clearTimer();\r\n\r\n    this.fancybox.$container.classList.remove(\"has-slideshow\");\r\n\r\n    document.removeEventListener(\"visibilitychange\", this.handleVisibilityChange, false);\r\n  }\r\n\r\n  toggle() {\r\n    if (this.active) {\r\n      this.deactivate();\r\n    } else if (this.fancybox.Carousel.slides.length > 1) {\r\n      this.activate();\r\n    }\r\n  }\r\n}\r\n","import { isPlainObject } from \"../../../shared/utils/isPlainObject.js\";\r\nimport { extend } from \"../../../shared/utils/extend.js\";\r\n\r\nimport { Fullscreen } from \"../../../shared/utils/Fullscreen.js\";\r\nimport { Slideshow } from \"../../../shared/utils/Slideshow.js\";\r\n\r\nconst defaults = {\r\n  // What toolbar items to display\r\n  display: [\"counter\", \"zoom\", \"slideshow\", \"fullscreen\", \"thumbs\", \"close\"],\r\n\r\n  // Only create a toolbar item if there is at least one image in the group\r\n  autoEnable: true,\r\n\r\n  // Toolbar items; can be links, buttons or `div` elements\r\n  items: {\r\n    counter: {\r\n      type: \"div\",\r\n      class: \"fancybox__counter\",\r\n      html: '<span data-fancybox-index=\"\"></span>&nbsp;/&nbsp;<span data-fancybox-count=\"\"></span>',\r\n      tabindex: -1,\r\n      position: \"left\",\r\n    },\r\n    prev: {\r\n      type: \"button\",\r\n      class: \"fancybox__button--prev\",\r\n      label: \"PREV\",\r\n      html: '<svg viewBox=\"0 0 24 24\"><path d=\"M15 4l-8 8 8 8\"/></svg>',\r\n      click: function (event) {\r\n        event.preventDefault();\r\n\r\n        this.fancybox.prev();\r\n      },\r\n    },\r\n    next: {\r\n      type: \"button\",\r\n      class: \"fancybox__button--next\",\r\n      label: \"NEXT\",\r\n      html: '<svg viewBox=\"0 0 24 24\"><path d=\"M8 4l8 8-8 8\"/></svg>',\r\n      click: function (event) {\r\n        event.preventDefault();\r\n\r\n        this.fancybox.next();\r\n      },\r\n    },\r\n    fullscreen: {\r\n      type: \"button\",\r\n      class: \"fancybox__button--fullscreen\",\r\n      label: \"TOGGLE_FULLSCREEN\",\r\n      html: `<svg viewBox=\"0 0 24 24\">\r\n                <g><path d=\"M3 8 V3h5\"></path><path d=\"M21 8V3h-5\"></path><path d=\"M8 21H3v-5\"></path><path d=\"M16 21h5v-5\"></path></g>\r\n                <g><path d=\"M7 2v5H2M17 2v5h5M2 17h5v5M22 17h-5v5\"/></g>\r\n            </svg>`,\r\n      click: function (event) {\r\n        event.preventDefault();\r\n\r\n        if (Fullscreen.element()) {\r\n          Fullscreen.deactivate();\r\n        } else {\r\n          Fullscreen.activate(this.fancybox.$container);\r\n        }\r\n      },\r\n    },\r\n    slideshow: {\r\n      type: \"button\",\r\n      class: \"fancybox__button--slideshow\",\r\n      label: \"TOGGLE_SLIDESHOW\",\r\n      html: `<svg viewBox=\"0 0 24 24\">\r\n                <g><path d=\"M6 4v16\"/><path d=\"M20 12L6 20\"/><path d=\"M20 12L6 4\"/></g>\r\n                <g><path d=\"M7 4v15M17 4v15\"/></g>\r\n            </svg>`,\r\n      click: function (event) {\r\n        event.preventDefault();\r\n\r\n        this.Slideshow.toggle();\r\n      },\r\n    },\r\n    zoom: {\r\n      type: \"button\",\r\n      class: \"fancybox__button--zoom\",\r\n      label: \"TOGGLE_ZOOM\",\r\n      html: '<svg viewBox=\"0 0 24 24\"><circle cx=\"10\" cy=\"10\" r=\"7\"></circle><path d=\"M16 16 L21 21\"></svg>',\r\n      click: function (event) {\r\n        event.preventDefault();\r\n\r\n        const panzoom = this.fancybox.getSlide().Panzoom;\r\n\r\n        if (panzoom) {\r\n          panzoom.toggleZoom();\r\n        }\r\n      },\r\n    },\r\n    download: {\r\n      type: \"link\",\r\n      label: \"DOWNLOAD\",\r\n      class: \"fancybox__button--download\",\r\n      html: '<svg viewBox=\"0 0 24 24\"><path d=\"M12 15V3m0 12l-4-4m4 4l4-4M2 17l.62 2.48A2 2 0 004.56 21h14.88a2 2 0 001.94-1.51L22 17\"/></svg>',\r\n      click: function (event) {\r\n        event.stopPropagation();\r\n      },\r\n    },\r\n    thumbs: {\r\n      type: \"button\",\r\n      label: \"TOGGLE_THUMBS\",\r\n      class: \"fancybox__button--thumbs\",\r\n      html: '<svg viewBox=\"0 0 24 24\"><circle cx=\"4\" cy=\"4\" r=\"1\" /><circle cx=\"12\" cy=\"4\" r=\"1\" transform=\"rotate(90 12 4)\"/><circle cx=\"20\" cy=\"4\" r=\"1\" transform=\"rotate(90 20 4)\"/><circle cx=\"4\" cy=\"12\" r=\"1\" transform=\"rotate(90 4 12)\"/><circle cx=\"12\" cy=\"12\" r=\"1\" transform=\"rotate(90 12 12)\"/><circle cx=\"20\" cy=\"12\" r=\"1\" transform=\"rotate(90 20 12)\"/><circle cx=\"4\" cy=\"20\" r=\"1\" transform=\"rotate(90 4 20)\"/><circle cx=\"12\" cy=\"20\" r=\"1\" transform=\"rotate(90 12 20)\"/><circle cx=\"20\" cy=\"20\" r=\"1\" transform=\"rotate(90 20 20)\"/></svg>',\r\n      click: function (event) {\r\n        event.stopPropagation();\r\n\r\n        const thumbs = this.fancybox.plugins.Thumbs;\r\n\r\n        if (thumbs) {\r\n          thumbs.toggle();\r\n        }\r\n      },\r\n    },\r\n    close: {\r\n      type: \"button\",\r\n      label: \"CLOSE\",\r\n      class: \"fancybox__button--close\",\r\n      html: '<svg viewBox=\"0 0 24 24\"><path d=\"M20 20L4 4m16 0L4 20\"></path></svg>',\r\n      tabindex: 0,\r\n      click: function (event) {\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n\r\n        this.fancybox.close();\r\n      },\r\n    },\r\n  },\r\n};\r\n\r\nexport class Toolbar {\r\n  constructor(fancybox) {\r\n    this.fancybox = fancybox;\r\n\r\n    this.$container = null;\r\n    this.state = \"init\";\r\n\r\n    for (const methodName of [\r\n      \"onInit\",\r\n      \"onPrepare\",\r\n      \"onDone\",\r\n      \"onKeydown\",\r\n      \"onClosing\",\r\n      \"onChange\",\r\n      \"onSettle\",\r\n      \"onRefresh\",\r\n    ]) {\r\n      this[methodName] = this[methodName].bind(this);\r\n    }\r\n\r\n    this.events = {\r\n      init: this.onInit,\r\n      prepare: this.onPrepare,\r\n      done: this.onDone,\r\n      keydown: this.onKeydown,\r\n      closing: this.onClosing,\r\n\r\n      // Clear Slideshow when user strts to change current slide\r\n      \"Carousel.change\": this.onChange,\r\n\r\n      // Set timer after carousel changes current slide; deactive if last slide is reached\r\n      \"Carousel.settle\": this.onSettle,\r\n\r\n      // Deactivate Slideshow on user interaction\r\n      \"Carousel.Panzoom.touchStart\": () => this.onRefresh(),\r\n\r\n      \"Image.startAnimation\": (fancybox, slide) => this.onRefresh(slide),\r\n      \"Image.afterUpdate\": (fancybox, slide) => this.onRefresh(slide),\r\n    };\r\n  }\r\n\r\n  onInit() {\r\n    // Disable self if current group does not contain at least one image\r\n    if (this.fancybox.option(\"Toolbar.autoEnable\")) {\r\n      let hasImage = false;\r\n\r\n      for (const item of this.fancybox.items) {\r\n        if (item.type === \"image\") {\r\n          hasImage = true;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (!hasImage) {\r\n        this.state = \"disabled\";\r\n        return;\r\n      }\r\n    }\r\n\r\n    // Disable the creation of a close button, if one exists in the toolbar\r\n    for (const key of this.fancybox.option(\"Toolbar.display\")) {\r\n      const id = isPlainObject(key) ? key.id : key;\r\n\r\n      if (id === \"close\") {\r\n        this.fancybox.options.closeButton = false;\r\n\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  onPrepare() {\r\n    // Skip if disabled\r\n    if (this.state !== \"init\") {\r\n      return;\r\n    }\r\n\r\n    this.build();\r\n\r\n    this.update();\r\n\r\n    this.Slideshow = new Slideshow(this.fancybox);\r\n\r\n    if (!this.fancybox.Carousel.prevPage) {\r\n      if (this.fancybox.option(\"slideshow.autoStart\")) {\r\n        this.Slideshow.activate();\r\n      }\r\n\r\n      if (this.fancybox.option(\"fullscreen.autoStart\") && !Fullscreen.element()) {\r\n        try {\r\n          Fullscreen.activate(this.fancybox.$container);\r\n        } catch (error) {}\r\n      }\r\n    }\r\n  }\r\n\r\n  onFsChange() {\r\n    window.scrollTo(Fullscreen.pageXOffset, Fullscreen.pageYOffset);\r\n  }\r\n\r\n  onSettle() {\r\n    if (this.Slideshow && this.Slideshow.isActive()) {\r\n      if (\r\n        this.fancybox.getSlide().index === this.fancybox.Carousel.slides.length - 1 &&\r\n        !this.fancybox.option(\"infinite\")\r\n      ) {\r\n        this.Slideshow.deactivate();\r\n      } else if (this.fancybox.getSlide().state === \"done\") {\r\n        this.Slideshow.setTimer();\r\n      }\r\n    }\r\n  }\r\n\r\n  onChange() {\r\n    this.update();\r\n\r\n    if (this.Slideshow && this.Slideshow.isActive()) {\r\n      this.Slideshow.clearTimer();\r\n    }\r\n  }\r\n\r\n  onDone(fancybox, slide) {\r\n    if (slide.index === fancybox.getSlide().index) {\r\n      this.update();\r\n\r\n      if (this.Slideshow && this.Slideshow.isActive()) {\r\n        if (!this.fancybox.option(\"infinite\") && slide.index === this.fancybox.Carousel.slides.length - 1) {\r\n          this.Slideshow.deactivate();\r\n        } else {\r\n          this.Slideshow.setTimer();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  onRefresh(slide) {\r\n    if (!slide || slide.index === this.fancybox.getSlide().index) {\r\n      this.update();\r\n\r\n      if (this.Slideshow && this.Slideshow.isActive() && (!slide || slide.state === \"done\")) {\r\n        this.Slideshow.deactivate();\r\n      }\r\n    }\r\n  }\r\n\r\n  onKeydown(fancybox, key, event) {\r\n    if (key === \" \" && this.Slideshow) {\r\n      this.Slideshow.toggle();\r\n\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  onClosing() {\r\n    if (this.Slideshow) {\r\n      this.Slideshow.deactivate();\r\n    }\r\n\r\n    document.removeEventListener(\"fullscreenchange\", this.onFsChange);\r\n  }\r\n\r\n  /**\r\n   * Create link, button or `div` element for the toolbar\r\n   * @param {Object} obj\r\n   * @returns HTMLElement\r\n   */\r\n  createElement(obj) {\r\n    let $el;\r\n\r\n    if (obj.type === \"div\") {\r\n      $el = document.createElement(\"div\");\r\n    } else {\r\n      $el = document.createElement(obj.type === \"link\" ? \"a\" : \"button\");\r\n      $el.classList.add(\"carousel__button\");\r\n    }\r\n\r\n    $el.innerHTML = obj.html;\r\n\r\n    $el.setAttribute(\"tabindex\", obj.tabindex || 0);\r\n\r\n    if (obj.class) {\r\n      $el.classList.add(...obj.class.split(\" \"));\r\n    }\r\n\r\n    if (obj.label) {\r\n      $el.setAttribute(\"title\", this.fancybox.localize(`{{${obj.label}}}`));\r\n    }\r\n\r\n    if (obj.click) {\r\n      $el.addEventListener(\"click\", obj.click.bind(this));\r\n    }\r\n\r\n    if (obj.id === \"prev\") {\r\n      $el.setAttribute(\"data-fancybox-prev\", \"\");\r\n    }\r\n\r\n    if (obj.id === \"next\") {\r\n      $el.setAttribute(\"data-fancybox-next\", \"\");\r\n    }\r\n\r\n    const $svg = $el.querySelector(\"svg\");\r\n\r\n    if ($svg) {\r\n      $svg.setAttribute(\"role\", \"img\");\r\n      $svg.setAttribute(\"tabindex\", \"-1\");\r\n      $svg.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\");\r\n    }\r\n\r\n    return $el;\r\n  }\r\n\r\n  /**\r\n   * Create all DOM elements\r\n   */\r\n  build() {\r\n    this.cleanup();\r\n\r\n    const all_items = this.fancybox.option(\"Toolbar.items\");\r\n    const all_groups = [\r\n      {\r\n        position: \"left\",\r\n        items: [],\r\n      },\r\n      {\r\n        position: \"center\",\r\n        items: [],\r\n      },\r\n      {\r\n        position: \"right\",\r\n        items: [],\r\n      },\r\n    ];\r\n\r\n    const thumbs = this.fancybox.plugins.Thumbs;\r\n\r\n    // 1st step - group toolbar elements by position\r\n    for (const key of this.fancybox.option(\"Toolbar.display\")) {\r\n      let id, item;\r\n\r\n      if (isPlainObject(key)) {\r\n        id = key.id;\r\n        item = extend({}, all_items[id], key);\r\n      } else {\r\n        id = key;\r\n        item = all_items[id];\r\n      }\r\n\r\n      if ([\"counter\", \"next\", \"prev\", \"slideshow\"].includes(id) && this.fancybox.items.length < 2) {\r\n        continue;\r\n      }\r\n\r\n      if (id === \"fullscreen\") {\r\n        if (!document.fullscreenEnabled || window.fullScreen) {\r\n          continue;\r\n        }\r\n\r\n        document.addEventListener(\"fullscreenchange\", this.onFsChange);\r\n      }\r\n\r\n      if (id === \"thumbs\" && (!thumbs || thumbs.state === \"disabled\")) {\r\n        continue;\r\n      }\r\n\r\n      if (!item) {\r\n        continue;\r\n      }\r\n\r\n      let position = item.position || \"right\";\r\n\r\n      let group = all_groups.find((obj) => obj.position === position);\r\n\r\n      if (group) {\r\n        group.items.push(item);\r\n      }\r\n    }\r\n\r\n    // 2st step - create DOM elements\r\n    const $container = document.createElement(\"div\");\r\n    $container.classList.add(\"fancybox__toolbar\");\r\n\r\n    for (const group of all_groups) {\r\n      if (group.items.length) {\r\n        const $wrap = document.createElement(\"div\");\r\n        $wrap.classList.add(\"fancybox__toolbar__items\");\r\n        $wrap.classList.add(`fancybox__toolbar__items--${group.position}`);\r\n\r\n        for (const obj of group.items) {\r\n          $wrap.appendChild(this.createElement(obj));\r\n        }\r\n\r\n        $container.appendChild($wrap);\r\n      }\r\n    }\r\n\r\n    // Add toolbar container to DOM\r\n    this.fancybox.$carousel.parentNode.insertBefore($container, this.fancybox.$carousel);\r\n\r\n    this.$container = $container;\r\n  }\r\n\r\n  /**\r\n   * Update element state depending on index of current slide\r\n   */\r\n  update() {\r\n    const slide = this.fancybox.getSlide();\r\n    const idx = slide.index;\r\n    const cnt = this.fancybox.items.length;\r\n\r\n    // Download links\r\n    // ====\r\n    const src = slide.downloadSrc || (slide.type === \"image\" && !slide.error ? slide.src : null);\r\n\r\n    for (const $el of this.fancybox.$container.querySelectorAll(\"a.fancybox__button--download\")) {\r\n      if (src) {\r\n        $el.removeAttribute(\"disabled\");\r\n        $el.removeAttribute(\"tabindex\");\r\n\r\n        $el.setAttribute(\"href\", src);\r\n        $el.setAttribute(\"download\", src);\r\n        $el.setAttribute(\"target\", \"_blank\");\r\n      } else {\r\n        $el.setAttribute(\"disabled\", \"\");\r\n        $el.setAttribute(\"tabindex\", -1);\r\n\r\n        $el.removeAttribute(\"href\");\r\n        $el.removeAttribute(\"download\");\r\n      }\r\n    }\r\n\r\n    // Zoom buttons\r\n    // ===\r\n    const panzoom = slide.Panzoom;\r\n    const canZoom = panzoom && panzoom.option(\"maxScale\") > panzoom.option(\"baseScale\");\r\n\r\n    for (const $el of this.fancybox.$container.querySelectorAll(\".fancybox__button--zoom\")) {\r\n      if (canZoom) {\r\n        $el.removeAttribute(\"disabled\");\r\n      } else {\r\n        $el.setAttribute(\"disabled\", \"\");\r\n      }\r\n    }\r\n\r\n    // Counter\r\n    // ====\r\n    for (const $el of this.fancybox.$container.querySelectorAll(\"[data-fancybox-index]\")) {\r\n      $el.innerHTML = slide.index + 1;\r\n    }\r\n\r\n    for (const $el of this.fancybox.$container.querySelectorAll(\"[data-fancybox-count]\")) {\r\n      $el.innerHTML = cnt;\r\n    }\r\n\r\n    // Disable prev/next links if gallery is not infinite and reached start/end\r\n    if (!this.fancybox.option(\"infinite\")) {\r\n      for (const $el of this.fancybox.$container.querySelectorAll(\"[data-fancybox-prev]\")) {\r\n        if (idx === 0) {\r\n          $el.setAttribute(\"disabled\", \"\");\r\n        } else {\r\n          $el.removeAttribute(\"disabled\");\r\n        }\r\n      }\r\n\r\n      for (const $el of this.fancybox.$container.querySelectorAll(\"[data-fancybox-next]\")) {\r\n        if (idx === cnt - 1) {\r\n          $el.setAttribute(\"disabled\", \"\");\r\n        } else {\r\n          $el.removeAttribute(\"disabled\");\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  cleanup() {\r\n    if (this.Slideshow && this.Slideshow.isActive()) {\r\n      this.Slideshow.clearTimer();\r\n    }\r\n\r\n    if (this.$container) {\r\n      this.$container.remove();\r\n    }\r\n\r\n    this.$container = null;\r\n  }\r\n\r\n  attach() {\r\n    this.fancybox.on(this.events);\r\n  }\r\n\r\n  detach() {\r\n    this.fancybox.off(this.events);\r\n\r\n    this.cleanup();\r\n  }\r\n}\r\n\r\n// Expose defaults\r\nToolbar.defaults = defaults;\r\n","import { ScrollLock } from \"./ScrollLock/ScrollLock.js\";\nimport { Thumbs } from \"./Thumbs/Thumbs.js\";\nimport { Html } from \"./Html/Html.js\";\nimport { Image } from \"./Image/Image.js\";\nimport { Hash } from \"./Hash/Hash.js\";\nimport { Toolbar } from \"./Toolbar/Toolbar.js\";\n\nexport const Plugins = {\n  ScrollLock,\n  Thumbs,\n  Html,\n  Toolbar,\n  Image,\n  Hash,\n};\n","export default {\r\n  CLOSE: \"Close\",\r\n  NEXT: \"Next\",\r\n  PREV: \"Previous\",\r\n  MODAL: \"You can close this modal content with the ESC key\",\r\n  ERROR: \"Something Went Wrong, Please Try Again Later\",\r\n  IMAGE_ERROR: \"Image Not Found\",\r\n  ELEMENT_NOT_FOUND: \"HTML Element Not Found\",\r\n  AJAX_NOT_FOUND: \"Error Loading AJAX : Not Found\",\r\n  AJAX_FORBIDDEN: \"Error Loading AJAX : Forbidden\",\r\n  IFRAME_ERROR: \"Error Loading Page\",\r\n  TOGGLE_ZOOM: \"Toggle zoom level\",\r\n  TOGGLE_THUMBS: \"Toggle thumbnails\",\r\n  TOGGLE_SLIDESHOW: \"Toggle slideshow\",\r\n  TOGGLE_FULLSCREEN: \"Toggle full-screen mode\",\r\n  DOWNLOAD: \"Download\",\r\n};\r\n","import { extend } from \"../shared/utils/extend.js\";\nimport { canUseDOM } from \"../shared/utils/canUseDOM.js\";\n\nimport { Base } from \"../shared/Base/Base.js\";\n\nimport { Carousel } from \"../Carousel/Carousel.js\";\n\nimport { Plugins } from \"./plugins/index.js\";\n\n// Default language\nimport en from \"./l10n/en.js\";\n\n// Default settings\nconst defaults = {\n  // Index of active slide on the start\n  startIndex: 0,\n\n  // Number of slides to preload before and after active slide\n  preload: 1,\n\n  // Should navigation be infinite\n  infinite: true,\n\n  // Class name to be applied to the content to reveal it\n  showClass: \"fancybox-zoomInUp\", // \"fancybox-fadeIn\" | \"fancybox-zoomInUp\" | false\n\n  // Class name to be applied to the content to hide it\n  hideClass: \"fancybox-fadeOut\", // \"fancybox-fadeOut\" | \"fancybox-zoomOutDown\" | false\n\n  // Should backdrop and UI elements fade in/out on start/close\n  animated: true,\n\n  // If browser scrollbar should be hidden\n  hideScrollbar: true,\n\n  // Element containing main structure\n  parentEl: null,\n\n  // Custom class name or multiple space-separated class names for the container\n  mainClass: null,\n\n  // Set focus on first focusable element after displaying content\n  autoFocus: true,\n\n  // Trap focus inside Fancybox\n  trapFocus: true,\n\n  // Set focus back to trigger element after closing Fancybox\n  placeFocusBack: true,\n\n  // Action to take when the user clicks on the backdrop\n  click: \"close\", // \"close\" | \"next\" | null\n\n  // Position of the close button - over the content or at top right corner of viewport\n  closeButton: \"inside\", // \"inside\" | \"outside\"\n\n  // Allow user to drag content up/down to close instance\n  dragToClose: true,\n\n  // Enable keyboard navigation\n  keyboard: {\n    Escape: \"close\",\n    Delete: \"close\",\n    Backspace: \"close\",\n    PageUp: \"next\",\n    PageDown: \"prev\",\n    ArrowUp: \"next\",\n    ArrowDown: \"prev\",\n    ArrowRight: \"next\",\n    ArrowLeft: \"prev\",\n  },\n\n  // HTML templates for various elements\n  template: {\n    // Close button icon\n    closeButton:\n      '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" tabindex=\"-1\"><path d=\"M20 20L4 4m16 0L4 20\"/></svg>',\n    // Loading indicator icon\n    spinner:\n      '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"25 25 50 50\" tabindex=\"-1\"><circle cx=\"50\" cy=\"50\" r=\"20\"/></svg>',\n\n    // Main container element\n    main: null,\n  },\n\n  /* Note: If the `template.main` option is not provided, the structure is generated as follows by default:\n  <div class=\"fancybox__container\" role=\"dialog\" aria-modal=\"true\" aria-hidden=\"true\" aria-label=\"{{MODAL}}\" tabindex=\"-1\">\n    <div class=\"fancybox__backdrop\"></div>\n    <div class=\"fancybox__carousel\"></div>\n  </div>\n  */\n\n  // Localization of strings\n  l10n: en,\n};\n\n// Object that contains all active instances of Fancybox\nconst instances = {};\n\n// Number of Fancybox instances created, it is used to generate new instance \"id\"\nlet called = 0;\n\nclass Fancybox extends Base {\n  /**\n   * Fancybox constructor\n   * @constructs Fancybox\n   * @param {Object} [options] - Options for Fancybox\n   */\n  constructor(items, options = {}) {\n    super(extend(true, {}, defaults, options));\n\n    this.bindHandlers();\n\n    this.state = \"init\";\n\n    this.setItems(items);\n\n    this.attachPlugins(Fancybox.Plugins);\n\n    // \"init\" event marks the start of initialization and is available to plugins\n    this.trigger(\"init\");\n\n    if (this.option(\"hideScrollbar\") === true) {\n      this.hideScrollbar();\n    }\n\n    this.initLayout();\n\n    this.initCarousel();\n\n    this.attachEvents();\n\n    instances[this.id] = this;\n\n    // \"prepare\" event will trigger the creation of additional layout elements, such as thumbnails and toolbar\n    this.trigger(\"prepare\");\n\n    this.state = \"ready\";\n\n    // \"ready\" event will trigger the content to load\n    this.trigger(\"ready\");\n\n    // Reveal container\n    this.$container.setAttribute(\"aria-hidden\", \"false\");\n\n    // Focus on the first focus element in this instance\n    if (this.option(\"trapFocus\")) {\n      this.focus();\n    }\n  }\n\n  /**\n   * Bind event handlers for referencability\n   */\n  bindHandlers() {\n    for (const methodName of [\n      \"onMousedown\",\n      \"onKeydown\",\n      \"onClick\",\n\n      \"onFocus\",\n\n      \"onCreateSlide\",\n\n      \"onTouchMove\",\n      \"onTouchEnd\",\n\n      \"onTransform\",\n    ]) {\n      this[methodName] = this[methodName].bind(this);\n    }\n  }\n\n  /**\n   * Set up a functions that will be called whenever the specified event is delivered\n   */\n  attachEvents() {\n    document.addEventListener(\"mousedown\", this.onMousedown);\n    document.addEventListener(\"keydown\", this.onKeydown, true);\n\n    // Trap keyboard focus inside of the modal\n    if (this.option(\"trapFocus\")) {\n      document.addEventListener(\"focus\", this.onFocus, true);\n    }\n\n    this.$container.addEventListener(\"click\", this.onClick);\n  }\n\n  /**\n   * Removes previously registered event listeners\n   */\n  detachEvents() {\n    document.removeEventListener(\"mousedown\", this.onMousedown);\n    document.removeEventListener(\"keydown\", this.onKeydown, true);\n\n    document.removeEventListener(\"focus\", this.onFocus, true);\n\n    this.$container.removeEventListener(\"click\", this.onClick);\n  }\n\n  /**\n   * Initialize layout; create main container, backdrop nd layout for main carousel\n   */\n  initLayout() {\n    this.$root = this.option(\"parentEl\") || document.body;\n\n    // Container\n    let mainTemplate = this.option(\"template.main\");\n\n    if (mainTemplate) {\n      this.$root.insertAdjacentHTML(\"beforeend\", this.localize(mainTemplate));\n\n      this.$container = this.$root.querySelector(\".fancybox__container\");\n    }\n\n    if (!this.$container) {\n      this.$container = document.createElement(\"div\");\n      this.$root.appendChild(this.$container);\n    }\n\n    // Normally we would not need this, but Safari does not support `preventScroll:false` option for `focus` method\n    // and that causes layout issues\n    this.$container.onscroll = () => {\n      this.$container.scrollLeft = 0;\n      return false;\n    };\n\n    Object.entries({\n      class: \"fancybox__container\",\n      role: \"dialog\",\n      tabIndex: \"-1\",\n      \"aria-modal\": \"true\",\n      \"aria-hidden\": \"true\",\n      \"aria-label\": this.localize(\"{{MODAL}}\"),\n    }).forEach((args) => this.$container.setAttribute(...args));\n\n    if (this.option(\"animated\")) {\n      this.$container.classList.add(\"is-animated\");\n    }\n\n    // Backdrop\n    this.$backdrop = this.$container.querySelector(\".fancybox__backdrop\");\n\n    if (!this.$backdrop) {\n      this.$backdrop = document.createElement(\"div\");\n      this.$backdrop.classList.add(\"fancybox__backdrop\");\n\n      this.$container.appendChild(this.$backdrop);\n    }\n\n    // Carousel\n    this.$carousel = this.$container.querySelector(\".fancybox__carousel\");\n\n    if (!this.$carousel) {\n      this.$carousel = document.createElement(\"div\");\n      this.$carousel.classList.add(\"fancybox__carousel\");\n\n      this.$container.appendChild(this.$carousel);\n    }\n\n    // Make instance reference accessible\n    this.$container.Fancybox = this;\n\n    // Make sure the container has an ID\n    this.id = this.$container.getAttribute(\"id\");\n\n    if (!this.id) {\n      this.id = this.options.id || ++called;\n      this.$container.setAttribute(\"id\", \"fancybox-\" + this.id);\n    }\n\n    // Add custom class name to main element\n    const mainClass = this.options.mainClass;\n\n    if (mainClass) {\n      this.$container.classList.add(...mainClass.split(\" \"));\n    }\n\n    // Add class name for <html> element\n    document.documentElement.classList.add(\"with-fancybox\");\n\n    this.trigger(\"initLayout\");\n\n    return this;\n  }\n\n  /**\n   * Prepares slides for the corousel\n   * @returns {Array} Slides\n   */\n  setItems(items) {\n    const slides = [];\n\n    for (const slide of items) {\n      const $trigger = slide.$trigger;\n\n      if ($trigger) {\n        const dataset = $trigger.dataset || {};\n\n        slide.src = dataset.src || $trigger.getAttribute(\"href\") || slide.src;\n        slide.type = dataset.type || slide.type;\n\n        // Support items without `src`, e.g., when `data-fancybox` attribute added directly to `<img>` element\n        if (!slide.src && $trigger instanceof HTMLImageElement) {\n          slide.src = $trigger.currentSrc || slide.$trigger.src;\n        }\n      }\n\n      // Check for thumbnail element\n      let $thumb = slide.$thumb;\n\n      if (!$thumb) {\n        let origTarget = slide.$trigger && slide.$trigger.origTarget;\n\n        if (origTarget) {\n          if (origTarget instanceof HTMLImageElement) {\n            $thumb = origTarget;\n          } else {\n            $thumb = origTarget.querySelector(\"img\");\n          }\n        }\n\n        if (!$thumb && slide.$trigger) {\n          $thumb = slide.$trigger instanceof HTMLImageElement ? slide.$trigger : slide.$trigger.querySelector(\"img\");\n        }\n      }\n\n      slide.$thumb = $thumb || null;\n\n      // Get thumbnail image source\n      let thumb = slide.thumb;\n\n      if (!thumb && $thumb) {\n        thumb = $thumb.currentSrc || $thumb.src;\n\n        if (!thumb && $thumb.dataset) {\n          thumb = $thumb.dataset.lazySrc || $thumb.dataset.src;\n        }\n      }\n\n      // Assume we have image, then use it as thumbnail\n      if (!thumb && slide.type === \"image\") {\n        thumb = slide.src;\n      }\n\n      slide.thumb = thumb || null;\n\n      // Add empty caption to make things simpler\n      slide.caption = slide.caption || \"\";\n\n      slides.push(slide);\n    }\n\n    this.items = slides;\n  }\n\n  /**\n   * Initialize main Carousel that will be used to display the content\n   * @param {Array} slides\n   */\n  initCarousel() {\n    this.Carousel = new Carousel(\n      this.$carousel,\n      extend(\n        true,\n        {},\n        {\n          prefix: \"\",\n\n          classNames: {\n            viewport: \"fancybox__viewport\",\n            track: \"fancybox__track\",\n            slide: \"fancybox__slide\",\n          },\n\n          textSelection: true,\n          preload: this.option(\"preload\"),\n\n          friction: 0.88,\n\n          slides: this.items,\n          initialPage: this.options.startIndex,\n          slidesPerPage: 1,\n\n          infiniteX: this.option(\"infinite\"),\n          infiniteY: true,\n\n          l10n: this.option(\"l10n\"),\n\n          Dots: false,\n          Navigation: {\n            classNames: {\n              main: \"fancybox__nav\",\n              button: \"carousel__button\",\n\n              next: \"is-next\",\n              prev: \"is-prev\",\n            },\n          },\n\n          Panzoom: {\n            textSelection: true,\n\n            panOnlyZoomed: () => {\n              return (\n                this.Carousel && this.Carousel.pages && this.Carousel.pages.length < 2 && !this.options.dragToClose\n              );\n            },\n\n            lockAxis: () => {\n              if (this.Carousel) {\n                let rez = \"x\";\n\n                if (this.options.dragToClose) {\n                  rez += \"y\";\n                }\n\n                return rez;\n              }\n            },\n          },\n\n          on: {\n            \"*\": (name, ...details) => this.trigger(`Carousel.${name}`, ...details),\n            init: (carousel) => (this.Carousel = carousel),\n            createSlide: this.onCreateSlide,\n          },\n        },\n\n        this.option(\"Carousel\")\n      )\n    );\n\n    if (this.option(\"dragToClose\")) {\n      this.Carousel.Panzoom.on({\n        // Stop further touch event handling if content is scaled\n        touchMove: this.onTouchMove,\n\n        // Update backdrop opacity depending on vertical distance\n        afterTransform: this.onTransform,\n\n        // Close instance if drag distance exceeds limit\n        touchEnd: this.onTouchEnd,\n      });\n    }\n\n    this.trigger(\"initCarousel\");\n\n    return this;\n  }\n\n  /**\n   * Process `createSlide` event to create caption element inside new slide\n   */\n  onCreateSlide(carousel, slide) {\n    let caption = slide.caption || \"\";\n\n    if (typeof this.options.caption === \"function\") {\n      caption = this.options.caption.call(this, this, this.Carousel, slide);\n    }\n\n    if (typeof caption === \"string\" && caption.length) {\n      const $caption = document.createElement(\"div\");\n      const id = `fancybox__caption_${this.id}_${slide.index}`;\n\n      $caption.className = \"fancybox__caption\";\n      $caption.innerHTML = caption;\n      $caption.setAttribute(\"id\", id);\n\n      slide.$caption = slide.$el.appendChild($caption);\n\n      slide.$el.classList.add(\"has-caption\");\n      slide.$el.setAttribute(\"aria-labelledby\", id);\n    }\n  }\n\n  /**\n   * Handle focus event\n   * @param {Event} event - Focus event\n   */\n  onFocus(event) {\n    this.focus(event);\n  }\n\n  /**\n   * Handle click event on the container\n   * @param {Event} event - Click event\n   */\n  onClick(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    // Skip if clicked inside content area\n    if (event.target.closest(\".fancybox__content\")) {\n      return;\n    }\n\n    // Skip if text is selected\n    if (getSelection().toString().length) {\n      return;\n    }\n\n    if (this.trigger(\"click\", event) === false) {\n      return;\n    }\n\n    const action = this.option(\"click\");\n\n    switch (action) {\n      case \"close\":\n        this.close();\n        break;\n      case \"next\":\n        this.next();\n        break;\n    }\n  }\n\n  /**\n   * Handle panzoom `touchMove` event; Disable dragging if content of current slide is scaled\n   */\n  onTouchMove() {\n    const panzoom = this.getSlide().Panzoom;\n\n    return panzoom && panzoom.content.scale !== 1 ? false : true;\n  }\n\n  /**\n   * Handle panzoom `touchEnd` event; close when quick flick up/down is detected\n   * @param {Object} panzoom - Panzoom instance\n   */\n  onTouchEnd(panzoom) {\n    const distanceY = panzoom.dragOffset.y;\n\n    if (Math.abs(distanceY) >= 150 || (Math.abs(distanceY) >= 35 && panzoom.dragOffset.time < 350)) {\n      if (this.option(\"hideClass\")) {\n        this.getSlide().hideClass = `fancybox-throwOut${panzoom.content.y < 0 ? \"Up\" : \"Down\"}`;\n      }\n\n      this.close();\n    } else if (panzoom.lockAxis === \"y\") {\n      panzoom.panTo({ y: 0 });\n    }\n  }\n\n  /**\n   * Handle `afterTransform` event; change backdrop opacity based on current y position of panzoom\n   * @param {Object} panzoom - Panzoom instance\n   */\n  onTransform(panzoom) {\n    const $backdrop = this.$backdrop;\n\n    if ($backdrop) {\n      const yPos = Math.abs(panzoom.content.y);\n      const opacity = yPos < 1 ? \"\" : Math.max(0.33, Math.min(1, 1 - (yPos / panzoom.content.fitHeight) * 1.5));\n\n      this.$container.style.setProperty(\"--fancybox-ts\", opacity ? \"0s\" : \"\");\n      this.$container.style.setProperty(\"--fancybox-opacity\", opacity);\n    }\n  }\n\n  /**\n   * Handle `mousedown` event to mark that the mouse is in use\n   */\n  onMousedown() {\n    document.body.classList.add(\"is-using-mouse\");\n  }\n\n  /**\n   * Handle `keydown` event; trap focus\n   * @param {Event} event Keydown event\n   */\n  onKeydown(event) {\n    if (Fancybox.getInstance().id !== this.id) {\n      return;\n    }\n\n    document.body.classList.remove(\"is-using-mouse\");\n\n    const key = event.key;\n    const keyboard = this.option(\"keyboard\");\n\n    if (!keyboard || event.ctrlKey || event.altKey || event.shiftKey) {\n      return;\n    }\n\n    const classList = document.activeElement && document.activeElement.classList;\n    const isUIElement = classList && classList.contains(\"carousel__button\");\n\n    // Allow to close using Escape button\n    if (key !== \"Escape\" && !isUIElement) {\n      let ignoreElements =\n        event.target.isContentEditable ||\n        [\"BUTTON\", \"TEXTAREA\", \"OPTION\", \"INPUT\", \"SELECT\", \"VIDEO\"].indexOf(event.target.nodeName) !== -1;\n\n      if (ignoreElements) {\n        return;\n      }\n    }\n\n    if (this.trigger(\"keydown\", key, event) === false) {\n      return;\n    }\n\n    const action = keyboard[key];\n\n    if (typeof this[action] === \"function\") {\n      this[action]();\n    }\n  }\n\n  /**\n   * Get the active slide. This will be the first slide from the current page of the main carousel.\n   */\n  getSlide() {\n    const carousel = this.Carousel;\n\n    if (!carousel) return null;\n\n    const page = carousel.page === null ? carousel.option(\"initialPage\") : carousel.page;\n    const pages = carousel.pages || [];\n\n    if (pages.length && pages[page]) {\n      return pages[page].slides[0];\n    }\n\n    return null;\n  }\n\n  /**\n   * Place focus on the first focusable element inside current slide\n   * @param {Event} [event] - Focus event\n   */\n  focus(event) {\n    const setFocusOn = (node) => {\n      if (!node) {\n        return;\n      }\n\n      Fancybox.ignoreFocusChange = true;\n\n      try {\n        if (node.setActive) {\n          // IE/Edge\n          node.setActive();\n        } else if (Fancybox.preventScrollSupported) {\n          // Modern browsers\n          node.focus({ preventScroll: true });\n        } else {\n          // Safari\n          node.focus();\n        }\n      } catch (e) {}\n\n      Fancybox.ignoreFocusChange = false;\n    };\n\n    const FOCUSABLE_ELEMENTS = [\n      \"a[href]\",\n      \"area[href]\",\n      'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\n      \"select:not([disabled]):not([aria-hidden])\",\n      \"textarea:not([disabled]):not([aria-hidden])\",\n      \"button:not([disabled]):not([aria-hidden])\",\n      \"iframe\",\n      \"object\",\n      \"embed\",\n      \"video\",\n      \"audio\",\n      \"[contenteditable]\",\n      '[tabindex]:not([tabindex^=\"-\"]):not([disabled]):not([aria-hidden])',\n    ];\n\n    if (Fancybox.ignoreFocusChange) {\n      return;\n    }\n\n    if ([\"init\", \"closing\", \"customClosing\", \"destroy\"].indexOf(this.state) > -1) {\n      return;\n    }\n\n    const $currentSlide = this.getSlide().$el;\n\n    if (!$currentSlide) {\n      return;\n    }\n\n    if (event) {\n      event.preventDefault();\n    }\n\n    const allFocusableElems = Array.from(this.$container.querySelectorAll(FOCUSABLE_ELEMENTS));\n\n    let enabledElems = [this.$container];\n    let $firstEl;\n\n    for (let node of allFocusableElems) {\n      const isInsideSlide = $currentSlide.contains(node);\n\n      // Enable element if it's visible and is inside current slide or\n      // not inside main carousel , e.g., not inside  previous/next slide, but located, for example, inside the toolbar\n      if (node.offsetParent && (isInsideSlide || !this.Carousel.$viewport.contains(node))) {\n        enabledElems.push(node);\n\n        if (node.dataset.origTabindex !== undefined) {\n          node.tabIndex = node.dataset.tabindex;\n          node.removeAttribute(\"data-tabindex\");\n        }\n\n        if (node.hasAttribute(\"autoFocus\") || (!$firstEl && isInsideSlide)) {\n          $firstEl = node;\n        }\n      } else {\n        node.dataset.origTabindex =\n          node.dataset.origTabindex === undefined ? node.getAttribute(\"tabindex\") : node.dataset.origTabindex;\n\n        node.tabIndex = -1;\n      }\n    }\n\n    if (enabledElems.indexOf(document.activeElement) > -1) {\n      this.lastFocus = document.activeElement;\n      return;\n    }\n\n    if (!event) {\n      setFocusOn($firstEl || enabledElems[0]);\n      return;\n    }\n\n    if (!$currentSlide.contains(document.activeElement)) {\n      if (this.lastFocus === enabledElems[1]) {\n        setFocusOn(enabledElems[enabledElems.length - 1]);\n      } else {\n        let idx = enabledElems.indexOf(this.lastFocus);\n\n        if (idx < enabledElems.length - 2) {\n          setFocusOn(enabledElems[idx + 1]);\n        } else {\n          setFocusOn(enabledElems[0]);\n        }\n      }\n\n      this.lastFocus = document.activeElement;\n    }\n  }\n\n  /**\n   * Hide vertical page scrollbar and adjust right padding value of `body` element to prevent content from shifting\n   * (otherwise the `body` element may become wider and the content may expand horizontally).\n   */\n  hideScrollbar() {\n    if (!canUseDOM) {\n      return;\n    }\n\n    const scrollbarWidth = window.innerWidth - document.documentElement.getBoundingClientRect().width;\n    const id = \"fancybox-style-noscroll\";\n\n    let $style = document.getElementById(id);\n\n    if ($style) {\n      return;\n    }\n\n    if (scrollbarWidth > 0) {\n      $style = document.createElement(\"style\");\n\n      $style.id = id;\n      $style.type = \"text/css\";\n      $style.innerHTML = `.compensate-for-scrollbar {padding-right: ${scrollbarWidth}px;}`;\n\n      document.getElementsByTagName(\"head\")[0].appendChild($style);\n\n      document.body.classList.add(\"compensate-for-scrollbar\");\n    }\n  }\n\n  /**\n   * Stop hiding vertical page scrollbar\n   */\n  revealScrollbar() {\n    document.body.classList.remove(\"compensate-for-scrollbar\");\n\n    const el = document.getElementById(\"fancybox-style-noscroll\");\n\n    if (el) {\n      el.remove();\n    }\n  }\n\n  /**\n   * Remove content for given slide\n   * @param {Object} slide - Carousel slide\n   */\n  clearContent(slide) {\n    // * Clear previously added content and class name\n    this.Carousel.trigger(\"removeSlide\", slide);\n\n    if (slide.$content) {\n      slide.$content.remove();\n      slide.$content = null;\n    }\n\n    if (slide.$closeButton) {\n      slide.$closeButton.remove();\n      slide.$closeButton = null;\n    }\n\n    if (slide._className) {\n      slide.$el.classList.remove(slide._className);\n    }\n  }\n\n  /**\n   * Set new content for given slide\n   * @param {Object} slide - Carousel slide\n   * @param {HTMLElement|String} html - HTML element or string containing HTML code\n   * @param {Object} [opts] - Options\n   */\n  setContent(slide, html, opts = {}) {\n    let $content;\n\n    const $el = slide.$el;\n\n    if (html instanceof HTMLElement) {\n      if ([\"img\", \"iframe\", \"video\", \"audio\"].indexOf(html.nodeName.toLowerCase()) > -1) {\n        $content = document.createElement(\"div\");\n        $content.appendChild(html);\n      } else {\n        $content = html;\n      }\n    } else {\n      const $fragment = document.createRange().createContextualFragment(html);\n\n      $content = document.createElement(\"div\");\n      $content.appendChild($fragment);\n    }\n\n    if (slide.filter && !slide.error) {\n      $content = $content.querySelector(slide.filter);\n    }\n\n    if (!($content instanceof Element)) {\n      this.setError(slide, \"{{ELEMENT_NOT_FOUND}}\");\n\n      return;\n    }\n\n    // * Add class name indicating content type, for example `has-image`\n    slide._className = `has-${opts.suffix || slide.type || \"unknown\"}`;\n\n    $el.classList.add(slide._className);\n\n    // * Set content\n    $content.classList.add(\"fancybox__content\");\n\n    // Make sure that content is not hidden and will be visible\n    if ($content.style.display === \"none\" || getComputedStyle($content).getPropertyValue(\"display\") === \"none\") {\n      $content.style.display = slide.display || this.option(\"defaultDisplay\") || \"flex\";\n    }\n\n    if (slide.id) {\n      $content.setAttribute(\"id\", slide.id);\n    }\n\n    slide.$content = $content;\n\n    $el.prepend($content);\n\n    this.manageCloseButton(slide);\n\n    if (slide.state !== \"loading\") {\n      this.revealContent(slide);\n    }\n\n    return $content;\n  }\n\n  /**\n   * Create close button if needed\n   * @param {Object} slide\n   */\n  manageCloseButton(slide) {\n    const position = slide.closeButton === undefined ? this.option(\"closeButton\") : slide.closeButton;\n\n    if (!position || (position === \"top\" && this.$closeButton)) {\n      return;\n    }\n\n    const $btn = document.createElement(\"button\");\n\n    $btn.classList.add(\"carousel__button\", \"is-close\");\n    $btn.setAttribute(\"title\", this.options.l10n.CLOSE);\n    $btn.innerHTML = this.option(\"template.closeButton\");\n\n    $btn.addEventListener(\"click\", (e) => this.close(e));\n\n    if (position === \"inside\") {\n      // Remove existing one to avoid scope issues\n      if (slide.$closeButton) {\n        slide.$closeButton.remove();\n      }\n\n      slide.$closeButton = slide.$content.appendChild($btn);\n    } else {\n      this.$closeButton = this.$container.insertBefore($btn, this.$container.firstChild);\n    }\n  }\n\n  /**\n   * Make content visible for given slide and optionally start CSS animation\n   * @param {Object} slide - Carousel slide\n   */\n  revealContent(slide) {\n    this.trigger(\"reveal\", slide);\n\n    slide.$content.style.visibility = \"\";\n\n    // Add CSS class name that reveals content (default animation is \"fadeIn\")\n    let showClass = false;\n\n    if (\n      !(\n        slide.error ||\n        slide.state === \"loading\" ||\n        this.Carousel.prevPage !== null ||\n        slide.index !== this.options.startIndex\n      )\n    ) {\n      showClass = slide.showClass === undefined ? this.option(\"showClass\") : slide.showClass;\n    }\n\n    if (!showClass) {\n      this.done(slide);\n\n      return;\n    }\n\n    slide.state = \"animating\";\n\n    this.animateCSS(slide.$content, showClass, () => {\n      this.done(slide);\n    });\n  }\n\n  /**\n   * Add class name to given HTML element and wait for `animationend` event to execute callback\n   * @param {HTMLElement} $el\n   * @param {String} className\n   * @param {Function} callback - A callback to run\n   */\n  animateCSS($element, className, callback) {\n    if ($element) {\n      $element.dispatchEvent(new CustomEvent(\"animationend\", { bubbles: true, cancelable: true }));\n    }\n\n    if (!$element || !className) {\n      if (typeof callback === \"function\") {\n        callback();\n      }\n\n      return;\n    }\n\n    const handleAnimationEnd = function (event) {\n      if (event.currentTarget === this) {\n        $element.removeEventListener(\"animationend\", handleAnimationEnd);\n\n        if (callback) {\n          callback();\n        }\n\n        $element.classList.remove(className);\n      }\n    };\n\n    $element.addEventListener(\"animationend\", handleAnimationEnd);\n    $element.classList.add(className);\n  }\n\n  /**\n   * Mark given slide as `done`, e.g., content is loaded and displayed completely\n   * @param {Object} slide - Carousel slide\n   */\n  done(slide) {\n    slide.state = \"done\";\n\n    this.trigger(\"done\", slide);\n\n    // Trigger focus for current slide (and ignore preloaded slides)\n    const currentSlide = this.getSlide();\n\n    if (currentSlide && slide.index === currentSlide.index && this.option(\"autoFocus\")) {\n      this.focus();\n    }\n  }\n\n  /**\n   * Set error message as slide content\n   * @param {Object} slide - Carousel slide\n   * @param {String} message - Error message, can contain HTML code and template variables\n   */\n  setError(slide, message) {\n    slide.error = message;\n\n    this.hideLoading(slide);\n    this.clearContent(slide);\n\n    // Create new content\n    const div = document.createElement(\"div\");\n    div.classList.add(\"fancybox-error\");\n    div.innerHTML = this.localize(message || \"<p>{{ERROR}}</p>\");\n\n    this.setContent(slide, div, { suffix: \"error\" });\n  }\n\n  /**\n   * Create loading indicator inside given slide\n   * @param {Object} slide - Carousel slide\n   */\n  showLoading(slide) {\n    slide.state = \"loading\";\n\n    slide.$el.classList.add(\"is-loading\");\n\n    let $spinner = slide.$el.querySelector(\".fancybox__spinner\");\n\n    if ($spinner) {\n      return;\n    }\n\n    $spinner = document.createElement(\"div\");\n\n    $spinner.classList.add(\"fancybox__spinner\");\n    $spinner.innerHTML = this.option(\"template.spinner\");\n\n    $spinner.addEventListener(\"click\", () => {\n      if (!this.Carousel.Panzoom.velocity) this.close();\n    });\n\n    slide.$el.prepend($spinner);\n  }\n\n  /**\n   * Remove loading indicator from given slide\n   * @param {Object} slide - Carousel slide\n   */\n  hideLoading(slide) {\n    const $spinner = slide.$el && slide.$el.querySelector(\".fancybox__spinner\");\n\n    if ($spinner) {\n      $spinner.remove();\n\n      slide.$el.classList.remove(\"is-loading\");\n    }\n\n    if (slide.state === \"loading\") {\n      this.trigger(\"load\", slide);\n\n      slide.state = \"ready\";\n    }\n  }\n\n  /**\n   * Slide carousel to next page\n   */\n  next() {\n    const carousel = this.Carousel;\n\n    if (carousel && carousel.pages.length > 1) {\n      carousel.slideNext();\n    }\n  }\n\n  /**\n   * Slide carousel to previous page\n   */\n  prev() {\n    const carousel = this.Carousel;\n\n    if (carousel && carousel.pages.length > 1) {\n      carousel.slidePrev();\n    }\n  }\n\n  /**\n   * Slide carousel to selected page with optional parameters\n   * Examples:\n   *    Fancybox.getInstance().jumpTo(2);\n   *    Fancybox.getInstance().jumpTo(3, {friction: 0})\n   * @param  {...any} args - Arguments for Carousel `slideTo` method\n   */\n  jumpTo(...args) {\n    if (this.Carousel) this.Carousel.slideTo(...args);\n  }\n\n  /**\n   * Start closing the current instance\n   * @param {Event} [event] - Optional click event\n   */\n  close(event) {\n    if (event) event.preventDefault();\n\n    // First, stop further execution if this instance is already closing\n    // (this can happen if, for example, user clicks close button multiple times really fast)\n    if ([\"closing\", \"customClosing\", \"destroy\"].includes(this.state)) {\n      return;\n    }\n\n    // Allow callbacks and/or plugins to prevent closing\n    if (this.trigger(\"shouldClose\", event) === false) {\n      return;\n    }\n\n    this.state = \"closing\";\n\n    this.Carousel.Panzoom.destroy();\n\n    this.detachEvents();\n\n    this.trigger(\"closing\", event);\n\n    if (this.state === \"destroy\") {\n      return;\n    }\n\n    // Trigger default CSS closing animation for backdrop and interface elements\n    this.$container.setAttribute(\"aria-hidden\", \"true\");\n\n    this.$container.classList.add(\"is-closing\");\n\n    // Clear inactive slides\n    const currentSlide = this.getSlide();\n\n    this.Carousel.slides.forEach((slide) => {\n      if (slide.$content && slide.index !== currentSlide.index) {\n        this.Carousel.trigger(\"removeSlide\", slide);\n      }\n    });\n\n    // Start default closing animation\n    if (this.state === \"closing\") {\n      const hideClass = currentSlide.hideClass === undefined ? this.option(\"hideClass\") : currentSlide.hideClass;\n\n      this.animateCSS(\n        currentSlide.$content,\n        hideClass,\n        () => {\n          this.destroy();\n        },\n        true\n      );\n    }\n  }\n\n  /**\n   * Clean up after closing fancybox\n   */\n  destroy() {\n    if (this.state === \"destroy\") {\n      return;\n    }\n\n    this.state = \"destroy\";\n\n    this.trigger(\"destroy\");\n\n    const $trigger = this.option(\"placeFocusBack\") ? this.getSlide().$trigger : null;\n\n    // Destroy Carousel and then detach plugins;\n    // * Note: this order allows plugins to receive `removeSlide` event\n    this.Carousel.destroy();\n\n    this.detachPlugins();\n\n    this.Carousel = null;\n\n    this.options = {};\n    this.events = {};\n\n    this.$container.remove();\n\n    this.$container = this.$backdrop = this.$carousel = null;\n\n    if ($trigger) {\n      // `preventScroll` option is not yet supported by Safari\n      // https://bugs.webkit.org/show_bug.cgi?id=178583\n\n      if (Fancybox.preventScrollSupported) {\n        $trigger.focus({ preventScroll: true });\n      } else {\n        const scrollTop = document.body.scrollTop; // Save position\n        $trigger.focus();\n        document.body.scrollTop = scrollTop;\n      }\n    }\n\n    delete instances[this.id];\n\n    const nextInstance = Fancybox.getInstance();\n\n    if (nextInstance) {\n      nextInstance.focus();\n      return;\n    }\n\n    document.documentElement.classList.remove(\"with-fancybox\");\n    document.body.classList.remove(\"is-using-mouse\");\n\n    this.revealScrollbar();\n  }\n\n  /**\n   * Create new Fancybox instance with provided options\n   * Example:\n   *   Fancybox.show([{ src : 'https://lipsum.app/id/1/300x225' }]);\n   * @param {Array} items - Gallery items\n   * @param {Object} [options] - Optional custom options\n   * @returns {Object} Fancybox instance\n   */\n  static show(items, options = {}) {\n    return new Fancybox(items, options);\n  }\n\n  /**\n   * Starts Fancybox if event target matches any opener or target is `trigger element`\n   * @param {Event} event - Click event\n   * @param {Object} [options] - Optional custom options\n   */\n  static fromEvent(event, options = {}) {\n    //  Allow other scripts to prevent starting fancybox on click\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    // Don't run if right-click\n    if (event.button && event.button !== 0) {\n      return;\n    }\n\n    // Ignore command/control + click\n    if (event.ctrlKey || event.metaKey || event.shiftKey) {\n      return;\n    }\n\n    // Support `trigger` element, e.g., start fancybox from different DOM element, for example,\n    // to have one preview image for hidden image gallery\n    let eventTarget = event.target;\n    let triggerGroupName;\n\n    if (\n      eventTarget.matches(\"[data-fancybox-trigger]\") ||\n      (eventTarget = eventTarget.closest(\"[data-fancybox-trigger]\"))\n    ) {\n      triggerGroupName = eventTarget && eventTarget.dataset && eventTarget.dataset.fancyboxTrigger;\n    }\n\n    if (triggerGroupName) {\n      const triggerItems = document.querySelectorAll(`[data-fancybox=\"${triggerGroupName}\"]`);\n      const triggerIndex = parseInt(eventTarget.dataset.fancyboxIndex, 10) || 0;\n\n      eventTarget = triggerItems.length ? triggerItems[triggerIndex] : eventTarget;\n    }\n\n    if (!eventTarget) {\n      eventTarget = event.target;\n    }\n\n    // * Try to find matching openener\n    let matchingOpener;\n    let target;\n\n    Array.from(Fancybox.openers.keys())\n      .reverse()\n      .some((opener) => {\n        target = eventTarget;\n\n        let found = false;\n\n        try {\n          if (target instanceof Element && (typeof opener === \"string\" || opener instanceof String)) {\n            // Chain closest() to event.target to find and return the parent element,\n            // regardless if clicking on the child elements (icon, label, etc)\n            found = target.matches(opener) || (target = target.closest(opener));\n          }\n        } catch (error) {}\n\n        if (found) {\n          event.preventDefault();\n          matchingOpener = opener;\n          return true;\n        }\n\n        return false;\n      });\n\n    let rez = false;\n\n    if (matchingOpener) {\n      options.event = event;\n      options.target = target;\n\n      target.origTarget = event.target;\n\n      rez = Fancybox.fromOpener(matchingOpener, options);\n\n      // Check if the mouse is being used\n      // Waiting for better browser support for `:focus-visible` -\n      // https://drafts.csswg.org/selectors-4/#the-focus-visible-pseudo\n      const nextInstance = Fancybox.getInstance();\n\n      if (nextInstance && nextInstance.state === \"ready\" && event.detail) {\n        document.body.classList.add(\"is-using-mouse\");\n      }\n    }\n\n    return rez;\n  }\n\n  /**\n   * Starts Fancybox using selector\n   * @param {String} opener - Valid CSS selector string\n   * @param {Object} [options] - Optional custom options\n   */\n  static fromOpener(opener, options = {}) {\n    // Callback function called once for each group element that\n    // 1) converts data attributes to boolean or JSON\n    // 2) removes values that could cause issues\n    const mapCallback = function (el) {\n      const falseValues = [\"false\", \"0\", \"no\", \"null\", \"undefined\"];\n      const trueValues = [\"true\", \"1\", \"yes\"];\n\n      const dataset = Object.assign({}, el.dataset);\n      const options = {};\n\n      for (let [key, value] of Object.entries(dataset)) {\n        if (key === \"fancybox\") {\n          continue;\n        }\n\n        if (key === \"width\" || key === \"height\") {\n          options[`_${key}`] = value;\n        } else if (typeof value === \"string\" || value instanceof String) {\n          if (falseValues.indexOf(value) > -1) {\n            options[key] = false;\n          } else if (trueValues.indexOf(options[key]) > -1) {\n            options[key] = true;\n          } else {\n            try {\n              options[key] = JSON.parse(value);\n            } catch (e) {\n              options[key] = value;\n            }\n          }\n        } else {\n          options[key] = value;\n        }\n      }\n\n      if (el instanceof Element) {\n        options.$trigger = el;\n      }\n\n      return options;\n    };\n\n    let items = [],\n      index = options.startIndex || 0,\n      target = options.target || null;\n\n    // Get options\n    options = extend({}, options, Fancybox.openers.get(opener));\n\n    // Get matching nodes\n    const groupAttr = options.groupAttr === undefined ? \"data-fancybox\" : options.groupAttr;\n    const groupValue = groupAttr && target && target.getAttribute(`${groupAttr}`);\n\n    const groupAll = options.groupAll === undefined ? false : options.groupAll;\n\n    if (groupAll || groupValue) {\n      items = [].slice.call(document.querySelectorAll(opener));\n\n      if (!groupAll) {\n        items = items.filter((el) => el.getAttribute(`${groupAttr}`) === groupValue);\n      }\n    } else {\n      items = [target];\n    }\n\n    if (!items.length) {\n      return false;\n    }\n\n    // Exit if current instance is triggered from the same element\n    const currentInstance = Fancybox.getInstance();\n\n    if (currentInstance && items.indexOf(currentInstance.options.$trigger) > -1) {\n      return false;\n    }\n\n    // Index of current item in the gallery\n    index = target ? items.indexOf(target) : index;\n\n    // Convert items in a format supported by fancybox\n    items = items.map(mapCallback);\n\n    // * Create new fancybox instance\n    return new Fancybox(\n      items,\n      extend({}, options, {\n        startIndex: index,\n        $trigger: target,\n      })\n    );\n  }\n\n  /**\n   * Attach a click handler function that starts Fancybox to the selected items, as well as to all future matching elements.\n   * @param {String} selector - Selector that should match trigger elements\n   * @param {Object} [options] - Custom options\n   */\n  static bind(selector, options = {}) {\n    function attachClickEvent() {\n      document.body.addEventListener(\"click\", Fancybox.fromEvent, false);\n    }\n\n    if (!canUseDOM) {\n      return;\n    }\n\n    if (!Fancybox.openers.size) {\n      if (/complete|interactive|loaded/.test(document.readyState)) {\n        attachClickEvent();\n      } else {\n        document.addEventListener(\"DOMContentLoaded\", attachClickEvent);\n      }\n    }\n\n    Fancybox.openers.set(selector, options);\n  }\n\n  /**\n   * Remove the click handler that was attached with `bind()`\n   * @param {String} selector - A selector which should match the one originally passed to .bind()\n   */\n  static unbind(selector) {\n    Fancybox.openers.delete(selector);\n\n    if (!Fancybox.openers.size) {\n      Fancybox.destroy();\n    }\n  }\n\n  /**\n   * Immediately destroy all instances (without closing animation) and clean up all bindings..\n   */\n  static destroy() {\n    let fb;\n\n    while ((fb = Fancybox.getInstance())) {\n      fb.destroy();\n    }\n\n    Fancybox.openers = new Map();\n\n    document.body.removeEventListener(\"click\", Fancybox.fromEvent, false);\n  }\n\n  /**\n   * Retrieve instance by identifier or the top most instance, if identifier is not provided\n   * @param {String|Numeric} [id] - Optional instance identifier\n   */\n  static getInstance(id) {\n    if (id) {\n      return instances[id];\n    }\n\n    const instance = Object.values(instances)\n      .reverse()\n      .find((instance) => {\n        if (![\"closing\", \"customClosing\", \"destroy\"].includes(instance.state)) {\n          return instance;\n        }\n\n        return false;\n      });\n\n    return instance || null;\n  }\n\n  /**\n   * Close all or topmost currently active instance.\n   * @param {boolean} [all] - All or only topmost active instance\n   */\n  static close(all = true) {\n    let instance = null;\n\n    while ((instance = Fancybox.getInstance())) {\n      instance.close();\n\n      if (!all) return;\n    }\n  }\n}\n\n// Expose version\nFancybox.version = \"__VERSION__\";\n\n// Expose defaults\nFancybox.defaults = defaults;\n\n// Expose openers\nFancybox.openers = new Map();\n\n// Add default plugins\nFancybox.Plugins = Plugins;\n\n// Auto init with default options\nFancybox.bind(\"[data-fancybox]\");\n\n// Prepare plugins\nfor (const [key, Plugin] of Object.entries(Fancybox.Plugins || {})) {\n  if (typeof Plugin.create === \"function\") {\n    Plugin.create(Fancybox);\n  }\n}\n\nexport { Fancybox };\n","\nimport Splide from '../../../node_modules/@splidejs/splide';\n\nlet ProductPreviewSplide = new Splide( '.ProductPreviewSplide',{\n    pagination:false,\n    heightRatio :'1.11111',\n    direction   : 'ttb',\n    breakpoints: {\n      1099: {\n        direction   : 'ltr',\n\t\t  },\n    }\n});\nProductPreviewSplide.mount();\n\nimport { Fancybox } from \"../../../node_modules/@fancyapps/ui/src/Fancybox/Fancybox.js\";\n\nFancybox.bind('[data-fancybox=\"ProductPreview\"]', {\n    Toolbar: {\n      display: [\n        \"zoom\",\n        \"download\",\n        \"close\",\n      ],\n    },\n});\n\ndocument.getElementById('SizePreSelect').addEventListener('change', function() {\n\n  document.getElementById(this.options[SizePreSelect.selectedIndex].value).checked = true;\n\n});\n\n\nconst UpdateAndSetCSSvars = function() {\n  // set CSS vars\n  document.documentElement.style.setProperty( '--CustomNameHeight', document.getElementById('os1').offsetHeight + 12 + 'px' );\n  document.documentElement.style.setProperty( '--CartHeaderHeight', document.querySelector('.CartHeader').offsetHeight + 'px' );\n}\n// fire on load, scroll & resize\nUpdateAndSetCSSvars();\nwindow.addEventListener('scroll', UpdateAndSetCSSvars, true);\nwindow.addEventListener('resize', UpdateAndSetCSSvars, true);","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}